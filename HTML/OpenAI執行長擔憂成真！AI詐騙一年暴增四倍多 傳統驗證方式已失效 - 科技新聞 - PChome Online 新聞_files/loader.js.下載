/*!
 * version : prod/1.3.8
 * build on : Wed Apr 30 2025 02:31:44 GMT+0000 (Coordinated Universal Time)
 */!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=17)}([function(e,t,n){var r,o=n(5);try{window.top.href,r=window.top.tenmaxLoader||(window.top.tenmaxLoader={})}catch(e){r=window.tenmaxLoader||(window.tenmaxLoader={})}function a(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&200===r.status&&t(r.responseText)},r.open("GET",e,!0),r.send()}))}e.exports=Object.assign({get$:a,logState$:function(e,t,n){(n=n||{}).page=location.href,a(this.getSessionStateApiPath(e,t,n||{}))},logAdNotFoundState$:function(e,t,n){t=Object.assign(t,{reason:n,spaceId:e.spaceId}),this.get$(this.getLoaderAdNotFoundMonitorApiPath(e,t))},tenmaxLoader:r},o)},function(e,t,n){"use strict";function r(e){return"https://tenmax-static.cacafly.net/ssp"}e.exports={adcodeJsPath:function(e){var t=-1!==["beta"].indexOf(e)?"/beta":"";return"dev"===e?"http://0.0.0.0:8080/dist/adsbytenmax.js":"https://tenmax-static.cacafly.net/ssp"+t+"/adsbytenmax.js"},resolveSspHost:function(e){return-1!==["beta"].indexOf(e)?"https://beta-ssp.tenmax.io":-1!==["dev","local"].indexOf(e)?"http://localhost:58070":"https://ssp.tenmax.io"},resolveStaticHost:r}},function(e,t){e.exports={version:"prod/1.3.8",build:"prod",apiPath:"/supply/loaders/{spaceId}"}},function(e,t,n){var r=n(5);window.tenmaxLogger||(window.tenmaxLogger=new function(){var e=r.getRootWindow(),t={},n=new URLSearchParams(e.location.search).get("debug"),o=null!==n;for(var a in console)"function"==typeof console[a]&&(t[a]=o?r.print(a):function(){});var i=null!=n&&""===n.toLocaleLowerCase(),s=null!=n?n.split(","):[];return t._debug=r.print("debug"),t.registerDebug=function(e){t[e]=i||-1!==s.indexOf(e)?r.print("debug",e):function(){}},t}),e.exports=window.tenmaxLogger},function(e,t,n){var r=n(6);e.exports=function(e,t){this.rmaxloaders=e,this.options=t||{},r()}},function(e,t,n){var r=n(7),o=n(1),a=n(10),i=n(2),s=i.apiPath;function c(e,t){return console[e].bind(console,"%cTen%cMax"+(t?" "+t:"")+"%c","padding: 0.2em 0 0.2em 0.5em; font-weight:700; background: #111; color: #66ffcc","padding: 0.2em 0.5em 0.2em 0; font-weight:700; background: #111; color: #9999ff","background: inherit; color: inherit")}function d(){return console.log("window.innerWidth",window.innerWidth),u()?"PHONE":l()?"TABLET":f()?"PERSONAL_COMPUTER":"width:"+window.innerWidth}function u(){return window.innerWidth<468}function l(){return 468<=window.innerWidth&&window.innerWidth<=768}function f(){return 768<window.innerWidth}function p(e){if(null!=e){return["data-tenmax-safeframe","tenmax-safeframe"].map((function(t){return e.getAttribute(t)})).filter((function(e){return null!=e})).length>0}return!1}function h(e,t){return t.cacheBuster=a.uuid(),"?"+Object.keys(t).reduce((function(e,n){if(t.hasOwnProperty(n)){var r,o=t[n];r=void 0===o?"":"object"==typeof o?encodeURIComponent(JSON.stringify(o)):encodeURIComponent(o),e.push(encodeURIComponent(n)+"="+r)}return e}),[]).join("&")}e.exports=Object.freeze({getLoaderApiPath:function(e,t){var n=e.spaceId,r=e.sspHost,a=e.loader,i=o.resolveSspHost(r)+s.replace("{spaceId}",n);if(t){var c=a.tagElement.getAttribute("data-demo-loader");null!=c&&(t.demoLoader=c),i+=h(0,t)}return i},getLoaderDuplicateApiPath:function(e,t){var n=o.resolveSspHost(e.sspHost)+"/api/monitor/loaderDuplicate";return t&&(n+=h(0,t)),n},getLoaderAdNotFoundMonitorApiPath:function(e,t){var n=o.resolveSspHost(e.sspHost)+"/api/monitor/loaderAdNotFound";return t&&(n+=h(0,t)),n},getSessionStateApiPath:function(e,t,n){var r=e.sessionId,a=e.spaceId,i=e.sspHost,s=o.resolveSspHost(i)+"/supply/{spaceId}/{sessionId}/state/{stateName}";return s=(s=(s=s.replace("{spaceId}",a)).replace("{sessionId}",r)).replace("{stateName}",t),s+=h(0,n)},lock:r,print:c,uuid:a.uuid,onScroll$:a.onScroll$,isMobile:u,isTablet:l,isDesktop:f,detectDevice:d,isDeviceMatched:function(e,t){t=null==t||t;var n,r=d(),o=e===r;return e&&!o&&t&&(n=`版位僅允許投遞在 ${e} 裝置類型, 偵測裝置類型為 ${r} => 裝置不符合`,c("error")(n)),o},getRootWindow:function e(t,n){n=n||window;var r=(t=t||{}).selector;try{if(r)if(n.parent.document.querySelector(r))return n.parent;return p(n.frameElement)?n:null==n.frameElement||null==n.parent.frameElement?n.frameElement?n.parent:n:e(t,n.parent)}catch(e){return null}},getRootFrame:function e(t,n,r,o){n=n||window;try{var a,i;try{window.parent.document}catch(e){a=!0}p(n.frameElement)&&(i=!0);var s={};return s.inSafeFrame=a,s.inTenMaxSafeFrame=i,s.rootFrame=o,s.rootWindow=r,n===n.top||a||i?s:e(t,n.parent,n,n.frameElement)}catch(e){return null}},isTenMaxSafeFrame:p,cloneAttributes:function(e,t,n){n=n||[];for(var r=t.attributes,o=0;o<r.length;o++){var a=r[o].name,i=r[o].value;-1===n.indexOf(a)&&e.setAttribute(a,i)}},resolveSspHost:o.resolveSspHost})},function(e,t,n){e.exports=function(){var e=n(0),t=window.rmaxloaders.service,r=t.getConfig$;function o(t,n){var r={},o="loader_escape_iframe",a=null!=t.tagElement.getAttribute("data-escape-iframe-to"),i=n.escapeIframe,s=n.sessionId;return r.escapeIframe=i,new Promise(a||!1===i?function(e,t){e(n)}:function(a,i){var c=window!==window.top;if(r.isInIframe=c,c){var d=e.getRootFrame({}),u=d.inSafeFrame,l=d.inTenMaxSafeFrame;if(u&&(r.isInSafeFrame=!0),l&&(r.isTenMaxSafeFrame=!0),e.logState$(t,o,r),void 0===d.rootFrame)return void a(n);var f=d.rootFrame,p=d.rootWindow.document.createElement("script");return e.cloneAttributes(p,t.tagElement,["data-uuid"]),p.setAttribute("data-escape-iframe-to",s),t.tagElement.setAttribute("data-escape-iframe-from",s),f.parentNode.insertBefore(p,f),void f.style.setProperty("display","none","important")}return e.logState$(t,o,r),void a(n)})}t.getConfig$=function(){var e=r.apply(t,arguments),n=arguments[0].loader;return e.then((function(e){return n.sessionId=e.sessionId,o(n,e)}))}}},function(e,t,n){var r=n(8),o=n(9);function a(e){this._key=e,this._entries=[]}Object.assign(a.prototype,{acquire:function(e,t){if("function"!=typeof e)throw new Error("callback must be a function: "+e);if(t&&"function"!=typeof t)throw new Error("cleanup must be a function: "+t);var n=this._entries,r={callback:e,cleanup:t};return n.push(r),this._current||1!==n.length||this._nextSoon(),function(){var e=n.indexOf(r);e>=0&&n.splice(e,1)}},_nextSoon:function(){this._current=void 0,setTimeout(this._next.bind(this),0)},_next:function(){if(!this._current){var e=this._entries,t=e.length;if(this._resolved)for(var n,o=e.splice(0,t),a=0;a<t&&(n=o[a]);a++)n.cleanup&&n.cleanup(this._resolution);else if(t){var i=this._current=e.splice(0,1)[0],s=this;function c(){i._settled||(i._settled=!0,s._nextSoon())}try{i.callback((function(e){i._settled||(i._settled=!0,s._resolved=!0,s._resolution=e,s._nextSoon())}),c)}catch(e){c(),r.error(e)}}}}}),e.exports=function(e){if("string"!=typeof e||!e)throw new Error("Topic key must be a non-empty string: "+e);var t,n=(t=o.get())._locks||(t._locks={});return n[e]||(n[e]=new a(e))}},function(e,t){e.exports={log:console.log.bind(console),error:console.error.bind(console)}},function(e,t){e.exports=Object.freeze({get:function(){return window.rmaxloaders._ctx||(window.rmaxloaders._ctx={})}})},function(e,t){e.exports={uuid:function(){var e=Date.now();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))},onScroll$:function(e){var t=e&&e.element||window;return new Promise((function(e){t.addEventListener("scroll",(function n(){t.removeEventListener("scroll",n),e()}))}))}}},function(e,t,n){var r=n(12),o=n(13),a=n(4),i=n(14),s=n(15),c=n(0),d=(c=n(0),n(2)),u=n(16),l=n(3),f=window.rmaxloaders||(window.rmaxloaders={}),p=f.service||(f.service=new r(f,{}));function h(e){if("function"==typeof e)try{e()}catch(e){console.error(e)}}if(f.mock||(f.mock=new o(f,{})),f.uuid=c.uuid(),Array.isArray(f.cmd)){var g=f.cmd;Object.defineProperty(f,"cmd",{value:Object.freeze({push:h})}),g.forEach(h)}var m={uuid:c.uuid(),version:d.version,build:d.build,spaceId:u.spaceId,sspHost:u.sspHost,adcodeHost:u.adcodeHost,adcodeJsPath:u.adcodeJsPath,loaderScriptHost:u.loaderScriptHost,drmax:u.drmax,tagElement:u.currentScript,util:c,logger:l};m.tagElement.setAttribute("data-uuid",m.uuid),m.asset=new i(m),m.adcode=new s(m),(f.loaders=f.loaders||[]).push(m),f.patch||(f.patch=new a(f,{})),p.getConfig$({spaceId:u.spaceId,sspHost:u.sspHost,loader:m}).then((function(e){["args","sessionId","sessionTime","src","fallbackMode","scriptId"].forEach((function(t){void 0!==e[t]&&(m[t]=e[t])})),l.log("loader response :",e),m.windowEventBeforeUnloadListener=function(e){c.logState$(m,"loader_user_leave")},window.addEventListener("beforeunload",m.windowEventBeforeUnloadListener),window.addEventListener("pagehide",m.windowEventBeforeUnloadListener),"beta"===m.loaderScriptHost&&(m.src=m.src.replace("/ssp/loader/prod/shared","/ssp/loader/beta/shared"));var t=m.tagElement&&m.tagElement.getAttribute("data-loader-fallback-adcode");return void 0===m.scriptId&&"true"===t?new Promise((function(e,t){e("__NOT_A_LOADER_SPACE__")})):p.getScript$(m.src)})).then((function(e){if("__NOT_A_LOADER_SPACE__"===e){var t=m.adcode.createIns({spaceId:m.spaceId}),n=document.currentScript||document.querySelector("[data-session-id='"+m.sessionId+"']"),r=m.adcode.install();n.insertAdjacentElement("beforebegin",t),n.insertAdjacentElement("beforebegin",r)}else m._element=e._element,e(Object.freeze(m))})).catch((function(e){console.log(e),console.log(e.message),console.log(e.stack),c.logState$(m,"loader_error",{message:e.stack});var t="loader 發生錯誤 : "+e.message;c.logAdNotFoundState$(m,{},t)}))},function(e,t,n){n(2);var r=n(0);function o(e,t){this._options=t||{},this._fnc={},Object.defineProperty(e,"_register",{value:this._register.bind(this)})}Object.assign(o.prototype,{getConfig$:function(e){var t=(e=e||{}).loader,n=r.getLoaderApiPath(e,{device:r.detectDevice()}),o=t.tagElement.getAttribute("data-session-id");if(o){var a=r.tenmaxLoader[o];if(console.debug("get config in storage",a),a&&a.config)return new Promise((function(e,t){e(a.config)}))}return r.logState$(t,"loader_before_get_config",n),r.get$(n).then((function(n){var o=JSON.parse(n),a=o.sessionId;if(e.loader.sessionId=a,r.logState$(t,"loader_after_get_config",o),t.tagElement.setAttribute("data-session-id",a),r.tenmaxLoader[a]={loader:e.loader,config:o},o.escapeIframe=!0,o.args){var i=o.args,s=o.fallbackMode,c=i.forDevice;if(null!=c&&!r.isDeviceMatched(c,notify=!1)){var d="偵測裝置不符合 : 預期 "+c+", 實際 "+r.detectDevice();r.logAdNotFoundState$(t,{fallbackMode:s,innerWidth:window.innerWidth},d)}}return o}))},getScript$:function(e){var t=r.uuid(),n=this._fnc[t]={},o=this._install.bind(this,t,e),a=this._teardown.bind(this,t,e);return n.fn$=new Promise((function(e,t){n.resolve=function(t){e(t),a()},n.reject=function(e){t(e),a()},n.element=o(n.reject)}))},_install:function(e,t,n){var r=this._options.document||document,o=r.createElement("script");return o.src=t,o.setAttribute("data-id",e),o.onerror=n,setTimeout(()=>{this._container(r,this._options.scriptContainer).appendChild(o)},0),o},_teardown:function(e,t){delete this._fnc[e]},_container:function(e,t){return e=e||document,t?"string"==typeof t?e.querySelector(t):t:e.body},_register:function(e,t){var n=e.getAttribute("data-id");if(!n)throw new Error("data-id attribute not found on script element");var r=this._fnc[n];if(!r)throw new Error("Unrecognized data-id: "+n);"function"==typeof t?(t._element=e,r.resolve(t)):r.reject(new Error("Loader script should be a function: "+t))}}),e.exports=o},function(e,t,n){var r=n(1),o=n(3);function a(e,t){this._master=e,this._options=t||{},this._configMocks=[]}function i(e,t){try{if(!e.src&&!e.id&&!e.host.loader)return;if(e.src)return e.src;var n=e.host;return o=n,r.resolveStaticHost(o)+"/loader/prod/shared/"+e.id+".js"}catch(e){console.error(e)}var o}Object.assign(a.prototype,{config:function(e,t){this._configMocks.push(function(e,t){if(void 0===t)switch(typeof e){case"object":return function(){return e};case"function":return e}else if("string"==typeof e)return function(n){return n===e?t:void 0};throw new Error}(e,t)),this._injectServiceMock()},_injectServiceMock:function(){var e=this._master.service;if(!e._mocked){e._mocked=!0;var t=e.getConfig$,n=this._configMocks;e.getConfig$=function(r){for(var a,s=(r=r||{}).spaceId,c=(r.sspHost,0),d=n.length;c<d&&(a=n[c](s));c++)if(a&&(e.mock=a,a.src=i(a),console.log("res.src",a.src),a.src))return o.log("Mock SSP response for space "+s,a.src),t.apply(e,arguments).then((function(e){return Object.keys(a).forEach((function(t){e[t]=a[t]})),e}));return t.apply(e,arguments)}}}}),e.exports=a},function(e,t,n){var r=n(0),o=n(1);function a(e){var t,n;if((t=e.lastIndexOf("_local_loader_script.js"))>0)return"http://localhost:3000/asset";if((t=e.lastIndexOf("/shared/"))>0)return e.substring(0,t)+"/asset";if(!e.endsWith("/script"))throw new Error("Cannot derive asset base path from loader script src: "+e);return function(e){var t=o.resolveStaticHost(e);switch(e){case"prod":return t+"/loader/prod/asset";case"beta":return t+"/loader/beta/asset";case"local":case"dev":default:return t+"/loader/dev/asset"}}((n=e).indexOf("beta-ssp.tenmax.io")>=0?"beta":n.indexOf("ssp.tenmax.io")>=0?"prod":"dev")}function i(e){this._loader=e}Object.assign(i.prototype,{getUrl:function(e){if(!e||e.startsWith(".."))throw new Error("Illegal path: "+e);return e.startsWith("/")||(e="/"+e),this.basePath+e},get$:function(e){r.logState$(this._loader,"loader_before_get_asset");var t=r.get$(this.getUrl(e));return r.logState$(this._loader,"loader_after_get_asset"),t}}),Object.defineProperties(i.prototype,{basePath:{get:function(){return this._basePath||(this._basePath=a(this._loader._element.src))}}}),e.exports=i},function(e,t,n){n(2);var r,o=n(1),a=n(3),i=n(0);function s(e,t,n){var r=t.getAttribute(n);null!=r&&e.setAttribute(n,r)}function c(e){for(var t=e.children,n=[],r=0;r<t.length;r++){var o=t[r],a=o.offsetHeight;n.push({parent:e,target:o,targetHeight:a}),0===a&&(n=n.concat(c(o)))}return n}a.registerDebug("hideContainer");function d(e,t,n){t=void 0===t||t,a.hideContainer("hide container?",t),e.style.display=t?"none":"null";try{var r="data-tenmax-check-is-ad-empty";if(e.setAttribute(r,t),n.element.setAttribute(r,t),null!=n){var o=window.top.tenmaxLoader&&window.top.tenmaxLoader[n.sessionId];o.displayNone!=t&&(o.displayNone=t)}}catch(e){}}function u(e,t,n){var o=t.type;"attributes"!==o&&"childList"!==o||(clearTimeout(r),r=setTimeout((function(){!function(e,t){t.style.display=t.originStyleDisplay||"";var n=c(t.querySelector(".ad")),r=n.filter((function(e){return e.targetHeight>0})),o=0===r.length;a.hideContainer("check elements in container",n),a.hideContainer("check container height is empty?",o,r),d(t,o,e)}(e,n)}),1e3))}function l(e,t,n){a.hideContainer("watch container"),t.originStyleDisplay=t.style.display,setTimeout((function(){!function(e,t){var n,r=window.top.tenmaxLoader&&window.top.tenmaxLoader[e.sessionId],o=r.loader,a=r.config.scriptId,s=e.sessionId,c=e.spaceId,d=e.ad.channel,u=d.crid,l=d.rowType||[d.modType,d.adType,d.subType].join(".");d.content&&"string"==typeof d.content&&(n=function(e,t,n){try{var r=e.indexOf(t);if(-1===r)return null;var o=e.indexOf(n,r+t.length);return-1===o?null:e.substring(r+t.length,o)}catch(e){}}(d.content,'data-layout-id="','"'));var f={sessionId:s,spaceId:c,crid:u,rowType:l,loaderScriptId:a,displayNone:r.displayNone};n&&(f.ppslayoutId=n);var p=!n||n&&!(-1!=n.indexOf("mobile_bottom_")),h=!r.dispayNone,g=h&&p||!h&&!p;if(console.log("check container 是否有顯示 container -> ",h),console.log("check 廣告是否需要 container layout -> ",p),console.log("check 顯示/隱藏是否正確 -> ",g),!g){var m=m="loader 偵測容器顯示/隱藏狀態結果 : 不正確 ";f["container 是否有顯示 container"]=h,f["廣告是否需要 container layout"]=p,i.logAdNotFoundState$(o,f,m)}}(e)}),3e3);var r=new MutationObserver((function(n){n.forEach((function(n){u(e,n,t)}))}));if(r){r.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}}function f(){var e=rmaxloaders.loaders.filter(e=>{var t=document.querySelector(`ins[data-loader-uuid='${e.uuid}']`);if(null==t)return!1;var n=t.getAttribute("data-rmax-result"),r=!(!n||-1==n.indexOf("pps"));return!(0===c(t.closest(".ad")).filter((function(e){return e.targetHeight>0})).length&&!r)}),t={};e.forEach((function(e){t[e.src]=t[e.src]?[e,...t[e.src]]:[e]}));for(let e in t){var n=t[e];if(n.length>1){n=n.filter((e,t,n)=>t===n.findIndex(t=>t.spaceId===e.spaceId));for(let e=0;e<n.length;e++){var r=n[e],o=r.src;i.get$(i.getLoaderDuplicateApiPath(r,{time:r.sessionTime,referer:location.href,spaceId:r.spaceId,loaderScriptId:o.substring(o.lastIndexOf("/")+1,o.lastIndexOf("."))}))}}}}function p(e){this._loader=e}Object.assign(p.prototype,{getUrl:function(e){var t;!0===(e=e||{}).dev||this._loader.drmax;return t=this._loader.adcodeJsPath?this._loader.adcodeJsPath:o.adcodeJsPath(this._loader.adcodeHost),a.log("get adcode js :",t),t},install:function(e){i.logState$(this._loader,"loader_before_install_adcodejs"),e=e||{};var t=document.createElement("script");return t.async=!1!==e.async,t.src=this.getUrl(e),(e.container||document.body).appendChild(t),i.logState$(this._loader,"loader_after_install_adcodejs"),t},createSoftBanIns:function(e){var t=this.createIns(e);return t.setAttribute("data-rmax-soft-ban",!0),a.info("mode : soft-ban",t),t},createIns:function(e){var t=this._loader;i.logState$(t,"loader_before_create_ins"),function(e){var t=e.uuid,n=e.sessionId;if(1!==document.querySelectorAll('[data-session-id="'+n+'"]').length)throw new Error("loader "+t+" was already created ins tag")}(t);var n=(e=e||{}).spaceId||t.spaceId,r=e.document||document,o=null,c=t.tagElement;c&&(o=c.getAttribute("data-rmax-patch-iframe-overflow-hidden")),function(e,t){if(!e||"string"!=typeof e)throw new Error(t+" must be a non-empty string.")}(n,"spaceId");var d=r.createElement("ins");d.classList.add("rmax"),d.setAttribute("data-rmax-space-id",n),d.setAttribute("data-loader-uuid",t.uuid),null!==o&&d.setAttribute("data-rmax-patch-iframe-overflow-hidden",o),s(d,c,"data-demo-combo-templateKey"),s(d,c,"data-demo-native-templateKey"),d.setAttribute("data-rmax-session-id",t.sessionId||"");var u=function(e,t){var n=t.sspHost||t.adHost||"auto";switch(n){case"prod":case"beta":case"dev":case"local":return n;default:return e.sspHost}}(t,e);return u&&d.setAttribute("data-ssp-host",u),a.info("create ad tag :",d),i.logState$(t,"loader_after_create_ins"),d},onSpaceCreate:function(e,t){var n=this._loader;i.logState$(n,"loader_on_space_create");var r=e.closest(".tenmax_ad_container");a.debug("container",r),setTimeout(f,2e3);var o=window.rmaxads||(window.rmaxads={});(o.cmd||(o.cmd=[])).push((function(o){o.on("space",(function(o){o.element===e&&(i.logState$(n,"loader_on_loaderScript_callback"),t(o),o.on("display",(function(e){i.logState$(n,"loader_on_space_display",{isAdFill:void 0!==e}),a.debug("space",o),a.debug("ad",e),e?l(o,r):(a.log("ad is empty"),d(r))})))}))}))}}),e.exports=p},function(e,t){function n(e,t){return e.getAttribute(t)}var r,o=document.currentScript,a=n(o,"data-rmax-space-id")||n(o,"data-space-id");if(a||(console.debug("currentScript",o,"does not have [space id], get loader script element by querySelectorAll"),r=document.querySelectorAll('[src*="/loader.js"][data-rmax-space-id]:not([picked])')[0],console.debug("get loader by querySelectorAll",r),a=n(o=r,"data-rmax-space-id")||n(o,"data-space-id")),!o)throw new Error("Cannot locate currentScript.");if(o.setAttribute("picked",!0),!a)throw new Error("Cannot determine space id.");var i=n(o,"data-ssp-host")||n(o,"data-ssp-env")||"prod",s=n(o,"data-adcode-host"),c=n(o,"data-loader-script-host"),d=n(o,"data-adcode-js-path"),u=n(o,"data-drmax");switch(i){case"prod":case"beta":case"dev":case"local":break;default:throw new Error("Unrecognized SSP host: "+i)}e.exports=Object.freeze({currentScript:o,spaceId:a,sspHost:i,adcodeHost:s,adcodeJsPath:d,loaderScriptHost:c,drmax:u})},function(e,t,n){n(4),n(11)}]);