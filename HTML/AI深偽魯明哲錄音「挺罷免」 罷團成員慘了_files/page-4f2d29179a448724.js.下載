(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[672],{28980:(e,t,l)=>{"use strict";l.d(t,{S:()=>function e(t,l,a,n){let s=t;t.endsWith("/")&&(s=t.slice(0,-1));for(let o=0;o<l.length;++o){let c=new URL(l[o].url);if(c){var i;if((null==c?void 0:c.pathname.replace(/^\/|\/$/g,""))===s&&0===a.length){r()(n)&&a.push(n),a.push(o);break}let d=null==(i=l[o])?void 0:i.children;d&&d.length>0&&e(t,d,a,o)}}return a}});var a=l(40566),r=l.n(a)},34251:(e,t,l)=>{"use strict";l.d(t,{ThemeProvider:()=>c});var a=l(95155),r=l(51362);l(12115);var n=l(23734),s=l(27579);let i={dark:"article-dark",light:"article-light"},o={[s.L.ArticlePage]:{default:{defaultTheme:"system",enableSystem:!0,themes:["article-dark","article-light"],value:i},hknews:{defaultTheme:"light",enableSystem:!1,themes:["article-light"],value:i},twnews:{defaultTheme:"light",enableSystem:!1,themes:["article-light"],value:i},ytwstock:{defaultTheme:"dark",enableSystem:!1,themes:["article-dark"],value:i}}};function c(e){let{children:t,pageName:l,...s}=e,i=(0,n._)(),{app:{name:c}}=i,d=o[l]||{},m=c&&d[c]?d[c]:d.default;if(!(m&&(!m.condition||m.condition(i))))return t;let u={...s,...m};return(0,a.jsx)(r.N,{...u,children:t})}},39460:(e,t,l)=>{"use strict";l.d(t,{A:()=>m});var a=l(95155),r=l(29300),n=l.n(r),s=l(12115),i=l(82624),o=l(98025),c=l(57683),d=l(23734);let m=e=>{let{article:t={},className:l,videoConfig:r}=e,{items:m,videoPosition:u,vm:h={},...p}=r,x=(0,d._)(),{PlayerScriptComponent:f,isVideoPlayerApiReady:g}=(0,o.Q)(),{authed:b,bucket:v,lang:w,region:y,site:j}=x,{deviceSize:E}=((0,i.S)()||{}).common||{},N="desktop"===E,_=(0,s.useRef)(null),k="".concat(y," ").concat(j),{_rid:C,p_sec:A,pct:S,pstaid:R,pstaid_p:O,pstcat:T,pt:I,ver:M}=(0,c.cN)({article:t,requestContext:x}),D=Array.isArray(v)?v.join(","):v,L={bucket:D,lu:b?"1":"0",pct:S,pstaid:R,pt:I,ver:M},P=Object.keys(L).map(e=>"".concat(e,":").concat(L[e])).join(";"),F=m.map(e=>"".concat(e.id)).join(";");return(0,s.useEffect)(()=>{if(!g||!_.current)return;let e={...p,comscoreC4:k,expBucket:D,items:m,lang:w,pblob:P,rapid:{pageParams:{_rid:C,_w:window?window.location.href:"",p_sec:A,pct:S,pstaid:R,pstaid_p:O,pstcat:T,pt:I,site:j,ver:M,vidPos:"lead"===u?"top":"bottom"}},region:y,site:j,ui:{dock:N?{bottom:0,enable:!0,height:225,left:-1,showInfoCard:!1,threshold:10,width:400}:{enable:!1}},vm:h},{VideoPlatform:t}=window.YAHOO,{VideoPlayer:l,Events:a}=t,r=new l(e);return r.render(_.current),()=>{r.isReady()?r.destroy():r.on(a.PLAYER_READY,()=>{r.destroy()})}},[N,g,k,D,w,P,y,j,C,A,S,R,O,T,I,M,u,JSON.stringify(p),JSON.stringify(h),F]),(0,a.jsx)("div",{className:n()("aspect-[16/9]","size-full overflow-hidden rounded-lg object-cover",l),ref:_,children:f})}},50788:(e,t,l)=>{"use strict";l.d(t,{A:()=>s});var a=l(95155);l(12115);var r=l(69868),n=l(43069);let s=e=>{let{alt:t,caption:l,className:s,hrefExternal:i,href:o,loading:c,size:d}=e,{width:m}=d.resized||d.original||{},u=(0,a.jsxs)("div",{className:"mx-auto w-fit",children:[(0,a.jsx)(r.A,{alt:l||t,className:"rounded-lg",loading:c,size:d}),l&&(0,a.jsx)("figcaption",{className:"text-px14 text-dolphin mt-2 wrap-anywhere",style:{maxWidth:m},dangerouslySetInnerHTML:{__html:l}})]});return o?(0,a.jsx)(n.Rl,{className:s,dataYlk:{elm:"img",elmt:"link",itc:0,sec:"content-canvas"},href:o,rel:i?"noopener noreferrer nofollow":void 0,target:i?"_blank":void 0,children:u}):(0,a.jsx)("figure",{className:s,children:u})}},51914:(e,t,l)=>{"use strict";l.d(t,{default:()=>rJ});var a,r,n,s,i,o,c,d,m,u,h,p,x,f,g,b,v,w,y,j,E,N,_,k,C,A,S,R,O,T,I,M,D,L,P,F,U,B,z,q,H=l(95155),W=l(43069),G=l(91959),Y=l.n(G),K=l(12115),V=l(37011),X=l(82163),J=l(51476),$=l(97394),Q=l(94458),Z=l(29300),ee=l.n(Z),et=l(78034),el=l(62086);let ea=e=>{let{countdown:t=2,enabled:l,className:a="relative",contentClassName:r,size:n=32,backgroundColor:s="#00000099",strokeWidth:i=2,strokeRounded:o,strokeColor:c="#FFFFFF",strokeTrackColor:d="#464E56",onClick:m,children:u}=e,h=100*i/n,p=50-h/2,x=2*Math.PI*p,[f,g]=(0,K.useState)(t>0?t+1:0),[b,v]=(0,K.useState)(t<=0),w=(0,K.useRef)(void 0),y=!(f>0)&&b,j=(0,K.useRef)(null),E=(0,K.useRef)(null),N=y?E:j,_=(0,K.useCallback)(()=>{clearInterval(w.current),v(!1),g(e=>e<=0?(clearInterval(w.current),0):(w.current=setTimeout(_,1e3),e-1))},[]),k=(0,K.useMemo)(()=>Math.min(f,t),[t,f]),C=(0,K.useMemo)(()=>{if(t<=0)return 0;let e=(t-k)/t*x;return x-e},[t,k,x]);return(0,K.useEffect)(()=>(l&&t>0&&setTimeout(_),()=>{clearInterval(w.current)}),[l,t,_]),(0,H.jsxs)("button",{className:ee()(a,"cursor-pointer border-0 p-0"),style:{height:n,width:n},disabled:!y,onClick:m,children:[(0,H.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",width:n,height:n,viewBox:"0 0 100 100",children:[(0,H.jsx)("circle",{cx:"50",cy:"50",r:p,fill:s,stroke:d,strokeWidth:h}),(0,H.jsx)("circle",{cx:"50",cy:"50",r:p,fill:"none",stroke:c,strokeDasharray:x,strokeWidth:h,strokeLinecap:o?"round":"butt",transform:"rotate(-90 50 50)",style:{strokeDashoffset:C,transition:"stroke-dashoffset 1s linear"},onTransitionEnd:()=>v(!0)})]}),(0,H.jsx)("div",{className:"absolute top-0 left-0 flex h-full w-full items-center justify-center text-[16px] leading-none text-white",children:(0,H.jsx)(et.A,{mode:"in-out",children:(0,H.jsx)(el.A,{nodeRef:N,addEndListener:e=>{var t;return null==(t=N.current)?void 0:t.addEventListener("transitionend",e)},classNames:"fade",children:(0,H.jsx)("span",{ref:N,className:ee()("absolute",r),children:y?u:k})},Number(y))})})]})};var er=l(28364);let en="cover-ad-wall",es=()=>{try{let e=localStorage.getItem(en)||"{}";return JSON.parse(e)}catch(e){return{articleViewed:0,lastArticle:"",lastShown:0}}},ei=e=>{let t=es();Object.assign(t,e);try{localStorage.setItem(en,JSON.stringify(t))}catch(e){}},eo=()=>{ei({articleViewed:0,lastArticle:"",lastShown:0})},ec=e=>{let{lastShown:t}=es();return!("number"==typeof t&&t+e>Date.now())&&(0!==t&&eo(),!0)},ed=e=>{let{lastArticle:t}=es();return ei({lastArticle:e}),t===e},em=e=>{let{articleViewed:t}=es();return ei({articleViewed:++t}),"number"!=typeof t||!(t<e)},eu=()=>{ei({articleViewed:0,lastShown:Date.now()})},eh=e=>{var t;let{enabled:l,benjiPositionConfig:a,articleViewInterval:r=2,expiryPeriod:n,articleId:s,onMIProcessed:i,countdown:o}=e,[c,d]=(0,K.useState)(!1),[m,u]=(0,K.useState)(!1),h=(0,K.useCallback)(()=>{let e=document.getElementById(a.id),t=null==e?void 0:e.children[0],l=null==t?void 0:t.children[0];l&&[t,l].forEach(e=>{e&&(e.style.width="100%",e.style.height="100%")})},[a.id]),p=(0,K.useCallback)(e=>{e.data.id===a.id&&(d(!1),eu(),i())},[a.id,i]),x=(0,K.useCallback)(e=>{e.data.id===a.id&&(h(),u(!0),eu(),document.body.style.overflow="hidden")},[a.id,h]),f=(0,K.useCallback)(()=>{ec(n)&&!ed(s)&&em(r)?d(!0):i()},[n,s,r,i]),g=(0,K.useRef)(!1);return(0,K.useEffect)(()=>{l&&!g.current&&(f(),g.current=!0)},[l,f]),(0,H.jsxs)("div",{className:ee()("fixed top-0 left-0 z-(--z-index-30) h-[100vh] w-full bg-[#00000099] p-6",m?"block":"hidden"),children:[(0,H.jsx)("div",{className:"relative h-full",children:(0,H.jsx)(er.A,{id:a.id,isMain:!1,kvs:a.kvs,size:a.size,unitCode:null==(t=a.kvs)?void 0:t.loc,shouldRender:c,placeholderSize:"topCenterMi",onSucceeded:x,onFailed:p})}),(0,H.jsx)(ea,{className:"absolute top-[20px] right-[20px]",enabled:m,countdown:o,onClick:()=>{u(!1),d(!1),i(),document.body.style.overflow="auto"},children:(0,H.jsx)($.In,{name:Q.F,className:"h-[20px] w-[20px]",color:"white"})})]})};var ep=l(16605);function ex(){return(ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(null,arguments)}let ef=function(e){return K.createElement("svg",ex({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,fill:"none"},e),a||(a=K.createElement("circle",{cx:16,cy:16,r:15.5,fill:"#000",fillOpacity:.6,stroke:"#fff"})),r||(r=K.createElement("path",{fill:"#fff",d:"m16 14.823-4.415-4.415a.833.833 0 0 0-1.173.004.83.83 0 0 0-.003 1.173L14.823 16l-4.414 4.414a.833.833 0 0 0 .003 1.174.827.827 0 0 0 1.173.003L16 17.176l4.415 4.415a.832.832 0 0 0 1.176-1.177L17.177 16l4.414-4.415a.833.833 0 0 0-.003-1.173.83.83 0 0 0-1.173-.004z"})))},eg="videoAdLastViewedAt",eb=()=>{try{return parseInt(localStorage.getItem(eg)||"0",10)}catch(e){return 0}},ev=()=>{try{localStorage.setItem(eg,Date.now().toString())}catch(e){}},ew=e=>{let t=eb();return Date.now()-t<e},ey=e=>{let{expiryPeriod:t,onVideoProcessed:l}=e,a="sda-video-btm-center-iframe",[r,n]=(0,K.useState)(!1),[s,i]=(0,K.useState)(!1),o=(0,K.useRef)(!1);(0,K.useEffect)(()=>{o.current||(ew(t)?l():n(!0),o.current=!0)},[t,l]);let c=(0,K.useCallback)(()=>{let e=document.getElementById(a),t=null==e?void 0:e.children[0],l=null==t?void 0:t.children[0];l&&[t,l].forEach(e=>{e&&(e.style.width="100%",e.style.height="100%")})},[a]),d=(0,K.useCallback)(e=>{"sda-video-btm-center-iframe"===e.data.id&&(c(),i(!0),ev())},[c]),m=(0,K.useCallback)(e=>{"sda-video-btm-center-iframe"===e.data.id&&(n(!1),l())},[l]);return(0,H.jsxs)("div",{className:ee()("bg-video-ad-bg fixed bottom-0 left-0 z-(--z-index-20) w-full",s?"block":"hidden"),children:[(0,H.jsx)("button",{onClick:()=>{i(!1),n(!1)},className:"absolute -top-[36px] right-1 cursor-pointer",children:(0,H.jsx)(ef,{})}),(0,H.jsx)(er.A,{disableRefresh:!0,gptSetting:{safeFrameConfig:{allowOverlayExpansion:!0}},id:a,isMain:!1,onSucceeded:d,onFailed:m,kvs:{loc:"btm_center"},placeholderSize:"btmCenter",size:[[1,150]],unitCode:"btm_center",shouldRender:r})]})};var ej=l(62362),eE=l(74692),eN=l(19633),e_=l(71881),ek=l(85559),eC=function(e){return e.BIKE="BIKE",e.CAR="CAR",e.USED_CAR="USED_CAR",e}({});let eA=e=>{let{autos:t,i13nConfig:l,type:a}=e,r=(0,V.A)(),n=function(e){switch(e){case"BIKE":return"relatedAutos.RELATED_BIKE";case"CAR":return"relatedAutos.RELATED_CAR";case"USED_CAR":return"relatedAutos.RELATED_USED_CAR";default:return""}}(a),s=n?r.formatMessage({id:n}):"",i=r.formatMessage({id:"TEN_THOUSAND"}),o=function(e){switch(e){case"BIKE":return"bike";case"CAR":return"car";case"USED_CAR":return"used";default:return""}}(a);return(0,H.jsxs)("div",{className:"mb-module-gap",children:[s&&(0,H.jsx)(ek.A,{text:s,titleClassName:"text-px20",titleWrapperClassName:"mb-3"}),(0,H.jsx)("ul",{className:"no-scrollbar flex w-full snap-x snap-mandatory items-start overflow-scroll","data-test-locator":"autos-scroller-".concat(o),children:t.map((e,t)=>{let{displayName:a,imageAlt:r,imageUrl:n,price:s,url:c}=e;return(0,H.jsxs)("li",{className:"border-grey-hair relative mr-2 block w-[190px] flex-none snap-center overflow-hidden rounded-lg border border-solid",children:[(0,H.jsx)("img",{className:"block",alt:r,src:n,width:190,height:106}),(0,H.jsxs)("div",{className:"bg-marshmallow min-h-[84px] px-2 pt-1 pb-2",children:[(0,H.jsx)(W.Rl,{href:c,target:"_blank",rel:"noopener noreferrer",className:"after:tw-stretched-box text-batcave text-px16 mb-1 line-clamp-2 block font-bold",dataYlk:{...l,slk:a,subsec:o},"aria-label":a,"data-test-locator":"related-autos-name",children:a}),s>0&&(0,H.jsx)("div",{className:"text-highlight-red text-px16 line-clamp-1 font-bold","data-test-locator":"related-autos-price",children:"$ ".concat(s," ").concat(i)})]})]},"auto-".concat(t))})})]})},eS={elm:"hdln",itc:0,sec:"rel-autos"},eR=e=>{let{i13nConfig:t=eS,shouldFetchRelatedAutos:l,uuid:a}=e,r=(0,K.useCallback)(()=>(0,eN.ad)({uuid:a}),[a]),{data:{relatedBikes:n,relatedCars:s,usedCars:i}}=(0,e_.s)({fetchFn:r,initialData:{relatedBikes:[],relatedCars:[],usedCars:[]},stopFetching:!l}),o=n.length>0,c=s.length>0,d=i.length>0,m=o||c||d;return((0,K.useEffect)(()=>{m&&(0,W.sq)("related-autos","rel-autos")},[m]),m)?(0,H.jsxs)("section",{id:"related-autos",children:[o&&(0,H.jsx)(eA,{autos:n,i13nConfig:t,type:eC.BIKE}),c&&(0,H.jsx)(eA,{autos:s,i13nConfig:t,type:eC.CAR}),d&&(0,H.jsx)(eA,{autos:i,i13nConfig:t,type:eC.USED_CAR})]}):null};function eO(){return(eO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(null,arguments)}let eT=function(e){return K.createElement("svg",eO({xmlns:"http://www.w3.org/2000/svg",width:7,height:12,fill:"none"},e),n||(n=K.createElement("path",{fill:"#232A31",d:"M.314 5.934a.6.6 0 0 0 .055.246q.048.11.144.205l5.414 5.298a.61.61 0 0 0 .45.184.62.62 0 0 0 .541-.307.6.6 0 0 0 .082-.315.63.63 0 0 0-.178-.444L1.846 5.934l4.976-4.868A.63.63 0 0 0 7 .622a.6.6 0 0 0-.082-.314.623.623 0 0 0-.54-.308.63.63 0 0 0-.451.178L.513 5.482a.7.7 0 0 0-.144.212.5.5 0 0 0-.055.24"})))};function eI(){return(eI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(null,arguments)}let eM=function(e){return K.createElement("svg",eI({xmlns:"http://www.w3.org/2000/svg",width:7,height:12,fill:"none"},e),s||(s=K.createElement("path",{fill:"#232A31",d:"M6.686 5.934a.6.6 0 0 1-.055.246.7.7 0 0 1-.144.205l-5.414 5.298a.61.61 0 0 1-.45.184.62.62 0 0 1-.541-.307.6.6 0 0 1-.082-.315q0-.253.178-.444l4.976-4.867L.178 1.066A.63.63 0 0 1 0 .622.6.6 0 0 1 .082.308.623.623 0 0 1 .622 0q.267 0 .451.178l5.414 5.304a.7.7 0 0 1 .144.212.5.5 0 0 1 .055.24"})))};function eD(){return(eD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(null,arguments)}let eL=function(e){return K.createElement("svg",eD({xmlns:"http://www.w3.org/2000/svg",width:7,height:12,fill:"none"},e),i||(i=K.createElement("path",{fill:"#B0B9C1",d:"M.314 6.066q0-.129.055-.246a.7.7 0 0 1 .144-.205L5.927.317a.61.61 0 0 1 .45-.184.62.62 0 0 1 .541.307A.6.6 0 0 1 7 .755q0 .254-.178.444L1.846 6.066l4.976 4.868a.63.63 0 0 1 .178.444.6.6 0 0 1-.082.314.623.623 0 0 1-.54.308.63.63 0 0 1-.451-.178L.513 6.518a.7.7 0 0 1-.144-.212.5.5 0 0 1-.055-.24"})))};function eP(){return(eP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(null,arguments)}let eF=function(e){return K.createElement("svg",eP({xmlns:"http://www.w3.org/2000/svg",width:7,height:12,fill:"none"},e),o||(o=K.createElement("path",{fill:"#B0B9C1",d:"M6.686 6.066a.6.6 0 0 0-.055-.246.7.7 0 0 0-.144-.205L1.073.317a.61.61 0 0 0-.45-.184.62.62 0 0 0-.541.307A.6.6 0 0 0 0 .755q0 .254.178.444l4.976 4.867-4.976 4.868a.63.63 0 0 0-.178.444.6.6 0 0 0 .082.314q.082.144.226.226Q.45 12 .622 12q.267 0 .451-.178l5.414-5.304a.7.7 0 0 0 .144-.212.5.5 0 0 0 .055-.24"})))},eU=e=>{let{className:t,hideTitleMarker:l=!1,items:a,title:r="",titleWrapperClass:n="mb-3"}=e,s=(0,K.useRef)(null),[i,o]=(0,K.useState)("leftEdge"),c=()=>{let e=s.current;e&&(0===e.scrollLeft?o("leftEdge"):Math.ceil(e.scrollLeft+e.clientWidth)>=e.scrollWidth?o("rightEdge"):o("inProgress"))},d=e=>{let t=s.current;if(t){let l=t.offsetWidth;t.scrollBy({left:l*e})}};(0,K.useEffect)(()=>{let e=s.current;return e&&e.addEventListener("scroll",c),()=>{null==e||e.removeEventListener("scroll",c)}},[]);let m=a.length;return!Array.isArray(a)||m<=0?null:(0,H.jsxs)("div",{className:t,children:[(0,H.jsxs)("div",{className:ee()("flex items-center",{"justify-between":""!==r,"justify-end":""===r},n),children:[r&&(0,H.jsx)(ek.A,{text:r,titleClassName:"text-px20",titleMarkerClassName:l?"hidden":"lg:block",titleWrapperClassName:"mb-0"}),m>2&&(0,H.jsxs)("div",{className:"hidden gap-x-2 lg:flex",children:[(0,H.jsx)("button",{className:ee()("border-dirty-seagull flex h-7 w-7 items-center justify-center rounded-full",{"bg-marshmallow":"leftEdge"===i,"cursor-pointer border bg-[#FCFBFB]":"leftEdge"!==i}),disabled:"leftEdge"===i,onClick:()=>d(-1),children:"leftEdge"==i?(0,H.jsx)(eL,{}):(0,H.jsx)(eT,{})}),(0,H.jsx)("button",{className:ee()("border-dirty-seagull flex h-7 w-7 items-center justify-center rounded-full",{"bg-marshmallow":"rightEdge"===i,"cursor-pointer border bg-[#FCFBFB]":"rightEdge"!==i}),disabled:"rightEdge"===i,onClick:()=>d(1),children:"rightEdge"==i?(0,H.jsx)(eF,{}):(0,H.jsx)(eM,{})})]})]}),(0,H.jsx)("div",{ref:s,className:ee()("no-scrollbar flex snap-x snap-mandatory scroll-smooth",{"-mx-5 overflow-x-auto md:-mx-2":m>2}),children:a.map((e,t)=>{let l=1===m,a=t===m-1;return(0,H.jsx)("div",{className:ee()("flex-shrink-0 snap-start",{"-mr-3 pr-2 pl-5 md:mr-0 md:pl-2":!l&&!a,"mr-3 pr-2 pl-5 md:mr-0 md:pl-2":!l&&a,"w-[85%] lg:w-1/2":!l,"w-full px-2":l}),children:e},t)})})]})};var eB=l(82624),ez=l(23734);let eq={square:"184x184",video:"498x280"},eH=e=>{let{content:t,isDesktopException:l=!1,i13nConfig:a}=e,{href:r,imgSrcs:{video:n,square:s},participant:i,providerName:o,title:c,topic:d}=t,m=l?n:s||n;return(0,H.jsx)(W.Rl,{href:r,dataYlk:a,"aria-label":"".concat(d,"-").concat(c),children:(0,H.jsxs)("div",{className:ee()("group bg-marshmallow hover:shadow-elevation-3 hover:bg-main-level-1 border-marshmallow hover:border-card-stroke-level-1 flex h-[92px] min-h-[60px] rounded-lg border duration-300 lg:h-[120px] lg:min-h-[104px]",{"lg:h-[140px]":l}),children:[m&&(0,H.jsx)("div",{className:"h-[100%] flex-shrink-0 overflow-hidden rounded-lg",children:(0,H.jsx)("img",{className:ee()("aspect-square h-[100%] transform transition duration-300 ease-out group-hover:scale-105",{"aspect-video":l}),src:m,alt:"",loading:"lazy"})}),(0,H.jsxs)("div",{className:ee()("my-auto flex-col",m?"px-4":"px-5"),children:[d&&(0,H.jsx)("span",{className:"text-px14 text-brand-yahoo-purple line-clamp-1 leading-5 font-bold",children:d}),(0,H.jsx)("h3",{className:"text-px16 lg:text-px18 text-batcave my-0.5 line-clamp-2 leading-[21px] font-bold lg:my-1 lg:leading-[27px]",children:c}),i&&(0,H.jsx)("span",{className:"text-px12 text-dolphin lg:text-px14 line-clamp-1 font-normal",children:"".concat(i.toLocaleString(),"人已參與")}),o&&(0,H.jsx)("span",{className:"text-px12 text-dolphin lg:text-px14 line-clamp-1 font-normal",children:o})]})]})})},eW={pk:"PK",poll:"Y民調",topics:"新聞專輯",ybrain:"Y頭腦"},eG="相關推薦",eY=(e,t)=>{let{id:l,abuContentType:a,title:r}=e,n="participant"in e?e.participant:void 0,s="url"in e?e.url:"",i="",o="";if("image"in e){var c,d,m,u,h,p,x,f;let{image:t}=e;i=null!=(p=null!=(h=null==(d=t.resolutions)||null==(c=d.find(e=>e.tag===eq.video))?void 0:c.url)?h:t.originalUrl)?p:"",o=null!=(f=null!=(x=null==(u=t.resolutions)||null==(m=u.find(e=>e.tag===eq.square))?void 0:m.url)?x:t.originalUrl)?f:""}return{content:{href:s,imgSrcs:{square:o,video:i},participant:n,title:r,topic:eW[a]},i13nConfig:{cpos:t+1,elm:"hdln",itc:0,pos:1,sec:"rel-original",slk:r,subsec:a},id:l}},eK=e=>{let{articleIndex:t=0,uuid:l}=e,a=(0,eB.S)(),{device:r,imageFormat:n,lang:s,region:i,site:o}=(0,ez._)(),{deviceSize:c}=a.common,d=(0,K.useCallback)(async()=>{try{return await (0,eN.hI)({contextParams:{device:r,imageFormat:n,lang:s,region:i,site:o},params:{contentCount:4,imageSizes:"".concat(eq.square,",").concat(eq.video),property:"TOPIC,PK,POLL,YBRAIN",uuid:l}})}catch(e){return[]}},[r,n,s,i,o,l]),{data:m}=(0,e_.s)({fetchDeps:[d],fetchFn:d,initialData:[]}),u=m.length>0,h="".concat("related-recommended","-").concat(t);if((0,K.useEffect)(()=>{u&&(0,W.sq)(u?h:"","rel-original")},[u,h]),!u)return null;let p="desktop"===c&&1===m.length,x=m.map((e,t)=>{let{content:l,i13nConfig:a}=eY(e,t);return(0,H.jsx)("div",{className:ee()("mb-5 lg:mt-1",{"lg:mr-[5px]":t===m.length-1&&m.length>2}),children:(0,H.jsx)(eH,{content:l,i13nConfig:a,isDesktopException:p})},t)});return(0,H.jsxs)("div",{id:h,children:[(0,H.jsx)(eU,{items:x,title:eG,className:"hidden lg:block"}),(0,H.jsx)(ek.A,{text:eG,titleWrapperClassName:"lg:hidden mb-3",titleClassName:"text-px20"}),(0,H.jsx)("div",{className:"block lg:hidden",children:x})]})};var eV=l(18788),eX=l(93977),eJ=l(94066),e$=l(98703);function eQ(){return(eQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(null,arguments)}let eZ=function(e){return K.createElement("svg",eQ({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor"},e),c||(c=K.createElement("path",{fillRule:"evenodd",d:"M13.619 21.666v-8.362h2.78l.415-3.26H13.62v-2.08c0-.944.26-1.587 1.6-1.587h1.708V3.46a23 23 0 0 0-2.49-.128c-2.464 0-4.15 1.519-4.15 4.308v2.404H7.5v3.259h2.787v8.362z",clipRule:"evenodd"})),K.createElement("mask",{id:"facebookTransparent_svg__a",width:10,height:19,x:7,y:3,maskUnits:"userSpaceOnUse",style:{maskType:"luminance"}},d||(d=K.createElement("path",{fillRule:"evenodd",d:"M13.619 21.666v-8.362h2.78l.415-3.26H13.62v-2.08c0-.944.26-1.587 1.6-1.587h1.708V3.46a23 23 0 0 0-2.49-.128c-2.464 0-4.15 1.519-4.15 4.308v2.404H7.5v3.259h2.787v8.362z",clipRule:"evenodd"}))))};function e0(){return(e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(null,arguments)}let e1=function(e){return K.createElement("svg",e0({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"none"},e),m||(m=K.createElement("path",{fill:"currentColor",d:"M19.511 5.407S14.304.661 7.014 4.497c-1.5.79-2.813 1.925-3.63 3.413-.883 1.605-1.422 3.918-.047 6.75 0 0 1.83 3.775 7.552 4.497 0 0 1.118 0 .978 1.213l.007 1.154a.522.522 0 0 0 .77.462c1.684-.894 5.807-3.354 8.826-7.378-.001-.007 3.32-4.865-1.959-9.2M9.021 13.46a.13.13 0 0 1-.13.129h-2.75a.13.13 0 0 1-.129-.129V9.29a.13.13 0 0 1 .129-.13h.77a.13.13 0 0 1 .128.13v3.143a.13.13 0 0 0 .13.13H8.89a.13.13 0 0 1 .13.128zm1.637-.009a.13.13 0 0 1-.129.129h-.77a.13.13 0 0 1-.129-.129V9.288a.13.13 0 0 1 .13-.128h.769a.13.13 0 0 1 .129.128zm4.632 0a.13.13 0 0 1-.129.129h-.933a.13.13 0 0 1-.107-.058l-1.532-2.31a.13.13 0 0 0-.21-.004.13.13 0 0 0-.027.076v2.164a.13.13 0 0 1-.037.09.13.13 0 0 1-.091.038h-.77a.13.13 0 0 1-.128-.128V9.288a.13.13 0 0 1 .128-.128h.931a.13.13 0 0 1 .108.057l1.533 2.31a.129.129 0 0 0 .236-.071V9.288a.13.13 0 0 1 .129-.128h.77a.13.13 0 0 1 .128.128zm3.506-3.435a.13.13 0 0 1-.13.128h-1.622a.13.13 0 0 0-.13.13v.479a.13.13 0 0 0 .13.129h1.623a.13.13 0 0 1 .13.128v.77a.13.13 0 0 1-.13.129h-1.753v.655h1.753a.13.13 0 0 1 .13.128v.77a.13.13 0 0 1-.13.128h-2.65a.13.13 0 0 1-.129-.128V9.246a.13.13 0 0 1 .129-.129h2.65a.13.13 0 0 1 .13.129z"})))};function e2(){return(e2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(null,arguments)}let e4=function(e){return K.createElement("svg",e2({xmlns:"http://www.w3.org/2000/svg",width:21,height:21,fill:"none"},e),u||(u=K.createElement("g",{clipPath:"url(#whatsAppTransparent_svg__a)"},K.createElement("path",{fill:"currentColor",d:"m.548 20.5 1.406-5.136A9.9 9.9 0 0 1 .63 10.41C.634 4.946 5.08.5 10.542.5c2.65 0 5.14 1.033 7.01 2.907a9.85 9.85 0 0 1 2.9 7.011c-.002 5.465-4.448 9.91-9.91 9.91a9.9 9.9 0 0 1-4.74-1.206zm5.497-3.172c1.397.829 2.73 1.325 4.494 1.326 4.54 0 8.238-3.695 8.24-8.237a8.235 8.235 0 0 0-8.234-8.244c-4.543 0-8.239 3.695-8.24 8.237-.001 1.854.542 3.242 1.455 4.695l-.833 3.04zm9.49-4.554c-.062-.103-.227-.165-.476-.289-.247-.124-1.464-.723-1.692-.806-.227-.082-.392-.124-.558.124-.164.248-.64.806-.784.971s-.289.186-.536.062-1.046-.385-1.992-1.23c-.736-.656-1.233-1.467-1.377-1.715-.145-.248-.015-.382.108-.505.112-.111.247-.29.372-.434s.166-.247.25-.413c.082-.165.041-.31-.021-.434-.063-.123-.558-1.343-.764-1.838-.201-.483-.405-.418-.557-.425l-.475-.009a.9.9 0 0 0-.66.31c-.227.249-.867.847-.867 2.066 0 1.22.888 2.397 1.011 2.562.124.165 1.746 2.666 4.23 3.739.59.255 1.053.408 1.412.522.593.188 1.133.161 1.56.098.476-.07 1.465-.6 1.671-1.178.207-.579.207-1.075.144-1.178"}))),h||(h=K.createElement("defs",null,K.createElement("clipPath",{id:"whatsAppTransparent_svg__a"},K.createElement("path",{fill:"currentColor",d:"M.5.5h20v20H.5z"})))))};var e5=l(91754);let e3=e=>{let{shareLink:t,uuid:l,enableComment:a,commentCount:r,expandComments:n,collapseComments:s}=e;(0,W.ip)("social-share","social-share");let{region:i,device:o,app:c}=(0,ez._)(),d="smartphone"===o,m=(0,e5.LX)(c),u=(0,V.A)(),h="https://www.facebook.com/dialog/feed?app_id=458584288257241&link=".concat(encodeURIComponent("".concat(t,"?soc_src=social-sh&soc_trk=fb&tsrc=fb"))),p="https://lineit.line.me/share/ui?url=".concat(encodeURIComponent("".concat(t,"?soc_src=social-sh&soc_trk=li"))),x="https://api.whatsapp.com/send?text=".concat(encodeURIComponent("".concat(t,"?soc_src=social-sh&soc_trk=wa"))),f="mr-4 last:mr-0 lg:mr-5 rounded-[50%] inline-flex items-center justify-center border border-solid border-dirty-seagull w-[44px] h-[44px] lg:w-[52px] lg:h-[52px]",g={g:l,sec:"social-share",subsec:"article-bottom"},[b,v]=(0,K.useState)(!1),w=a?(0,H.jsxs)("button",{className:"border-brand-yahoo-purple text-brand-yahoo-purple lg:text-px20 hover:bg-main-hover-background-level-2 hover:shadow-bottom-shadow inline-flex h-[44px] w-[100%] items-center justify-center rounded-[99px] border border-solid px-6 leading-5 font-bold lg:h-[52px] lg:w-auto",onClick:()=>{(0,W.px)({elm:"cmmt_open",g:l,itc:1,sec:"cmmts",slk:"cmmt_open",subsec:"article-bottom"}),d?n():(b?s():n(),v(!b))},children:[(0,H.jsx)($.In,{size:"md",variant:"outline",name:ej.h}),(0,H.jsxs)("span",{className:"ml-1",children:[u.formatMessage({id:"VIEW_COMMENTS"}),void 0!==r&&"(".concat(r,")")]}),!d&&b&&(0,H.jsx)($.In,{name:eV.r,variant:"fill",size:"md",className:"ml-2"}),!d&&!b&&(0,H.jsx)($.In,{name:eX.y,variant:"fill",size:"md",className:"ml-2"})]}):null,y=(0,H.jsxs)("div",{id:"social-share",className:"mt-4 flex flex-row items-center justify-center lg:order-first lg:mt-0 lg:mr-8",children:[(0,H.jsx)(W.Rl,{className:(0,e$.n)(f,"group flex hover:bg-[#0766ff]"),dataYlk:{...g,elm:"share",itc:0,slk:"Facebook"},href:h,target:"_blank","aria-label":"分享至Facebook",children:(0,H.jsx)(eZ,{className:"text-icon-primary group-hover:text-icon-inverted block"})}),"TW"===i&&(0,H.jsx)(W.Rl,{className:(0,e$.n)(f,"group flex hover:bg-[#07be5b]"),dataYlk:{...g,elm:"share",itc:0,slk:"Line"},href:p,target:"_blank","aria-label":"分享至Line",children:(0,H.jsx)(e1,{className:"text-icon-primary group-hover:text-icon-inverted"})}),"HK"===i&&(0,H.jsx)(W.Rl,{className:(0,e$.n)(f,"group flex hover:bg-[#2ad26a]"),dataYlk:{...g,elm:"share",itc:0,slk:"whatsapp"},href:x,target:"_blank","aria-label":"分享至WhatsApp",children:(0,H.jsx)(e4,{className:"text-icon-primary group-hover:text-icon-inverted"})}),(0,H.jsx)(W.sC,{className:(0,e$.n)(f,"group hover:bg-brand-yahoo-purple text-icon-primary hover:text-icon-inverted flex cursor-pointer"),dataYlk:{...g,elm:"btn",itc:1,slk:"Copy"},onClick:async()=>{try{await navigator.clipboard.writeText(t)}catch(e){}},"aria-label":"share-link",children:(0,H.jsx)($.In,{size:"md",variant:"outline",name:eJ.N})})]});return(0,H.jsxs)("div",{className:"mb-7.5 lg:mb-5 lg:flex lg:items-center lg:justify-center",children:[w,!m&&y]})};var e6=l(37553),e8=l(57683),e7=l(45798);let e9=function(e,t){let l=[];for(let a=0;a<t;++a){let t=e[a]||[];l.push(...t)}return[...new Set(l)].join(",")};var te=l(76612),tt=l(55028);let tl=e=>{let{text:t,isLive:l}=e;return(0,H.jsxs)("div",{className:ee()("inline-flex items-center rounded px-[6px] py-[3px]",l?"bg-solo-cup":"bg-dolphin"),children:[l&&(0,H.jsx)("div",{className:"mr-[7px] ml-[3px] h-[6px] w-[6px] rounded-full bg-white"}),(0,H.jsx)("h3",{className:"text-px12 font-bold text-white",children:t})]})},ta=()=>{let e=(0,V.A)();return(0,H.jsx)("div",{className:"bg-marshmallow text-px14 text-dolphin mb-[12px] flex items-center justify-center rounded-lg p-[12px] leading-[1.5] font-normal lg:mb-[20px]",children:e.formatMessage({id:"COMMERCE_DISCLAIMER"})})};ta.displayName="CommerceDisclaimer";let tr=e=>{let{className:t="",height:l=29,width:a=42}=e;return(0,H.jsx)("div",{className:ee()("quotemark icon flex items-center justify-center fill-[#5015b0]",t),children:(0,H.jsx)("svg",{width:a,height:l,viewBox:"0 0 20 14",children:(0,H.jsx)("path",{d:"M15.5222734,14 C18.5215054,14 20,12.4159021 20,9.76146789 C20,7.23547401 18.7327189,5.90825688 16.3248848,5.73700306 C16.8740399,3.93883792 17.8456221,2.01223242 18.9016897,0.29969419 L18.9016897,0 L14.3394777,0 C12.6075269,2.6116208 10.8333333,6.03669725 10.8333333,9.03363914 C10.8333333,12.2446483 12.3963134,14 15.5222734,14 Z M4.70948012,14 C7.6529052,14 9.16666667,12.4159021 9.16666667,9.76146789 C9.16666667,7.23547401 7.82110092,5.86544343 5.46636086,5.73700306 C6.01299694,3.93883792 6.98012232,2.01223242 8.0733945,0.29969419 L8.0733945,0 L3.53211009,0 C1.80810398,2.6116208 0,6.03669725 0,9.03363914 C0,12.2446483 1.5558104,14 4.70948012,14 Z"})})})},tn=e=>{let{article:t,className:l="",isFirstArticle:a,isPullQuote:r,isSmartphone:n,items:s,shouldLoadArticleData:i,uuid:o}=e;return(null==s?void 0:s.length)?(0,H.jsxs)("blockquote",{className:ee()(r?"mx-auto my-10 text-center font-bold ".concat(n?"w-4/5":"w-[500px]"):"border-pebble mx-5 my-7.5 border-l-2 pl-5 italic",l),children:[r&&(0,H.jsx)(tr,{className:n?"mb-4":"mb-6",width:n?27:42,height:n?18:29}),s.map((e,l)=>{let n=e.val||[];return(0,H.jsx)(lF,{article:t,atoms:n.map(e=>({...e,useSecondaryColor:!r})),container:"Blockquote",includeWrapper:!1,isFirstArticle:a,shouldLoadArticleData:i,uuid:o},"quote-".concat(l))})]}):null};var ts=l(50788),ti=l(63554);let to=e=>{let t,{height:l,subtype:a,url:r,width:n}=e,s=(0,K.useRef)(null),[i,o]=(0,K.useState)({height:l||"auto",width:n||"100%"});return(0,K.useEffect)(()=>{let e=e=>{var t;if(e.source!==(null==(t=s.current)?void 0:t.contentWindow))return;let l={context:"",height:0,sender:""};try{l=JSON.parse(e.data)}catch(e){}"Flourish"===l.sender&&"iframe.resize"===l.context&&l.height>0&&o({height:Math.round(l.height),width:"100%"})};return addEventListener("message",e),()=>removeEventListener("message",e)},[]),"number"==typeof i.height&&"number"==typeof i.width&&"scrolly"!==a&&(t=(i.width/i.height).toFixed(2)),(0,H.jsxs)(H.Fragment,{children:["scrolly"===a&&(0,H.jsx)(ti.default,{src:"https://s.yimg.com/cv/apiv2/flourish/flourish_embed_v1.js",strategy:"afterInteractive"}),(0,H.jsx)("iframe",{title:"Flourish chart",height:t?"auto":i.height,loading:"lazy",src:r,style:{aspectRatio:t},width:"100%",ref:s})]})},tc=e=>{let{attribs:t,content:l,className:a,tagName:r,shrinkMobileText:n=!1,useSecondaryColor:s=!1}=e,i="";t&&("read-more-editor"===t.class||"read-more-vendor"===t.class)&&(i=t.class),"p"===r&&(i=i?"".concat(i," break-words"):"break-words");let o="leading-[1.4] text-px20 lg:text-px18 lg:leading-[1.8]";return"h1"===r?o="leading-[1.35] text-px24 font-bold lg:text-px36":"h2"===r?o="leading-[1.35] text-px22 font-bold lg:text-px24":"h3"===r?o="text-px20 font-bold lg:text-px18":n&&(o="leading-[1.63] text-px16 lg:leading-[1.8] lg:text-px18"),K.createElement(r,{className:ee()(a,i,o,s?"text-dolphin":"text-batcave"),dangerouslySetInnerHTML:{__html:l}})},td=e=>(0,H.jsx)(tc,{...e}),tm=e=>{let{placeholderContent:t}=e;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("div",{className:ee()("card-loader","shadow-card-loader relative box-border overflow-hidden bg-[#ffffff]","mb-[10px] h-[200px] max-w-[500px] rounded-[2px] p-[10px]","before:bg-dirty-seagull before:shadow-card-loader-before before:block before:h-[110px]","after:absolute after:top-0 after:left-0 after:h-full after:w-full after:bg-linear-[to_right,rgba(255,255,255,0)_0,rgba(255,255,255,.6)_30%,rgba(255,255,255,0)_81%]","after:animate-[card-loader-animate_0.6s_linear_infinite]","w-full")}),t]})},tu=e=>{let t,l,{allow:a,allowFullScreen:r,allowtransparency:n,className:s,frameborder:i,height:o,id:c,layout:d,lazy:m=!0,showPlaceholder:u=!1,placeholderContent:h,sandbox:p,scrolling:x,url:f,width:g}=e,b=(0,K.useRef)(null),v=(0,K.useRef)(null),[w,y]=(0,K.useState)({height:o||"auto",width:"fixed-height"===d?"100%":g||"100%"}),[j,E]=(0,K.useState)(0);(0,K.useEffect)(()=>{let e=e=>{var t,l,a;if(e.source!==(null==(t=v.current)?void 0:t.contentWindow))return;let{data:r}=e;if("string"==typeof r)try{r=JSON.parse(r)}catch(e){}(null==r?void 0:r.type)==="embed-size"?y({height:r.height,width:"100%"}):(null==r?void 0:r.type)==="MEASURE"&&(null==r?void 0:r.details)?y({height:r.details.height,width:"100%"}):(null==r?void 0:r.context)===f&&y({height:r.height||(null==(a=r.data)||null==(l=a.media)?void 0:l.height),width:"100%"})};return window.addEventListener("message",e),b.current&&E(b.current.getBoundingClientRect().width),()=>window.removeEventListener("message",e)},[f]),"number"==typeof w.height&&"number"==typeof w.width&&(l=Math.round(w.height/w.width*100),t=Math.floor(w.width/w.height*100)/100,j&&w.width>j&&(t*=.85));let N={height:t?"auto":w.height,ref:v,src:f};return N.width="100%",N.style={aspectRatio:t},"number"==typeof w.width&&j&&w.width<j&&(N.width=w.width,N.style={aspectRatio:t,margin:"0 auto"}),(r||""===r)&&(N.allowFullScreen=!0),a&&(N.allow=a),p&&(N.sandbox=p),x&&(N.scrolling=x),n&&(N.allowtransparency=n),i&&(N.frameBorder=i),m&&(N.loading="lazy"),(0,H.jsxs)("blockquote",{className:s,ref:b,children:[u&&(0,H.jsx)(tm,{placeholderContent:h}),0===j?(0,H.jsx)("div",{className:"bg-dirty-seagull",style:{paddingBottom:"min(300px, ".concat(l,"%)")}}):(0,H.jsx)("iframe",{title:c,...N})]})},th=e=>{let t,{isFirstArticle:l,locationNumber:a,uuid:r}=e;if("number"!=typeof a||a>9)return null;if(l&&1===a)t=(0,H.jsx)(ep.A,{id:"sda-moments-iframe",hideInLg:!0,isInBody:!0});else{let e="sda-inbody-".concat(r,"-").concat(a,"-iframe"),l=1===a?"mid_center":"mid_center_".concat(a);t=(0,H.jsx)(er.A,{id:e,isMain:!1,kvs:{loc:l},lazyLoadOffsetTop:300,placeholderSize:"midCenter",size:[300,250],unitCode:"mid_center"})}return(0,H.jsxs)("div",{className:"bg-card-bg-1 -mx-5 -mt-2 mb-3 pb-3",children:[(0,H.jsx)("div",{className:"text-px14 text-gandalf py-1 text-center leading-5",children:"廣告"}),t]})},tp=e=>{let{article:t,bulletedList:l,className:a,isFirstArticle:r,items:n,shouldLoadArticleData:s,uuid:i}=e;if(!(null==n?void 0:n.length))return null;let o=l?"list-disc":"list-decimal";return(0,H.jsx)(l?"ul":"ol",{className:a,children:n.map((e,l)=>(0,H.jsx)("li",{className:ee()("ml-4",o),children:(0,H.jsx)(lF,{article:t,isFirstArticle:r,shouldLoadArticleData:s,uuid:i,atoms:e.val,container:"List",includeWrapper:!1})},l))})},tx=e=>{let{coverageEndTime:t,coverageStartTime:l,currentTime:a}=e,r=!l||a>=new Date(l).getTime(),n=!t||a<new Date(t).getTime();return r&&n},tf=e=>{var t,l;return!!(null==(l=e.data)||null==(t=l.contentMeta.liveBlog)?void 0:t.totalCount)};var tg=l(16373),tb=l(6236),tv=l(48973),tw=l.n(tv);let ty=e=>"text"===e.type,tj=["blockquote","core-quote","list","sports-player-card","tag","text"],tE=["h1","h2","h3","h4","h5","h6"],tN=/^<b>.*?<\/b>$|^<strong>.*?<\/strong>$/m,t_={"attribs.class":["read-more-editor","read-more-vendor"],content:["延伸閱讀","原始連結</a>"],type:["list"]},tk={minCharBtwnSlots:200,minTxtAtomsBtwnSlots:3,remainingCharLimit:50,remainingItemLimit:2},tC={...tk,minTxtAtomsBtwnSlots:2},tA=e=>e.reduce((e,t)=>e+t,0),tS=e=>null!==e&&"length"in e&&"number"==typeof e.length?e.length:0,tR=e=>null!==e&&!!e.type&&-1!==tj.indexOf(e.type),tO=e=>null!==e&&null!==e.trim().match(tN),tT=e=>null!==e&&(!!(("text"===e.type||"heading"===e.type)&&"content"in e&&e.content&&(tE.includes(e.tagName)||"p"===e.tagName&&tO(e.content)))||!1),tI=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t_;return null!==e&&Object.keys(t).some(l=>{let a=tw()(e,l,""),r=t[l];return!!Array.isArray(r)&&"string"==typeof a&&r.some(e=>"string"==typeof e&&a.includes(e))})},tM=e=>null!==e&&"content"in e&&"string"==typeof e.content&&-1!==e.content.indexOf("athena-button")&&-1!==e.content.indexOf("elm:affiliate_link"),tD=e=>{let{nextAtom:t,previousAtom:l}=e;return!(tR(l)&&0>tS(l)||tT(l)||tI(l)||tR(t)&&0>tS(t)||tT(t)||tI(t)||tM(t))&&(null===l||"blockquote"!==l.type||null===t||"blockquote"!==t.type)},tL=function(e){let{atoms:t,firstSlotCondition:l=tk,maxAds:a=9,otherSlotCondition:r=tC}=e,{checkCanAddAdSlotBetweenAtomsValidity:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t.length,i=0,o=tA(t.map(tS)),c=0,d=1,m=[];for(let e=-1;e<t.length;e++){var u,h;let p=null!=(u=t[e])?u:null,x=null!=(h=t[e+1])?h:null;if(p&&m.push(p),d>a)continue;p&&(s--,i++,o-=tS(p),c+=tS(p));let{remainingItemLimit:f,remainingCharLimit:g,minCharBtwnSlots:b,minTxtAtomsBtwnSlots:v}=1===d?l:r;s>=f&&i>=v&&o>=g&&c>=b&&(!n||tD({nextAtom:x,previousAtom:p}))&&(m.push({locationNumber:d,subtype:"in-body",type:"ad"}),d++,i=0,c=0)}return m},tP=e=>{let{atoms:t,minAtoms:l=5,insertIndex:a=4,uuid:r}=e,n=t.filter(e=>"ad"!==e.type).length;if(n<l||a>n)return t;let s=[],i=a-1,o=!1;for(let e=0,l=t.length;e<l;e++){let l=t[e];s.push(l),!o&&e>=i&&ty(l)&&(o=!0,s.push({type:"recommendation-contents",uuid:r}))}return s};var tF=l(87358);let tU=tF.env.CAAS_ORIGIN?"".concat(tF.env.CAAS_ORIGIN,"/api/v1/article"):"".concat(window.location.origin,"/caas/content/article"),tB="".concat(tU,"/dataApi"),tz=e=>{if((0,tb.Ui)(e.internalStatusCode))throw new tb.xm({location:e.url});if((0,tb.Vx)(e.internalStatusCode))throw new tb.az({location:e.url});throw new tb.PO("invalid redirection, ".concat(JSON.stringify(e)))},tq=e=>"object"==typeof e&&null!==e&&"string"==typeof e.url&&[301,302].includes(e.internalStatusCode),tH=async e=>{let t=await (0,tg.Ay)(e,{},{debugLabel:"caas"});if(t.redirected){let l=t.headers.get("location");if(!l)throw new tb.PO("".concat(e," was redirected without a 'location' header"));if((0,tb.Ui)(t.status))throw new tb.xm({location:l});throw new tb.az({location:l})}if(!t.ok)throw new tb.fk(t);let l=await t.json();return tq(l)?tz(l):l},tW=e=>{let{device:t,lang:l,region:a,site:r}=e,n=new URL(tB);return n.searchParams.set("appid","article2_web"),n.searchParams.set("lang",l),n.searchParams.set("region",a),n.searchParams.set("site",r),t&&n.searchParams.set("device",t),n.searchParams.set("features","disableAsideSection,editorialUpsells,enableBodyAdsCharCount,enableGAMAds,enableGAMMomentsAds,enableInArticleAd,enableOlympicMedalCount,enableVideoDocking,enableXrayEntityAboutFacts,filterNonGdprEmbeds,headerOnTopForVideoContent,liveBlogPolling,noRapidClickClass,outStream"),n},tG=async e=>{let{device:t,lang:l,params:a,region:r,site:n,config:s}=e,{allArticles:i=!1}=s||{},o=tW({device:t,lang:l,region:r,site:n});Object.entries(a).forEach(e=>{let[t,l]=e;return o.searchParams.set(t,l)});let c=await tH(o),d=i?c.items:c.items[0];if(!d)throw new tb.m_("".concat(a," not found"));return d},tY=e=>{let{contentI13n:t,storyAtoms:l}=e.data.contentMeta,{uuid:a}=t,r=tP({atoms:tL({atoms:l}),uuid:a});return{...e,data:{...e.data,contentMeta:{...e.data.contentMeta,storyAtoms:r}}}},tK=async e=>{var t,l,a,r;let{device:n,fetchBy:s,lang:i,liveBlogId:o,paginationFirstUuid:c,paginationLastUuid:d,region:m,site:u,snippetCount:h=20,uuid:p}=e,x=tW({device:n,lang:i,region:m,site:u});Object.entries({dataApi:"1",fetchBy:s,liveBlogId:o,paginationFirstUuid:c,paginationLastUuid:d,snippetCount:String(h),uuid:p}).forEach(e=>{let[t,l]=e;return x.searchParams.set(t,l)});let f=await fetch(x);if(!f.ok)throw new tb.fk(f);let g=await f.json(),b=null==g||null==(a=g.items)||null==(l=a[0])||null==(t=l.data)?void 0:t.contentMeta;if(!b)throw new tb.m_("Failed to fetch blog posts: No contentMeta found");let v=b.storyAtoms.find(e=>"core-liveblog"===e.type);if(!v)throw new tb.m_("Failed to fetch blog posts: No live blog found");return{liveBlogMeta:b.liveBlog,posts:(null==(r=v.items[0])?void 0:r.val)||[]}};function tV(){return(tV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(null,arguments)}let tX=function(e){return K.createElement("svg",tV({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",width:15,height:15,viewBox:"0 0 64 64"},e),p||(p=K.createElement("g",{fill:"none",stroke:"#B0B9C1",strokeLinecap:"round",strokeMiterlimit:10,strokeWidth:5.6,opacity:.1},K.createElement("path",{d:"M32 4a28 28 0 1 1 0 56 28 28 0 1 1 0-56"}),K.createElement("path",{d:"M46 7.751A28 28 0 1 1 18 56.25 28 28 0 1 1 46 7.75"}),K.createElement("path",{d:"M56.249 18A28 28 0 1 1 7.75 46 28 28 0 1 1 56.25 18"}),K.createElement("path",{d:"M60 32a28 28 0 1 1-56 0 28 28 0 1 1 56 0"}),K.createElement("path",{d:"M56.249 46A28 28 0 1 1 7.75 18 28 28 0 1 1 56.25 46"}),K.createElement("path",{d:"M46 56.249A28 28 0 1 1 18 7.75 28 28 0 1 1 46 56.25"}),K.createElement("path",{d:"M32 60a28 28 0 1 1 0-56 28 28 0 1 1 0 56"}),K.createElement("path",{d:"M18 56.249A28 28 0 1 1 46 7.75 28 28 0 1 1 18 56.25"}),K.createElement("path",{d:"M7.751 46A28 28 0 1 1 56.25 18 28 28 0 1 1 7.75 46"}),K.createElement("path",{d:"M4 32a28 28 0 1 1 56 0 28 28 0 1 1-56 0"}),K.createElement("path",{d:"M7.751 18A28 28 0 1 1 56.25 46 28 28 0 1 1 7.75 18"}),K.createElement("path",{d:"M18 7.751A28 28 0 1 1 46 56.25 28 28 0 1 1 18 7.75"}))),x||(x=K.createElement("path",{id:"fuji-loader_svg__a",fill:"none",stroke:"#B0B9C1",strokeDasharray:"6, 170",strokeDashoffset:44,strokeLinecap:"round",strokeMiterlimit:10,strokeWidth:6,d:"M60 32a28 28 0 1 1-56 0 28 28 0 1 1 56 0",opacity:1})),f||(f=K.createElement("animate",{xlinkHref:"#fuji-loader_svg__a",fill:"freeze",attributeName:"stroke-dasharray",attributeType:"XML",begin:"0.15s",calcMode:"spline",dur:"3s",keySplines:"0.3, 0, 0.3, 1; 0, 0, 0.8, 1; 0.3, 0, 0.3, 1; 0, 0, 0.8, 1; 0.3, 0, 0.3, 1; 0, 0, 0.8, 1",keyTimes:"0; 0.167; 0.334; 0.5; 0.667; 0.834; 1",repeatCount:"indefinite",values:"8, 168; 50, 142; 8, 168; 50, 142; 8, 168; 50, 142; 8, 168"})),g||(g=K.createElement("animate",{xlinkHref:"#fuji-loader_svg__a",attributeName:"stroke-dashoffset",attributeType:"XML",begin:"0.15s",dur:"3s",keyTimes:"0; 0.167; 0.334; 0.5; 0.667; 0.834; 1",repeatCount:"indefinite",values:"44; 37; 0; -7; -44; -51; -88"})),b||(b=K.createElement("animateTransform",{xlinkHref:"#fuji-loader_svg__a",attributeName:"transform",attributeType:"XML",begin:"0.15s",dur:"3s",keyTimes:"0; 0.33; 0.67; 1",repeatCount:"indefinite",type:"rotate",values:"0 32 32; 150 32 32; 300 32 32; 450 32 32"})))};var tJ=l(3669);let t$={day:"numeric",hour:"numeric",hour12:!0,minute:"2-digit",month:"long",weekday:"short",year:"numeric"},tQ=e=>{let{currentTime:t=Date.now(),formatOptions:l=t$,formatRelative:a=!1,timestamp:r}=e,n=(0,V.A)();return r?(0,H.jsx)("time",{dateTime:new Date(r).toISOString(),children:a?(0,tJ.P)(r,{end:t}):n.formatDate(r,l)}):null};function tZ(){return(tZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(null,arguments)}let t0=function(e){return K.createElement("svg",tZ({xmlns:"http://www.w3.org/2000/svg",width:14,height:18,fill:"none"},e),v||(v=K.createElement("path",{fill:"#232A31",d:"m5.077 2.16-.362 4.717a1.6 1.6 0 0 1-.7 1.206 4 4 0 0 0-1.644 2.354l-.043.17h3.867V7.661c0-.445.358-.804.803-.804s.804.359.804.804v2.946h3.867l-.043-.17a4 4 0 0 0-1.644-2.35 1.6 1.6 0 0 1-.7-1.206L8.92 2.16c-.003-.04-.003-.084-.003-.124H5.083c0 .04 0 .084-.003.124zm1.118 10.054H1.64c-.331 0-.643-.15-.843-.411a1.08 1.08 0 0 1-.195-.921l.208-.837a5.6 5.6 0 0 1 2.3-3.292l.241-3.11.124-1.607H2.445a.8.8 0 0 1-.409-.11.81.81 0 0 1-.395-.694c0-.445.359-.803.804-.803h9.107c.445 0 .804.358.804.803a.802.802 0 0 1-.804.804h-1.031l.124 1.607.237 3.11a5.63 5.63 0 0 1 2.3 3.292l.208.837c.08.321.007.66-.194.92-.2.262-.516.412-.844.412h-4.55v4.554a.8.8 0 0 1-.804.804.8.8 0 0 1-.803-.804z"})))},t1=e=>{let{article:t,headline:l,items:a,shouldLoadArticleData:r,currentTime:n,lastModifiedTime:s,uuid:i}=e;return(0,H.jsxs)("article",{className:"bg-marshmallow border-seagull mb-module-gap rounded-lg border p-4 lg:px-8 lg:py-5",children:[(0,H.jsxs)("header",{className:"mb-4 lg:mb-5",children:[(0,H.jsxs)("div",{className:"mb-4 flex items-center lg:mb-5",children:[(0,H.jsx)(t0,{}),(0,H.jsx)("span",{className:"text-px14 ml-1 font-bold",children:"精選頭條"})]}),(0,H.jsx)("span",{className:"text-px14 lg:text-px16 font-bold",children:(0,H.jsx)(tQ,{currentTime:n,formatRelative:!0,timestamp:s.timestamp})})]}),(0,H.jsxs)("section",{children:[(0,H.jsx)("h2",{className:"text-px22 lg:text-px24 mb-5 font-bold",children:l}),a.map((e,l)=>(0,H.jsx)(lF,{atoms:e.val,container:"LiveBlogPost",isFirstArticle:!1,shouldLoadArticleData:r,uuid:i,article:t},l))]})]})};function t2(){return(t2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(null,arguments)}let t4=function(e){return K.createElement("svg",t2({viewBox:"0 0 24 24"},e),w||(w=K.createElement("path",{d:"M12 1c6.075 0 11 4.925 11 11 0 6.074-4.925 11-11 11S1 18.074 1 12C1 5.925 5.925 1 12 1m0 2a9 9 0 0 0-9 9 9 9 0 0 0 9 9 9 9 0 0 0 9-9 9 9 0 0 0-9-9m0 4a1 1 0 0 1 1 1v4.629l1.714 1.714a.969.969 0 1 1-1.371 1.371l-1.918-1.918A.98.98 0 0 1 11 13V8a1 1 0 0 1 1-1"})))},t5={day:"numeric",hour:"numeric",hour12:!0,minute:"2-digit",month:"long"},t3=e=>{let{description:t,startTime:l}=e;return(0,H.jsxs)("div",{className:"border-dirty-seagull bg-marshmallow rounded-lg border p-4 lg:px-8 lg:py-5",children:[(0,H.jsxs)("div",{className:"mb-[16px] flex items-center lg:mb-[20px]",children:[(0,H.jsx)(t4,{className:"fill-batcave mr-1",height:20,width:20}),(0,H.jsx)("div",{className:"text-batcave text-px14 font-bold",children:"直播將於以下時間開始"})]}),(0,H.jsx)("div",{className:"text-px24 mb-2 font-bold",children:(0,H.jsx)(tQ,{timestamp:l,formatOptions:t5})}),t&&(0,H.jsx)("p",{className:"text-px18",children:t})]})},t6=(e,t)=>t-e<864e5,t8=e=>{let t,l,{article:a,headline:r,items:n,pubDate:s,shouldLoadArticleData:i,isFirstPost:o,currentTime:c,lastUpdateTime:d,uuid:m}=e;o&&d?(t=new Date(d).getTime(),l=!0):l=t6(t=s.timestamp,c);let u=(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(tQ,{currentTime:c,formatRelative:l,timestamp:t}),l&&"更新"]});return(0,H.jsxs)("article",{className:"lg:pl-5",children:[(0,H.jsxs)("header",{className:"relative mb-2 flex pl-[16px] lg:mb-3 lg:pl-[28px]",children:[(0,H.jsx)("div",{className:ee()("absolute top-[50%] left-0 h-[8px] w-[8px] -translate-x-1/2 -translate-y-1/2 transform rounded-full lg:h-[12px] lg:w-[12px]",{"bg-bob":!o,"bg-solo-cup":o})}),(0,H.jsx)("span",{className:ee()("text-px14 lg:text-px16 font-bold",{"text-dolphin":!o,"text-solo-cup":o}),children:u})]}),(0,H.jsxs)("section",{className:"border-seagull border-l-1 pl-[16px] lg:pl-[28px]",children:[(0,H.jsx)("h2",{className:"text-px22 lg:text-px24 mb-5 font-bold",children:r}),n.map((e,t)=>(0,H.jsx)(lF,{article:a,atoms:e.val,container:"LiveBlogPost",isFirstArticle:!1,shouldLoadArticleData:i,uuid:m},t))]})]})},t7=e=>new Set(e.filter(e=>{let{isPinned:t}=e;return t}).map(e=>{let{id:t}=e;return t})),t9=(e,t)=>t.pubDate.timestamp-e.pubDate.timestamp,le=e=>{var t;let{currentTime:l,items:a,liveBlogMeta:r}=e;return{...r,currentTime:l,deletedPostIds:new Set(r.deletedPostIds),newerPosts:[],olderPostsState:"ready",posts:(null==a||null==(t=a[0])?void 0:t.val)||[]}},lt=(e,t)=>{let{currentTime:l}=t;return{...e,currentTime:l}},ll=e=>({...e,olderPostsState:"loading"}),la=e=>({...e,olderPostsState:"error"}),lr=(e,t)=>{let{currentTime:l,data:a}=t,r=t7(a.posts),n=new Set(e.posts.map(e=>{let{id:t}=e;return t})),s=new Set(a.posts.filter(e=>{let{isPinned:t}=e;return!t}).map(e=>{let{id:t}=e;return t})),i=Object.fromEntries([...e.posts,...e.newerPosts,...a.posts].map(e=>[e.id,{...e,isPinned:r.has(e.id)}])),o=[],c=[];Object.values(i).forEach(e=>{n.has(e.id)||s.has(e.id)?c.push(e):o.push(e)});let d={...a.liveBlogMeta,paginationFirstUuid:e.paginationFirstUuid};return{...e,...d,currentTime:l,deletedPostIds:new Set(a.liveBlogMeta.deletedPostIds),newerPosts:o,olderPostsState:"ready",posts:c.sort(t9)}},ln=(e,t)=>{let{currentTime:l,data:a}=t,r=t7(a.posts),n=new Set(e.posts.map(e=>{let{id:t}=e;return t})),s=Object.fromEntries([...e.posts,...e.newerPosts,...a.posts].map(e=>[e.id,{...e,isPinned:r.has(e.id)}])),i=[],o=[];Object.values(s).forEach(e=>{n.has(e.id)?o.push(e):i.push(e)});let c={...a.liveBlogMeta,paginationLastUuid:e.paginationLastUuid};return{...e,...c,currentTime:l,deletedPostIds:new Set(a.liveBlogMeta.deletedPostIds),newerPosts:i,posts:o.sort(t9)}},ls=e=>({...e,newerPosts:[],posts:Object.values(Object.fromEntries([...e.posts,...e.newerPosts].map(e=>[e.id,e]))).sort(t9)}),li=(e,t)=>{switch(t.type){case"newer-posts:loaded":return ln(e,t);case"newer-posts:show":return ls(e,t);case"older-posts:error":return la(e,t);case"older-posts:loaded":return lr(e,t);case"older-posts:loading":return ll(e,t);case"status:check":return lt(e,t)}},lo=e=>{let{article:t,contentI13n:l,id:a,isFirstAtom:r,items:n,liveBlogMeta:s,uuid:i,shouldLoadArticleData:o}=e,{time:c,lang:d,site:m,region:u,device:h}=(0,ez._)(),[{coverageEndTime:p,coverageStartTime:x,currentTime:f,deletedPostIds:g,description:b,newerPosts:v,olderPostsState:w,paginationFirstUuid:y,paginationLastUuid:j,posts:E,totalCount:N},_]=(0,K.useReducer)(li,{currentTime:c,items:n,liveBlogMeta:s},le),k=(0,K.useRef)(null),C=(0,K.useRef)(null),A=Date.parse(x||""),S=A>f,R=e=>{let{id:t}=e;return!g.has(t)},O=v.filter(R).length,T=E.filter(R),I=T.filter(e=>{let{isPinned:t}=e;return t}),M=T.filter(e=>{let{isPinned:t}=e;return!t}),D=tx({coverageEndTime:p,coverageStartTime:x,currentTime:f}),L=(0,K.useCallback)(()=>{let e=v.some(e=>{let{isPinned:t}=e;return t})?k.current:C.current;null==e||e.scrollIntoView({behavior:"smooth",block:"start"}),_({type:"newer-posts:show"})},[_,v,k,C]),P=async()=>{if("loading"!==w){_({type:"older-posts:loading"});try{let e=await tK({device:h,fetchBy:"older",lang:d,liveBlogId:a,paginationFirstUuid:y,paginationLastUuid:j,region:u,site:m,uuid:l.uuid});_({currentTime:Date.now(),data:e,type:"older-posts:loaded"})}catch(e){_({type:"older-posts:error"})}}},F=(0,K.useCallback)(async()=>{try{let e=await tK({device:h,fetchBy:"newer",lang:d,liveBlogId:a,paginationFirstUuid:y,paginationLastUuid:j,region:u,site:m,uuid:l.uuid});_({currentTime:Date.now(),data:e,type:"newer-posts:loaded"})}catch(e){}},[l,h,d,a,y,j,u,m]);return((0,eE.$$)(F,D?6e4:null),(0,K.useEffect)(()=>{if(!k.current||0===O)return;let{top:e}=k.current.getBoundingClientRect(),{innerHeight:t}=window;e>t&&_({type:"newer-posts:show"})},[O]),(0,K.useEffect)(()=>{S||_({currentTime:Date.now(),type:"status:check"})},[_,S]),S)?(0,H.jsxs)("section",{className:"mb-module-gap",children:[(0,H.jsx)("div",{className:"mb-[12px] lg:mb-[20px]",children:(0,H.jsx)(tl,{isLive:!1,text:"直播即將開始"})}),(0,H.jsx)(t3,{description:b,startTime:A})]}):0===E.length?null:(0,H.jsxs)("section",{className:ee()({"border-seagull border-t-1 pt-3 lg:pt-5":!r}),children:[O>0&&(0,H.jsx)("div",{className:"sticky top-32 z-10 h-0 -translate-y-7 text-center md:top-36",children:(0,H.jsxs)(W.sC,{className:"bg-brand-yahoo-purple cursor-pointer rounded-full px-6 py-2 text-sm font-bold text-white",dataYlk:{},onClick:L,children:["有 ",O," 則新消息"]})}),(0,H.jsxs)("div",{className:"lg:mb-module-gap mb-[12px]",children:[!D&&(0,H.jsx)("span",{className:"mr-2",children:(0,H.jsx)(tl,{isLive:!1,text:"直播報導已結束"})}),(0,H.jsx)("span",{className:"text-px14 font-bold",children:"".concat(N,"則更新")})]}),(0,H.jsx)("ul",{className:"mb-module-gap",ref:k,children:I.map((e,l)=>(0,H.jsx)("li",{children:(0,H.jsx)(t1,{article:t,currentTime:f,shouldLoadArticleData:o,headline:e.headline,items:e.items,lastModifiedTime:e.lastModifiedTime,uuid:i})},l))}),(0,H.jsx)("ul",{ref:C,children:M.map((e,l)=>(0,H.jsx)("li",{children:(0,H.jsx)(t8,{article:t,currentTime:f,headline:e.headline,items:e.items,isFirstPost:0===l,lastUpdateTime:s.lastUpdateTime,pubDate:e.pubDate,shouldLoadArticleData:o,uuid:i})},l))}),N>I.length+M.length&&(0,H.jsxs)("div",{className:"mb-module-gap flex flex-col items-center",children:[(0,H.jsxs)(W.sC,{className:"bg-brand-yahoo-purple disabled:bg-marshmallow text-px16 flex h-[44px] w-full max-w-[335px] cursor-pointer items-center justify-center rounded-full font-bold text-white disabled:cursor-not-allowed disabled:text-[#979EA8]",dataYlk:{elm:"btn",subsec:"liveblog"},disabled:"loading"===w,onClick:P,children:[(0,H.jsx)("span",{className:"mr-2 line-clamp-1",children:"顯示更多更新"}),"loading"===w&&(0,H.jsx)(tX,{})]}),"error"===w&&(0,H.jsx)("span",{className:"text-solo-cup text-px14 mt-2 block",children:"發生一些問題，請再試一次。"})]})]})};var lc=l(94152),ld=l(425),lm=l(69868);let lu=e=>{let{className:t="",slk:l,children:a,onClick:r,testId:n=""}=e;return(0,H.jsx)(W.sC,{"data-testid":n,dataYlk:{ct:"slideshow",elm:"arrow",itc:1,sec:"sshow",slk:l},className:ee()("border-dirty-seagull bg-main-level-1 lg:bg-main-level-1/75 hover:bg-main-level-1 text-slide-arrow absolute top-1/2 flex h-10 w-10 -translate-y-1/2 cursor-pointer items-center justify-center rounded-full border",t),onClick:r,children:a})},lh=e=>{let{className:t="",slides:l}=e,a=(0,V.A)(),[r,n]=(0,K.useState)(0),s=l.length,i=(0,K.useRef)(null),[o,c]=(0,K.useState)(!1),[d,m]=(0,K.useState)(!1),u=(0,K.useRef)(null);(0,K.useEffect)(()=>{if(i.current){let e=i.current.offsetWidth;i.current.style.transform="translateX(-".concat(r*e,"px)")}},[r]);let{caption:h,headline:p}=l[r],{width:x=0,height:f=0}=(0,eE.wY)({ref:u});return((0,K.useEffect)(()=>{(()=>{if(!u.current)return;let e=document.createElement("div");e.style.fontSize=getComputedStyle(u.current).fontSize,e.style.position="absolute",e.style.visibility="hidden",e.style.whiteSpace="normal",e.style.width="".concat(u.current.offsetWidth,"px"),e.style.lineHeight=getComputedStyle(u.current).lineHeight,e.innerHTML=h,document.body.appendChild(e),m(e.offsetHeight>38),document.body.removeChild(e)})()},[h,x,f]),s)?(0,H.jsxs)("div",{className:ee()("relative",t),children:[(0,H.jsxs)("div",{className:"relative mb-1 overflow-hidden rounded-lg lg:mb-2",children:[(0,H.jsx)("div",{ref:i,className:"flex transition-transform duration-300 ease-in-out",children:l.map((e,t)=>{let l=e.size.resized||e.size.original;return(0,H.jsxs)("div",{className:"aspect-[3/2] w-full shrink-0 grow-0 basis-full",children:[(0,H.jsx)("div",{className:"absolute -z-1 h-full w-full bg-cover bg-center blur-[var(--text-px20)]",style:{backgroundImage:"url(".concat(l.url,")")}}),(0,H.jsx)(lm.A,{alt:h||p,size:e.size,className:"h-full w-full bg-black/30 object-contain"})]},t)})}),(0,H.jsx)(lu,{className:"left-[8px] lg:left-[24px]",onClick:()=>{(0,W.hl)(),n(e=>(e-1+s)%s),c(!1)},slk:"prev",testId:"prev-button",children:(0,H.jsx)($.In,{size:"sm",variant:"fill",name:lc.J})}),(0,H.jsx)(lu,{className:"right-[8px] lg:right-[24px]",onClick:()=>{(0,W.hl)(),n(e=>(e+1)%s),c(!1)},slk:"next",testId:"next-button",children:(0,H.jsx)($.In,{size:"sm",variant:"fill",name:ld.c})}),(0,H.jsxs)("div",{className:"absolute top-[8px] right-[8px] rounded bg-black/40 px-1 py-0.5 text-sm text-white lg:top-[12px] lg:right-[12px] lg:px-2 lg:py-1",children:[(0,H.jsx)("span",{className:"font-bold","data-testid":"current-index",children:r+1}),(0,H.jsxs)("span",{"data-testid":"total-index",children:[" / ",s]})]})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)("h2",{className:"text-px16 mb-1 leading-[1.35] font-bold lg:mb-2",children:p}),h&&(0,H.jsxs)("div",{className:"text-px14 relative leading-[1.35]","data-testid":"caption",children:[(0,H.jsx)("figcaption",{ref:u,className:ee()("text-dolphin wrap-anywhere",{"overflow-hidden":!o}),dangerouslySetInnerHTML:{__html:h},style:d&&!o?{height:"".concat(38,"px")}:{}}),d&&!o&&(0,H.jsxs)(W.sC,{onClick:()=>{c(e=>!e)},className:"text-brand-yahoo-purple bg-main-level-1 absolute right-0 bottom-0 pl-2","data-testid":"expand-button",dataYlk:{slk:"展開"},children:[a.formatMessage({id:"EXPAND_SLIDESHOW_CAPTION"}),(0,H.jsx)($.In,{size:"sm",variant:"outline",name:eX.y,className:"inline"})]})]})]})]}):null},lp=e=>{let{anchorId:t,className:l,id:a,items:r,shouldLoadArticleData:n}=e,s=r[0].val.map((e,t)=>"text"!==e.type?null:(0,H.jsx)(tc,{...e},"atoms-ig-".concat(t)));return(0,H.jsx)(tu,{allowtransparency:"true",className:ee()("box-border block w-full max-w-[660px] min-w-[280px] p-0 shadow-none","border-dirty-seagull rounded-[3px] border-[1px] border-solid bg-[#ffffff]",l),frameborder:"0",id:t,lazy:!n,showPlaceholder:!n,placeholderContent:s,scrolling:"no",url:"https://www.instagram.com/p/".concat(a,"/embed/captioned?cr=1&v=12")})},lx=e=>{let t=(0,K.useRef)(null),{className:l,items:a,shouldLoadArticleData:r}=e,n="",s=a[0].val.map((e,t)=>{if("text"!==e.type)return null;let{attribs:l}=e;return l&&"twitter-tweet"===l.class&&(n=l.class),(0,H.jsx)(tc,{...e},"atoms-tweet-".concat(t))});return(0,K.useEffect)(()=>{t.current&&window.twttr&&r&&window.twttr.widgets.load(t.current)},[r]),(0,H.jsxs)("div",{className:"flex flex-col items-center",children:[(0,H.jsx)(ti.default,{strategy:"afterInteractive",src:"https://platform.twitter.com/widgets.js"}),(0,H.jsx)("blockquote",{className:ee()("flex flex-col items-center",l,{[n]:r}),ref:t,children:(0,H.jsx)(tm,{placeholderContent:s})})]})},lf=e=>{let{className:t="",headerItems:l,items:a}=e;return(null==a?void 0:a.length)?(0,H.jsxs)("table",{className:ee()("atom-table w-full",t),children:[(null==l?void 0:l.length)>0&&(0,H.jsx)("thead",{children:(0,H.jsx)("tr",{children:l.map((e,t)=>{var l,a;let r=null!=(a=null==(l=e.val)?void 0:l[0])?a:{};return(0,H.jsx)("th",{children:ty(r)?(0,H.jsx)(tc,{...r,shrinkMobileText:!0}):null},"table-head-".concat(t))})})}),(0,H.jsx)("tbody",{children:a.map((e,t)=>{var l;let a=null!=(l=e.val)?l:[];return(0,H.jsx)("tr",{children:a.map((e,l)=>{var a,r;let n=null!=(r=null==e||null==(a=e.val)?void 0:a[0])?r:{};return(0,H.jsx)("td",{children:ty(n)?(0,H.jsx)(tc,{...n,shrinkMobileText:!0}):null},"table-cell-".concat(t,"-").concat(l))})},"table-row-".concat(t))})})]}):null};var lg=l(39460),lb=l(54971);let lv=()=>(0,H.jsxs)("div",{className:"recommendation-contents",children:[(0,H.jsx)("div",{className:"bg-marshmallow mb-2 h-[30px] w-[80px] rounded-lg"}),(0,H.jsxs)("div",{className:"no-scrollbar -mx-5 mb-5 flex overflow-hidden overflow-x-auto md:-mx-2 lg:mb-3.5",children:[(0,H.jsx)("div",{className:"bg-marshmallow mr-2 ml-5 h-[92px] w-[calc(85%-28px)] flex-shrink-0 rounded-lg md:ml-2 md:w-[calc(85%-16px)] lg:h-[120px] lg:w-[calc(50%-16px)]"}),(0,H.jsx)("div",{className:"bg-marshmallow mx-2 h-[92px] w-[85%] flex-shrink-0 rounded-lg lg:h-[120px] lg:w-[calc(50%-16px)]"})]})]}),lw=(e,t)=>{var l,a,r,n,s,i;let{abuContentType:o,id:c,title:d}=e,m="clickThroughUrl"in e?e.clickThroughUrl.url:"",u="provider"in e?e.provider.displayName:"";return{content:{href:m,imgSrcs:{square:"thumbnail"in e&&null!=(i=null!=(s=null==(r=e.thumbnail)||null==(a=r.resolutions)||null==(l=a.find(e=>e.tag===eq.square))?void 0:l.url)?s:null==(n=e.thumbnail)?void 0:n.originalUrl)?i:"",video:""},providerName:u,title:d},i13nConfig:{cpos:t+1,elm:"hdln",itc:0,pos:1,sec:"rel-articles",slk:d,subsec:o},id:c}},ly=e=>{let{uuid:t}=e,[l,a]=(0,K.useState)(!0),{device:r,imageFormat:n,lang:s,region:i,site:o}=(0,ez._)(),c=(0,K.useCallback)(async()=>{try{return await (0,eN.hI)({contextParams:{device:r,imageFormat:n,lang:s,region:i,site:o},params:{contentCount:4,imageSizes:eq.square,property:"CONTENT",uuid:t}})}catch(e){return[]}},[r,n,s,i,o,t]),{data:d}=(0,e_.s)({actionAfterFetch:()=>a(!1),fetchDeps:[c],fetchFn:c,initialData:[]}),m=d.length>0;if(l)return(0,H.jsx)(lv,{});if(!m)return null;let u=d.map((e,t)=>{let{content:l,i13nConfig:a}=lw(e,t);return(0,H.jsx)("div",{className:ee()("mb-3",{"lg:mr-[5px]":t===d.length-1&&d.length>2}),children:(0,H.jsx)(eH,{content:l,i13nConfig:a})},t)});return(0,H.jsx)("div",{className:"recommendation-contents ".concat("mb-2 lg:mb-0.5"),children:(0,H.jsx)(eU,{hideTitleMarker:!0,items:u,title:"延伸閱讀",titleWrapperClass:"mb-2"})})};function lj(){return(lj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(null,arguments)}let lE=function(e){return K.createElement("svg",lj({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),y||(y=K.createElement("path",{fill:"#6E7780",fillRule:"evenodd",d:"M10 6.667a.834.834 0 1 1 0-1.668.834.834 0 0 1 0 1.668m0 7.5a.834.834 0 0 1-.833-.834V9.167a.833.833 0 1 1 1.666 0v4.166c0 .46-.373.834-.833.834M10 2.5c-4.134 0-7.5 3.365-7.5 7.5s3.366 7.5 7.5 7.5 7.5-3.365 7.5-7.5-3.365-7.5-7.5-7.5m0 16.667C4.946 19.167.833 15.054.833 10S4.946.833 10 .833 19.167 4.946 19.167 10 15.053 19.167 10 19.167",clipRule:"evenodd"})))},lN=e=>{let{className:t,showDoNotSellControlLink:l,showGDPRBlocked:a,showTPControlLink:r,type:n="iframe"}=e,s=(0,V.A)();if(!l&&!a&&!r)return null;let i=a?"":r?"https://yahoo.mydashboard.oath.com/guc-redirect?app=thirdPartyContentEmbed&lang=".concat(s.locale):"https://yahoo.mydashboard.oath.com/guc-redirect?app=sellPersonalInformation&lang=".concat(s.locale),o=a?s.formatMessage({id:"CONSENT_BLOCKED_GDPR"}):s.formatMessage({id:"CONSENT_BLOCKED_3P"});return(0,H.jsx)("div",{className:ee()("border-pebble text-dolphin mx-0 max-w-[600px] overflow-hidden rounded-lg border border-solid leading-5 break-words",t),"data-testid":"blocked-wrapper",children:(0,H.jsxs)("div",{className:"flex leading-5 break-words",children:[(0,H.jsx)("div",{className:"bg-grey-hair relative w-14",children:(0,H.jsx)(lE,{className:"fill-dolphin absolute top-1/2 left-1/2 -translate-x-2/4 -translate-y-2/4",width:24,height:24})}),(0,H.jsxs)("div",{className:"text-px14 flex-1 p-3 font-bold",children:[(0,H.jsx)("div",{children:o}),l||r?(0,H.jsx)(W.Rl,{className:"text-dory",dataYlk:{elm:"reconsent",elmt:n,itc:0,ll1:"3rd-party-consent",sec:"article_reconsent",slk:"Allow",subsec:"priv-content-embed"},href:i,target:"_blank",children:s.formatMessage({id:"CONSENT_BLOCKED_3P_LINK_TEXT"})}):null]})]})})},l_=Object.freeze({"acast.com":!0,"brightcove.com":!0,"dailymotion.com":!0,"embed.scribblelive.com":!0,"facebook.com":!0,"flourish.studio":!0,"giphy.com":!0,"instagram.com":!0,"nbcuniversal.com":!0,"playbuzz.com":!0,"soundcloud.com":!0,"tiktok.com":!0,"twitter.com":!0,"vimeo.com":!0,"x.com":!0,"youtube.com":!0}),lk=Object.freeze({acast:!0,brightcove:!0,dailymotion:!0,facebook:!0,flourish:!0,giphy:!0,instagram:!0,nbcuniversal:!0,playbuzz:!0,scribble:!0,soundcloud:!0,tiktok:!0,twitter:!0,videoIframe:!0,vimeo:!0,x:!0,youtube:!0}),lC=Object.freeze({ceros:!0,dpa:!0});var lA=function(e){return e[e.ALLOWED=0]="ALLOWED",e[e.SHOW_TP_CONSENT_EMBED=1]="SHOW_TP_CONSENT_EMBED",e[e.SHOW_DO_NOT_SELL_EMBED=2]="SHOW_DO_NOT_SELL_EMBED",e[e.GDPR_BLOCKED=3]="GDPR_BLOCKED",e}(lA||{});let lS=e=>!!e&&(!!l_[e]||Object.keys(l_).some(t=>e.endsWith(".".concat(t)))),lR=e=>!!e&&lk[e],lO=e=>{let t=null==e?void 0:e.toLowerCase();return!!t&&lC[t]},lT=e=>{let{subtype:t}=e,l="videoIframe"===t,a=lS(e.embedDomain),r=lR(e.embedProvider);if("iframe"===e.type){if(lO(t))return!1;if(!l)return!0}return"iframely"===e.type&&!l&&!a&&!r},lI=(e,t)=>{let{consent:{canSell:l,gdpr:a,tpConsent:r}}=e;return!0!==l||!0!==r?a?1:2:a&&!0===r&&lT(t)?3:0},lM=e=>{if(!e)return!1;try{let{hostname:t}=new URL(e,"https://tw.yahoo.com");return t.endsWith(".yahoo.com")}catch(e){}return!1},lD=e=>{let{children:t,className:l,embedDomain:a,embedProvider:r,subtype:n,type:s,url:i}=e,o=(0,ez._)();if(lM(i))return t;switch(lI(o,{embedDomain:a,embedProvider:r,subtype:n,type:s})){case 0:return t;case 1:return(0,H.jsx)(lN,{className:l,showTPControlLink:!0,type:s});case 2:return(0,H.jsx)(lN,{className:l,showDoNotSellControlLink:!0,type:s});case 3:return(0,H.jsx)(lN,{className:l,showGDPRBlocked:!0})}},lL=(e,t)=>{let l={};return t.forEach(t=>{t in e&&(l[t]=e[t])}),l},lP=e=>lL(e,["embedDomain","embedProvider","subtype","type","url"]),lF=e=>{let t,{article:l,atoms:a,container:r,hasCover:n,includeWrapper:s=!0,isFirstArticle:i,shouldLoadArticleData:o,uuid:c,disableRelatedArticle:d}=e,{deviceSize:m}=(0,eB.S)().common,u="smartphone"===m,{features:h,app:p,region:x,site:f}=(0,ez._)(),{enableArticleRelatedContents:g}=h,b=(0,e8.Ot)({appOS:p.os,article:l,deviceSize:m,region:x,site:f}),v=a.map((e,a)=>{var s,m,h,p,x,f,v,w;let y=!1;switch(e.type){case"core-module":(null==(s=e.attribs)?void 0:s.type)==="curatedLinks"&&(y=!0);break;case"iframe-instagram":y=!0}if(y)return null;let j="atoms-".concat(a),E={className:"mb-module-gap"};switch(e.type){case"ad":if(u&&"subtype"in e&&"in-body"===e.subtype)return K.createElement(th,{isFirstArticle:i,key:j,uuid:c,...e});return null;case"blockquote":{let{isPullQuote:t,items:a}=e;return(0,H.jsx)(tn,{article:l,items:a,isFirstArticle:i,isPullQuote:t,isSmartphone:u,shouldLoadArticleData:o,uuid:c},j)}case"heading":return K.createElement(td,{key:j,...e,...E});case"horizontalRule":return(0,H.jsx)("hr",{className:"my-module-gap border-dirty-seagull border-x-1"},j);case"list":return(0,H.jsx)(tp,{article:l,isFirstArticle:i,uuid:c,shouldLoadArticleData:o,...e,...E},j);case"core-slideshow":{let{data:t}=e;if(!Array.isArray(null==t?void 0:t.slides))return null;let{slides:l}=t;return(0,H.jsx)(lh,{slides:l,...E},j)}case"slideshow":{let{photos:t}=e;return(0,H.jsx)(lh,{slides:t,...E},j)}case"3pvideo":case"facebook":case"iframe":case"iframely":case"youtube":{let{anchorId:t}=e;return(0,H.jsx)(lD,{...lP(e),...E,children:(0,H.jsx)(tu,{...e,...E,id:t,lazy:!o,showPlaceholder:!o})},j)}case"instagram":return(0,H.jsx)(lD,{...lP(e),...E,children:(0,H.jsx)(lp,{...e,...E,shouldLoadArticleData:o})},j);case"image":return t=void 0===t&&!n,(0,H.jsx)(ts.A,{loading:t?"lazy":void 0,...e,...E},j);case"text":return(0,H.jsx)(tc,{...e,...E},j);case"table":return(0,H.jsx)(lf,{...e,...E},j);case"tweet":return(0,H.jsx)(lD,{...lP(e),...E,children:(0,H.jsx)(lx,{...e,...E,shouldLoadArticleData:o})},j);case"yvideo":{let t,a;return e&&"config"in e&&e.config?(t=null!=(f=null==e||null==(p=e.config)||null==(h=p.playlist)||null==(m=h.mediaItems)?void 0:m[0].id)?f:"",a=null!=(v=null==e||null==(x=e.config)?void 0:x.videoPosition)?v:""):(t="",a=""),(0,H.jsx)(lg.A,{...E,article:l,videoConfig:(0,lb.A)({spaceId:(null==b?void 0:b.toString())||"",uuid:t,videoPosition:a})},j)}case"core-liveblog":let{id:N,items:_,type:k}=e,{liveBlog:C,contentI13n:A}=(null==l||null==(w=l.data)?void 0:w.contentMeta)||{};return(0,H.jsx)(lo,{article:l,isFirstAtom:0===a,uuid:c,contentI13n:A,shouldLoadArticleData:o,id:N,items:_,type:k,liveBlogMeta:C,...E},j);case"flourish":return(0,H.jsx)(to,{...e,...E},j);case"recommendation-contents":if(g&&!d)return(0,H.jsx)(ly,{...e},j);return null;default:return console.warn("unhandled atom",{atom:JSON.stringify(e),container:r,msg:"Unhandled atom",uuid:c}),null}});return s?(0,H.jsx)("div",{className:"atoms",children:v}):v},lU={longForm:{day:"numeric",hour:"numeric",hour12:!0,minute:"2-digit",month:"long",weekday:"short",year:"numeric"},shortForm:{day:"numeric",month:"long",year:"numeric"}},lB=e=>{let{displayDate:t,isLiveBlogUpdatedTime:l,liveBlogUpdatedTime:a,publishDate:r}=e;return l?a:t.timestamp?t:r},lz=e=>{let{displayDate:t,liveBlogUpdatedTime:l,mockCurrentTimestamp:a,modifiedDateIsGreater:r,publishDate:n}=e,s=lB({displayDate:t,isLiveBlogUpdatedTime:l&&Object.keys(l).length>0,liveBlogUpdatedTime:l,publishDate:n}),i=(null==s?void 0:s.timestamp)||(null==s?void 0:s.iso)&&Date.parse(s.iso)||void 0,[o,c]=(0,K.useState)(lU.longForm),d=(0,K.useCallback)(()=>{i&&(a||Date.now())-i>6048e5?c(lU.shortForm):c(lU.longForm)},[i,a]);return(0,K.useEffect)(()=>{d()},[d]),(0,H.jsxs)("div",{className:"article-time text-px12 text-dolphin lg:text-px14 w-full leading-[1.35] lg:leading-4",children:[r&&"更新時間",(0,H.jsx)(tQ,{timestamp:i,formatOptions:o})]})},lq=e=>{let t,l,a,{article:r,className:n}=e,{data:{contentMeta:{attribution:s,dates:i,liveBlogUpdatedTime:o}}}=r;if((null==s?void 0:s.authors.length)===1){var c,d;let e=s.authors[0],a=(null==e||null==(c=e.logo)?void 0:c.size)&&(0,H.jsx)(lm.A,{alt:e.name,className:"h-8 w-auto rounded-[50%] lg:h-11",size:e.logo.size});l=e.title&&(0,H.jsx)("span",{children:e.title}),t=(null==(d=e.url)?void 0:d.link)?(0,H.jsx)(W.Rl,{className:"mr-3",dataYlk:{elm:"author",g:e.id,itc:0,slk:e.name},href:e.url.link,rel:e.url.external?"noopener noreferrer":void 0,target:e.url.external?"_blank":void 0,"aria-label":e.title,children:a}):a}return Array.isArray(null==s?void 0:s.authors)&&(a=s.authors.filter(e=>e.name).map(e=>{var t;return(null==(t=e.url)?void 0:t.link)?(0,H.jsx)(W.Rl,{className:"",dataYlk:{elm:"author",g:e.id,itc:0,slk:e.name},href:e.url.link,rel:e.url.external?"noopener noreferrer":void 0,target:e.url.external?"_blank":void 0,"aria-label":e.name,children:e.name},e.id):(0,H.jsx)("span",{children:e.name},e.id)}).reduce((e,t,l,a)=>(e.push(t),l!==a.length-1&&e.push(","),e),[])),(!a||Array.isArray(a)&&0===a.length)&&(a=s.provider.name),(0,H.jsxs)("div",{className:ee()(n,"flex flex-row items-center"),children:[t,(0,H.jsxs)("div",{className:"flex flex-col",children:[(0,H.jsx)("div",{className:"mb-0.5",children:(0,H.jsx)("span",{className:"text-px14 text-batcave lg:text-px18 leading-[1.35] font-normal lg:leading-4 lg:font-bold",children:a})}),l&&(0,H.jsx)("div",{children:l}),(0,H.jsx)("div",{children:(0,H.jsx)(lz,{...i,liveBlogUpdatedTime:o})})]})]})},lH=e=>{let{isFirstArticle:t=!1,provider:l}=e,{logo:a,darkLogo:r,name:n}=l;return(null==a?void 0:a.size)?(0,H.jsx)(lm.A,{alt:n,className:"h-5 w-auto lg:h-[24px]",loading:t?void 0:"lazy",size:a.size,darkSize:null==r?void 0:r.size}):null},lW=e=>{var t,l;let a,{isFirstArticle:r,provider:n}=e,s=(null==n||null==(t=n.logo)?void 0:t.size)?(0,H.jsx)(lH,{isFirstArticle:r,provider:n}):n.name;return a=(null==(l=n.url)?void 0:l.link)?(0,H.jsx)(W.Rl,{dataYlk:{elm:"logo",g:n.ref,itc:0,sec:"logo-provider",slk:n.name},href:n.url.link,rel:n.url.external?"noopener noreferrer":void 0,target:n.url.external?"_blank":void 0,"aria-label":n.name,children:s}):s,(0,H.jsx)("div",{className:"mb-2 flex items-center justify-between lg:justify-start",children:a})};function lG(){return(lG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(null,arguments)}let lY=function(e){return K.createElement("svg",lG({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),j||(j=K.createElement("path",{fill:"currentColor",d:"m7.95 1 4.844 4.844-1.344 1.343-2.55-2.55v6.056H7V4.637l-2.55 2.55-1.344-1.344zM1 8.743v5.95h13.9v-5.95H13v4.05H2.9v-4.05z"})))};async function lK(e){try{await navigator.share({url:e})}catch(e){console.error("Navigator share Error: ".concat(e))}}let lV=e=>{let{commentsAllowed:t,commentCount:l,handleCommentClick:a,shareLink:r,uuid:n}=e,{app:s,region:i}=(0,ez._)(),o=(0,e5.LX)(s),c="https://www.facebook.com/dialog/feed?app_id=458584288257241&link=".concat(encodeURIComponent("".concat(r,"?soc_src=social-sh&soc_trk=fb&tsrc=fb"))),d="https://lineit.line.me/share/ui?url=".concat(encodeURIComponent("".concat(r,"?soc_src=social-sh&soc_trk=li"))),m="https://api.whatsapp.com/send?text=".concat(encodeURIComponent("".concat(r,"?soc_src=social-sh&soc_trk=wa"))),u="TW"===i&&t,h="mr-4 rounded-[50%] inline-flex items-center justify-center border border-solid border-dirty-seagull min-w-[32px] h-[32px] lg:min-w-[44px] lg:h-[44px]",p={g:n,sec:"social-share",subsec:"article-top"};return(0,H.jsxs)("div",{className:"flex flex-row items-center",children:[(0,H.jsx)(W.Rl,{className:(0,e$.n)(h,"group hidden hover:bg-[#0766ff] lg:flex"),dataYlk:{...p,cpos:1,elm:"link",itc:0,slk:"Facebook"},href:c,target:"_blank","aria-label":"分享至Facebook",children:(0,H.jsx)(eZ,{className:"text-icon-primary group-hover:text-icon-inverted block"})}),"TW"===i&&(0,H.jsx)(W.Rl,{className:(0,e$.n)(h,"group hidden hover:bg-[#07be5b] lg:flex"),dataYlk:{...p,cpos:2,elm:"link",itc:0,slk:"Line"},href:d,target:"_blank","aria-label":"分享至Line",children:(0,H.jsx)(e1,{className:"text-icon-primary group-hover:text-icon-inverted"})}),"HK"===i&&(0,H.jsx)(W.Rl,{className:(0,e$.n)(h,"group hidden hover:bg-[#2ad26a] lg:flex"),dataYlk:{...p,cpos:2,elm:"link",itc:0,slk:"whatsapp"},href:m,target:"_blank","aria-label":"分享至WhatsApp",children:(0,H.jsx)(e4,{className:"text-icon-primary group-hover:text-icon-inverted"})}),(0,H.jsx)(W.sC,{className:(0,e$.n)(h,"group hover:bg-brand-yahoo-purple text-icon-primary hover:text-icon-inverted hidden cursor-pointer lg:flex"),dataYlk:{...p,cpos:3,elm:"btn",itc:1,slk:"Copy"},onClick:async()=>{try{await navigator.clipboard.writeText(r)}catch(e){}},"aria-label":"share-link",children:(0,H.jsx)($.In,{size:"md",variant:"outline",name:eJ.N})}),u&&(0,H.jsxs)(W.sC,{className:(0,e$.n)(h,"group hover:bg-brand-yahoo-purple text-icon-primary mr-0 hidden cursor-pointer rounded-[99px] px-6 hover:text-[white] lg:flex"),dataYlk:{...p,cpos:4,elm:"cmmt_open",itc:1,sec:"cmmts",slk:"cmmt_open"},onClick:()=>a(),"aria-label":"留言",children:[(0,H.jsx)($.In,{size:"md",variant:"outline",name:ej.h}),(0,H.jsx)("span",{className:"ml-1.5",children:l})]}),!o&&(0,H.jsx)(W.sC,{className:(0,e$.n)(h,"mr-2 inline-flex lg:hidden"),dataYlk:{...p,cpos:1,elm:"btn",itc:1,slk:"consolidated"},onClick:()=>lK(r),"aria-label":"分享",children:(0,H.jsx)(lY,{className:"text-icon-primary"})}),u&&(0,H.jsxs)(W.sC,{className:(0,e$.n)(h,"text-icon-primary mr-0 inline-flex rounded-[99px] px-4 lg:hidden"),dataYlk:{...p,cpos:2,elm:"cmmt_open",itc:1,sec:"cmmts",slk:"cmmt_open"},onClick:()=>a(),"aria-label":"留言",children:[(0,H.jsx)($.In,{size:"sm",variant:"outline",name:ej.h}),(0,H.jsx)("span",{className:"ml-1.5",children:l})]})]})};var lX=l(15438),lJ=l.n(lX),l$=l(35403);function lQ(){return(lQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(null,arguments)}let lZ=function(e){return K.createElement("svg",lQ({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),E||(E=K.createElement("path",{fill:"currentColor",d:"M8.566 13.186a.6.6 0 0 1-.246-.055.7.7 0 0 1-.205-.144L2.817 7.573a.61.61 0 0 1-.184-.45.62.62 0 0 1 .307-.541.6.6 0 0 1 .315-.082q.253 0 .444.178l4.867 4.976 4.868-4.976a.63.63 0 0 1 .444-.178.6.6 0 0 1 .314.082q.144.082.226.226.082.143.082.314 0 .267-.178.451l-5.304 5.414a.7.7 0 0 1-.212.144.5.5 0 0 1-.24.054"})))},l0=e=>{let{componentProps:t=[],component:l,className:a,i13nConfig:r,initialDisplayCount:n}=e,[s,i]=(0,K.useState)(!1),o=(0,V.A)(),c=(0,K.useMemo)(()=>t.map((e,t)=>(0,K.createElement)(l,{...e,key:t,isExpanded:s})),[t,l,s]),d=c.length>n,m={...r,elm:"btn",slk:"more",subsec:"more"},u=s?o.formatMessage({id:"COLLAPSE"}):o.formatMessage({id:"MORE"});return(0,H.jsxs)("div",{className:ee()("flex w-full flex-wrap gap-y-2 px-1 py-2",a),children:[s?c:c.slice(0,n),d&&(0,H.jsxs)(W.sC,{dataYlk:m,onClick:()=>i(!s),className:ee()("border-dirty-seagull flex h-8 items-center justify-center rounded-full border px-3","hover:shadow-bottom-shadow duration-150 ease-in-out lg:hover:shadow-none"),"aria-label":u,children:[(0,H.jsx)("span",{className:"text-px14 text-batcave mr-1 font-bold",children:u}),(0,H.jsx)("div",{className:ee()({"rotate-180":s}),children:(0,H.jsx)(lZ,{className:"text-batcave"})})]})]})};var l1=l(40566),l2=l.n(l1);function l4(){return(l4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(null,arguments)}let l5=function(e){return K.createElement("svg",l4({xmlns:"http://www.w3.org/2000/svg",width:11,height:10,fill:"none"},e),N||(N=K.createElement("g",{clipPath:"url(#triangle_svg__a)"},K.createElement("path",{fill:"current",fillRule:"evenodd",d:"M.5 2h10l-5 7z",clipRule:"evenodd"}))),_||(_=K.createElement("defs",null,K.createElement("clipPath",{id:"triangle_svg__a"},K.createElement("path",{fill:"#fff",d:"M.5 0h10v10H.5z"})))))},l3=e=>{let{data:t,className:l,isPriceUp:a,isPriceDown:r,referenceData:n,showSign:s=!1,showArrow:i=!1,showDash:o=!0,withParenthesis:c=!0}=e,{fmt:d}=t,{sort:m}=n||{};if("-"===d)return o?(0,H.jsxs)("div",{className:ee()("text-px16 mx-0.5 font-bold",l),children:[c&&(0,H.jsx)("span",{children:"("}),"-",c&&(0,H.jsx)("span",{children:")"})]}):null;let u=a||l2()(m)&&m>0||!1,h=r||l2()(m)&&m<0||!1,p=!u&&!h,x=d;return!s&&h&&d.length>1&&(x=d.replace(/^-/,"")),(0,H.jsx)("div",{className:ee()("text-px16 flex items-center font-bold",{"text-batcave":p,"text-highlight-green":h,"text-highlight-red":u},l),children:(0,H.jsxs)("div",{className:"mx-0.5 flex items-center",children:[c&&(0,H.jsx)("span",{children:"("}),i&&!p&&(0,H.jsx)("div",{className:ee()("mx-1",{"rotate-180":u}),children:(0,H.jsx)(l5,{width:10,height:10,fill:u?"#eb0f29":"#00ab5e"})}),x,c&&(0,H.jsx)("span",{children:")"})]})})},l6=e=>{let{changePercent:t,className:l}=e;return(0,H.jsx)(l3,{className:l,data:t,referenceData:t,showArrow:!0,showSign:!1})},l8=e=>{let{price:t,change:l,className:a,isPriceDown:r,isPriceUp:n}=e;return(0,H.jsx)(l3,{className:a,data:t,referenceData:l,isPriceDown:r,isPriceUp:n,showSign:!1,withParenthesis:!1})},l7=e=>{let{className:t,i13nConfig:l={},isExpanded:a=!1,stockSymbol:r}=e,{name:n,canonicalId:s,exchange:i}=r,{quote:{price:o,change:c,changePercent:d}}=r,m="https://tw.stock.yahoo.com/quote/".concat(s),u={...l,elm:"qte",elmt:"link",itc:0,slk:n,subsec:"ticker"},h=function(e){let{symbol:t="",exchange:l=""}=e;if(!(lJ()(t)&&lJ()(l))||t.match(/(\.TW|\.TWO)$/))return!1;switch(l){case"":case"TAI":case"TWO":case"OES":return!1;default:return!0}}({exchange:i,symbol:s});return(0,H.jsxs)(W.Rl,{dataYlk:u,href:m,className:ee()("border-dirty-seagull flex h-8 items-center justify-center rounded-full border px-3","lg:hover:shadow-bottom-shadow duration-150 ease-in-out",{"max-w-none":a},{"max-w-[287px]":!a},t),children:[(0,H.jsxs)("div",{className:"border-dirty-seagull text-px14 flex border-r pr-2 font-normal",children:[!h&&(0,H.jsx)("div",{className:ee()("text-batcave mr-1 line-clamp-1 w-max font-bold",{"max-w-none":a},{"max-w-[55px]":!a}),children:n}),(0,H.jsx)("div",{className:h?"text-batcave font-bold":"text-dolphin",children:s})]}),(0,H.jsx)(l8,{price:o,change:c,className:"ml-2"}),(0,H.jsx)(l6,{changePercent:d})]})},l9=e=>{let{tickers:t,shouldLoadArticleData:l,stockSymbols:a,uuid:r}=e,n=(0,ez._)(),{common:{deviceSize:s}}=(0,eB.S)(),i=a?a.length:0,o=t.join(","),c=(0,K.useCallback)(async()=>{if(!o||!l||i>0)return{symbols:[]};let e=await (0,l$.jm)({params:{symbols:o},requestContext:n,resource:"symbolsWithQuote"});return null==e?void 0:e.result},[n,l,i,o]),{data:d}=(0,e_.s)({fetchDeps:t,fetchFn:c,initialData:{symbols:[]}}),m=i>0?a:d.symbols;if(!m||0===m.length||0===m.filter(e=>e.quote).length)return null;let u={sec:"rel-tickers"},h=m.map((e,t)=>{let{id:l}=e;return(0,H.jsx)(l7,{className:"mr-2",i13nConfig:{...u,cpos:t+1,g:r},stockSymbol:e},l)});return(0,H.jsx)("section",{children:"desktop"===s?(0,H.jsx)(l0,{componentProps:m.map((e,t)=>({className:"mr-2",i13nConfig:{...u,cpos:t+1,g:r},stockSymbol:e})),component:l7,className:"my-module-gap",i13nConfig:u,initialDisplayCount:2}):(0,H.jsx)("div",{className:"no-scrollbar my-5 flex overflow-y-scroll",children:h})})},ae=(0,tt.default)(()=>l.e(259).then(l.bind(l,70259)),{loadableGenerated:{webpack:()=>[70259]}}),at=e=>{var t;let l=(0,V.A)(),{article:a,articleMetadata:r,commentCount:n,handleCommentClick:s,isFirstArticle:i,shouldLoadArticleData:o}=e,{data:{bodyBlocks:c=[],contentMeta:{adMeta:{site_attribute:d,hashtag:m}={},attribution:u,commentsAllowed:h,commerceArticleType:p,contentCover:{cover:x},contentI13n:{uuid:f},isOpinion:g,liveBlog:b,seoMeta:{canonicalUrl:v,subheadline:w,title:y},storyAtoms:j}},schema:E}=a;(0,W.ip)("".concat("article","-").concat(f),"content-canvas");let{features:N,time:_,site:k,region:C}=(0,ez._)(),{useNetworkApi:A}=N,S=!!(null==x?void 0:x.type),R=function(e){if(lJ()(e)&&-1!==e.indexOf("ticker=")){var t;return(null==(t=e.match(/ticker="([^"]*)"/))?void 0:t[1].split(";"))||[]}return[]}(d),{stockSymbols:O}=r||{},{shortenedUrl:T}=(0,e7.kA)({region:C,site:k,uuid:f}),{coverageEndTime:I,coverageStartTime:M,lastUpdateTime:D}=b||{},L=tx({coverageEndTime:I,coverageStartTime:M,currentTime:_}),P=null!=(t=null==E?void 0:E.default)?t:{},F=A?(0,H.jsx)(ae,{article:a,bodyBlocks:[x],container:"Cover",includeWrapper:!0}):(0,H.jsx)(lF,{article:a,atoms:[x],container:"Cover",isFirstArticle:i,shouldLoadArticleData:o,uuid:f}),U=null==m?void 0:m.includes("disable_relatedarticle");return(0,H.jsxs)("article",{className:"mb-module-gap max-w-[754px]",id:"article-".concat(f),children:[P&&(0,H.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(P)}}),p&&(0,H.jsx)(ta,{}),(0,H.jsxs)("header",{className:"mb-module-gap",children:[tf(a)&&L&&(0,H.jsxs)("div",{className:"mb-module-gap flex items-center",children:[(0,H.jsx)(tl,{text:"LIVE",isLive:L}),(0,H.jsx)("span",{className:"text-px14 text-solo-cup ml-[8px] font-bold",children:"".concat((0,tJ.P)(D,{end:new Date(_)}),"更新")})]}),(0,H.jsx)(lW,{...u,isFirstArticle:i}),g&&(0,H.jsx)("div",{className:"relative bottom-[2px] inline-block lg:bottom-[5px]",children:(0,H.jsx)("span",{className:"bg-brand-yahoo-purple text-px14 lg:text-px18 mr-1.5 block h-[24px] rounded px-1 leading-[24px] font-bold text-white lg:mr-2 lg:h-[32px] lg:px-2 lg:leading-[32px]",children:l.formatMessage({id:"PROVIDER"})})}),(0,H.jsx)("h1",{className:"text-px24 text-batcave lg:text-px36 inline leading-[1.35] font-bold",children:y}),w&&(0,H.jsx)("h2",{className:"text-px16 lg:text-px22 mt-1 mb-4",children:w}),(0,H.jsxs)("div",{className:"mt-module-gap flex items-center justify-between",children:[(0,H.jsx)(lq,{article:a}),(0,H.jsx)(lV,{commentCount:n,commentsAllowed:h,shareLink:T||v,uuid:f,handleCommentClick:s})]}),0!==R.length&&(0,H.jsx)(l9,{shouldLoadArticleData:o,stockSymbols:O,tickers:R,uuid:f})]}),S&&F,A?(0,H.jsx)(ae,{article:a,bodyBlocks:c,includeWrapper:!0}):(0,H.jsx)(lF,{article:a,atoms:j,container:"Body",isFirstArticle:i,hasCover:S,shouldLoadArticleData:o,uuid:f,disableRelatedArticle:U})]})};var al=l(12253),aa=l(47650);function ar(){return(ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(null,arguments)}let an=function(e){return K.createElement("svg",ar({xmlns:"http://www.w3.org/2000/svg",width:28,height:28,fill:"none"},e),k||(k=K.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M1.167 14C1.167 6.924 6.924 1.167 14 1.167c7.075 0 12.833 5.757 12.833 12.833S21.075 26.833 14 26.833 1.167 21.076 1.167 14M3.5 14c0 5.789 4.712 10.5 10.5 10.5 5.79 0 10.5-4.711 10.5-10.5S19.79 3.5 14 3.5C8.212 3.5 3.5 8.211 3.5 14m9.333-5.833a1.166 1.166 0 1 1 2.333 0 1.166 1.166 0 0 1-2.333 0m0 10.5v-5.834a1.166 1.166 0 1 1 2.334 0v5.834a1.167 1.167 0 0 1-2.334 0",clipRule:"evenodd"})))};function as(){return(as=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(null,arguments)}let ai=function(e){return K.createElement("svg",as({xmlns:"http://www.w3.org/2000/svg",width:28,height:28,fill:"none"},e),C||(C=K.createElement("path",{fill:"#fff",d:"M3.852 16.153a1.18 1.18 0 0 1 0-1.682 1.21 1.21 0 0 1 1.696 0l4.865 4.824L22.451 7.348a1.207 1.207 0 0 1 1.696 0 1.18 1.18 0 0 1 0 1.683L11.261 21.82c-.471.469-1.19.456-1.697 0z"})))};var ao=function(e){return e[e.INIT=0]="INIT",e[e.IN=1]="IN",e[e.OUT=2]="OUT",e[e.DONE=3]="DONE",e}(ao||{});let ac=e=>{let{content:t,mode:l,onToastDone:a}=e,[r,n]=(0,K.useState)(0);(0,K.useEffect)(()=>{let e;switch(r){case 0:n(1);break;case 1:e=setTimeout(()=>{n(2)},3e3);break;case 2:e=setTimeout(()=>{n(3)},300);break;case 3:a(),n(0)}return()=>{e&&clearTimeout(e)}},[a,r]);let s="";0===r||2===r?s="-bottom-[56px] opacity-[0]":1===r?s="bottom-[12px] opacity-[1]":3===r&&(s="hidden");let i=null,o="";return"success"===l?(i=(0,H.jsx)(ai,{}),o="bg-toast-success"):"alert"===l&&(i=(0,H.jsx)(an,{}),o="bg-toast-alert"),(0,H.jsx)("div",{className:ee()("fixed right-5 left-5 z-(--z-index-31) w-[calc(100%-40px)]","transition-[bottom,opacity] duration-300 ease-in-out",s),children:(0,H.jsxs)("div",{className:ee()("shadow-toast flex h-[56px] w-full items-center overflow-hidden rounded-sm"),"data-test-locator":"toast",children:[i?(0,H.jsx)("div",{className:ee()("flex h-full w-[56px] flex-none items-center justify-center",o),children:i}):null,(0,H.jsx)("div",{className:"text-batcave text-px14 bg-toast-background flex h-full grow items-center px-5 leading-5 font-bold",children:t})]})})},ad=e=>{let{content:t,mode:l}=e,[a,r]=(0,K.useState)([]);(0,K.useEffect)(()=>{t&&l&&r(e=>e.some(e=>e.content===t&&e.mode===l)?e:[...e,{content:t,mode:l}])},[t,l]);let n=a[0],s=(0,K.useCallback)(()=>{r(e=>e.slice(1))},[]);return n?(0,H.jsx)(ac,{...n,onToastDone:s}):null},am=(0,K.createContext)({}),au=()=>(0,K.useContext)(am),ah=e=>{let{children:t}=e,[l,a]=(0,K.useState)(),r=(0,K.useMemo)(()=>({hideToast:()=>{a(null)},showToast:e=>{a(e)}}),[]);return(0,H.jsxs)(am.Provider,{value:r,children:[t,l?(0,aa.createPortal)((0,H.jsx)(ad,{...l}),document.getElementById("toast-container")):null]})};var ap=l(61054),ax=l(38721),af=function(e){return e[e.AGREE_DIFFERENT_REGION_TOS=0]="AGREE_DIFFERENT_REGION_TOS",e[e.AGREED=1]="AGREED",e[e.DISAGREED=2]="DISAGREED",e[e.EMPTY=3]="EMPTY",e[e.SUSPENDED=4]="SUSPENDED",e[e.UPGRADE=5]="UPGRADE",e}(af||{});function ag(e,t){let{agreeRegion:l="",tos:a=""}=t||{},r=null;switch(a){case"AGREED":r=1;break;case"DISAGREED":r=2;break;case"UPGRADE":default:r=5;break;case"SUSPENDED":r=4;break;case"AGREEOVER180":case"":r=3*(""===l||l===e)}return r}let ab=(e,t)=>1===ag(e,t),av=(e,t)=>{let l=ag(e,t);return 4===l||0===l};function aw(){return(aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(null,arguments)}let ay=function(e){return K.createElement("svg",aw({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,viewBox:"0 0 24 24"},e),A||(A=K.createElement("defs",null,K.createElement("path",{id:"kimochi_svg__a",d:"M15.264 14.286c-1.03 1.67-2.87 2.823-5.301 2.823-2.464 0-4.322-1.185-5.343-2.89a8.64 8.64 0 0 1 5.278-1.79 8.64 8.64 0 0 1 5.366 1.857"}))),S||(S=K.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(2 2)"},K.createElement("circle",{cx:9.966,cy:9.966,r:9.966,fill:"#FADC00"}),K.createElement("circle",{cx:6.923,cy:7.231,r:1.077,fill:"#26282A"}),K.createElement("circle",{cx:13.077,cy:7.231,r:1.077,fill:"#26282A"}),K.createElement("path",{fill:"#FF542B",d:"M15.253 10.15H4.672c-.935 0-.98.624-.98.949 0 .037.045.314.098.713.38 2.89 2.662 5.297 6.173 5.297 3.51 0 5.792-2.406 6.173-5.297.052-.399.1-.701.098-.713 0-.327-.019-.948-.98-.948z"}),K.createElement("use",{xlinkHref:"#kimochi_svg__a",fill:"#FF7655"}))))};function aj(){return(aj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(null,arguments)}let aE=function(e){return K.createElement("svg",aj({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 24 24"},e),R||(R=K.createElement("defs",null,K.createElement("linearGradient",{id:"ypoint_svg__a",x1:"95.11%",x2:".601%",y1:"0%",y2:"99.368%"},K.createElement("stop",{offset:"0%",stopColor:"#FADC00"}),K.createElement("stop",{offset:"47.814%",stopColor:"#FCC800"}),K.createElement("stop",{offset:"74.772%",stopColor:"#FFAF00"}),K.createElement("stop",{offset:"100%",stopColor:"#FFAF00"})))),O||(O=K.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(2 2)"},K.createElement("circle",{cx:10,cy:10,r:10,fill:"url(#ypoint_svg__a)"}),K.createElement("path",{fill:"#FFAF00",d:"m5.944.857 6.149 18.924A10 10 0 0 1 10 20C4.477 20 0 15.523 0 10 0 5.921 2.442 2.413 5.944.857"}),K.createElement("path",{fill:"#FFF",d:"M11.238 11.454v4.143a.41.41 0 0 1-.416.403H9.181a.41.41 0 0 1-.417-.403V11.5a.4.4 0 0 0-.064-.216L5.065 5.619C4.89 5.35 5.09 5 5.417 5h1.898a.42.42 0 0 1 .358.197L9.88 8.582c.16.261.117.263.28.002l2.25-3.39A.42.42 0 0 1 12.766 5h1.817c.329 0 .528.352.35.62l-3.63 5.617a.4.4 0 0 0-.065.217"}))))};function aN(){return(aN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(null,arguments)}let a_=function(e){return K.createElement("svg",aN({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,fill:"none"},e),T||(T=K.createElement("path",{fill:"#C7CDD2",fillOpacity:.2,fillRule:"evenodd",d:"M43.073 33.677H37.83a1.17 1.17 0 0 0 0 2.342h1.548l-.007.02a3.513 3.513 0 0 1-.386 7.005H10.985a3.512 3.512 0 0 1-3.311-4.683H5.148a3.512 3.512 0 0 1 0-7.026h6.612a3.512 3.512 0 0 1 3.311-4.684h28.001a3.512 3.512 0 0 1 0 7.026",clipRule:"evenodd"})),I||(I=K.createElement("path",{fill:"#FADC00",fillRule:"evenodd",d:"M1.996 19.368a.38.38 0 0 1-.257-.09.3.3 0 0 1-.103-.244q0-.128.103-.23a.35.35 0 0 1 .257-.102q.846 0 1.45-.617.602-.615.602-1.463 0-.13.09-.23.089-.104.244-.104.128 0 .23.103a.32.32 0 0 1 .104.23q0 .848.602 1.464.604.616 1.45.616.154 0 .256.103.103.102.103.23a.3.3 0 0 1-.103.244.37.37 0 0 1-.256.09q-.847 0-1.45.617-.602.615-.602 1.463a.32.32 0 0 1-.104.23.32.32 0 0 1-.23.103.3.3 0 0 1-.244-.102.34.34 0 0 1-.09-.231q0-.847-.603-1.463a1.96 1.96 0 0 0-1.45-.617M38.671 7.623a.3.3 0 0 1-.21-.074.25.25 0 0 1-.084-.2.26.26 0 0 1 .084-.188.29.29 0 0 1 .21-.084 1.6 1.6 0 0 0 1.186-.504q.493-.504.493-1.198 0-.105.074-.188a.25.25 0 0 1 .2-.085q.105 0 .188.085a.26.26 0 0 1 .085.188q0 .693.493 1.198a1.6 1.6 0 0 0 1.186.504q.126 0 .21.084a.26.26 0 0 1 .084.188.25.25 0 0 1-.085.2.3.3 0 0 1-.21.074 1.6 1.6 0 0 0-1.185.504 1.65 1.65 0 0 0-.493 1.197q0 .104-.085.189a.26.26 0 0 1-.188.083.25.25 0 0 1-.2-.083.28.28 0 0 1-.074-.189q0-.693-.493-1.197a1.6 1.6 0 0 0-1.186-.504M43.8 22.128a.17.17 0 0 1-.117-.041.14.14 0 0 1-.047-.111q0-.06.047-.105a.16.16 0 0 1 .117-.047.89.89 0 0 0 .659-.28.92.92 0 0 0 .274-.665q0-.059.04-.105a.14.14 0 0 1 .111-.047q.06 0 .105.047.047.046.047.105 0 .386.274.665.274.28.659.28.07 0 .116.047.047.046.047.105a.14.14 0 0 1-.047.11.17.17 0 0 1-.116.042.89.89 0 0 0-.659.28.92.92 0 0 0-.274.665.15.15 0 0 1-.047.105.14.14 0 0 1-.105.046.14.14 0 0 1-.11-.046.16.16 0 0 1-.041-.105.92.92 0 0 0-.274-.665.89.89 0 0 0-.66-.28",clipRule:"evenodd",opacity:.8})),M||(M=K.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M34.014 40.408a.2.2 0 0 1-.14-.05.17.17 0 0 1-.056-.133q0-.07.056-.125a.2.2 0 0 1 .14-.056q.463 0 .79-.336.33-.336.33-.798 0-.071.049-.126a.17.17 0 0 1 .133-.057q.069 0 .126.057.056.056.056.126 0 .462.329.798t.79.336a.2.2 0 0 1 .14.056q.056.056.056.125 0 .085-.056.133a.2.2 0 0 1-.14.05q-.461 0-.79.336-.33.336-.33.798 0 .069-.055.126a.17.17 0 0 1-.126.056.17.17 0 0 1-.133-.056.2.2 0 0 1-.05-.126q0-.462-.328-.798a1.07 1.07 0 0 0-.79-.336M12.196 34.953a.2.2 0 0 1-.14-.05.17.17 0 0 1-.056-.132q0-.07.056-.126a.2.2 0 0 1 .14-.056q.462 0 .79-.336.33-.336.33-.798 0-.07.048-.126a.17.17 0 0 1 .133-.056q.071 0 .126.056t.057.126q0 .462.328.798.33.336.791.336a.2.2 0 0 1 .14.056q.056.056.056.126 0 .084-.056.133a.2.2 0 0 1-.14.049q-.462 0-.79.336-.33.336-.33.798 0 .069-.056.126a.17.17 0 0 1-.126.056.17.17 0 0 1-.133-.056.2.2 0 0 1-.049-.126q0-.462-.328-.798a1.07 1.07 0 0 0-.791-.336",clipRule:"evenodd"})),D||(D=K.createElement("path",{fill:"#FADC00",fillRule:"evenodd",d:"M12.229 11.779a.24.24 0 0 1-.164-.058.2.2 0 0 1-.065-.155q0-.082.065-.147a.22.22 0 0 1 .164-.065q.538 0 .922-.392t.384-.931q0-.082.057-.147a.2.2 0 0 1 .155-.066.2.2 0 0 1 .147.066.2.2 0 0 1 .065.147q0 .54.384.931.384.392.922.392.099 0 .163.065a.2.2 0 0 1 .066.147.2.2 0 0 1-.066.155.24.24 0 0 1-.163.058q-.538 0-.922.392a1.29 1.29 0 0 0-.384.931.2.2 0 0 1-.065.147.2.2 0 0 1-.147.065.2.2 0 0 1-.155-.065.22.22 0 0 1-.057-.147q0-.54-.384-.931a1.24 1.24 0 0 0-.922-.392",clipRule:"evenodd",opacity:.8})),L||(L=K.createElement("path",{fill:"#C07BA5",fillRule:"evenodd",d:"m19.873 22.111 1.626-.777v17.05a.813.813 0 1 1-1.626 0z",clipRule:"evenodd"})),P||(P=K.createElement("path",{fill:"url(#taskCompleted_svg__a)",fillRule:"evenodd",d:"M19.873 7.178a1.503 1.503 0 0 1 2.106-1.377l15.947 6.98c.6.263.6 1.114 0 1.377L19.873 22.06z",clipRule:"evenodd"})),K.createElement("path",{fill:"url(#taskCompleted_svg__b)",fillRule:"evenodd",d:"M21.485 21.373V5.591l.454.196 2.507 14.276z",clipRule:"evenodd",opacity:.1,style:{mixBlendMode:"multiply"}}),F||(F=K.createElement("defs",null,K.createElement("linearGradient",{id:"taskCompleted_svg__a",x1:29.994,x2:4.782,y1:-7.049,y2:16.62,gradientUnits:"userSpaceOnUse"},K.createElement("stop",{stopColor:"#7E1FFF"}),K.createElement("stop",{offset:1,stopColor:"#FF0080"})),K.createElement("linearGradient",{id:"taskCompleted_svg__b",x1:25.175,x2:19.095,y1:15.907,y2:14.287,gradientUnits:"userSpaceOnUse"},K.createElement("stop",{stopOpacity:.01}),K.createElement("stop",{offset:1})))))},ak=e=>{let{children:t,id:l,wrapperClassName:a}=e;return(0,H.jsx)("div",{className:ee()("bg-marshmallow border-grey-hair mb-module-gap rounded-lg border border-solid px-4 py-2",a),id:l,children:t})},aC=e=>{let{done:t,max:l,svgDefId:a="trophy-task"}=e;return(0,H.jsxs)("div",{className:"after:text-px12 relative h-[40px] after:absolute after:top-[13px] after:left-[1px] after:w-full after:text-center after:leading-[16px] after:content-[attr(data-percent)]","data-percent":"".concat(t,"/").concat(l),children:[(0,H.jsx)("svg",{viewBox:"-10 -10 220 220",width:"40",height:"40",children:(0,H.jsxs)("g",{fill:"none",strokeWidth:"17",transform:"translate(100,100)",children:[(0,H.jsx)("path",{d:"M 0,-100 A 100,100 0 0,1 86.6,-50",stroke:"url(#".concat(a,"-cl1)")}),(0,H.jsx)("path",{d:"M 86.6,-50 A 100,100 0 0,1 86.6,50",stroke:"url(#".concat(a,"-cl2)")}),(0,H.jsx)("path",{d:"M 86.6,50 A 100,100 0 0,1 0,100",stroke:"url(#".concat(a,"-cl3)")}),(0,H.jsx)("path",{d:"M 0,100 A 100,100 0 0,1 -86.6,50",stroke:"url(#".concat(a,"-cl4)")}),(0,H.jsx)("path",{d:"M -86.6,50 A 100,100 0 0,1 -86.6,-50",stroke:"url(#".concat(a,"-cl5)")}),(0,H.jsx)("path",{d:"M -86.6,-50 A 100,100 0 0,1 0,-100",stroke:"url(#".concat(a,"-cl6)")})]})}),(0,H.jsx)("svg",{className:"animate-challenge-circle absolute top-0 left-0 origin-center -rotate-90",height:"40",viewBox:"-10 -10 220 220",width:"40",children:(0,H.jsx)("path",{className:"animate-challenge-circle duration-1000",fill:"none",strokeWidth:"21",strokeDasharray:"629",stroke:"#e0e4e9",d:"M200,100 C200,44.771525 155.228475,0 100,0 C44.771525,0 0,44.771525 0,100 C0,155.228475 44.771525,200 100,200 C155.228475,200 200,155.228475 200,100 Z",strokeDashoffset:t?t/l*629:0})}),(0,H.jsx)("svg",{width:"0",height:"0",children:(0,H.jsxs)("defs",{children:[(0,H.jsxs)("linearGradient",{id:"".concat(a,"-cl1"),gradientUnits:"objectBoundingBox",x1:"0",y1:"0",x2:"1",y2:"1",children:[(0,H.jsx)("stop",{stopColor:"#a300cd"}),(0,H.jsx)("stop",{offset:"100%",stopColor:"#e40854"})]}),(0,H.jsxs)("linearGradient",{id:"".concat(a,"-cl2"),gradientUnits:"objectBoundingBox",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,H.jsx)("stop",{stopColor:"#e40854"}),(0,H.jsx)("stop",{offset:"100%",stopColor:"#b800a9"})]}),(0,H.jsxs)("linearGradient",{id:"".concat(a,"-cl3"),gradientUnits:"objectBoundingBox",x1:"1",y1:"0",x2:"0",y2:"1",children:[(0,H.jsx)("stop",{stopColor:"#b800a9"}),(0,H.jsx)("stop",{offset:"100%",stopColor:"#6828ff"})]}),(0,H.jsxs)("linearGradient",{id:"".concat(a,"-cl4"),gradientUnits:"objectBoundingBox",x1:"1",y1:"1",x2:"0",y2:"0",children:[(0,H.jsx)("stop",{stopColor:"#6828ff"}),(0,H.jsx)("stop",{offset:"100%",stopColor:"#4856ff"})]}),(0,H.jsxs)("linearGradient",{id:"".concat(a,"-cl5"),gradientUnits:"objectBoundingBox",x1:"0",y1:"1",x2:"0",y2:"0",children:[(0,H.jsx)("stop",{stopColor:"#4856ff"}),(0,H.jsx)("stop",{offset:"100%",stopColor:"#5f34ff"})]}),(0,H.jsxs)("linearGradient",{id:"".concat(a,"-cl6"),gradientUnits:"objectBoundingBox",x1:"0",y1:"1",x2:"1",y2:"0",children:[(0,H.jsx)("stop",{stopColor:"#5f34ff"}),(0,H.jsx)("stop",{offset:"100%",stopColor:"#a300cd"})]})]})})]})},aA={elm:"itm",elmt:"link",itc:0,sec:"article-challenge",subsec:"login"},aS={elm:"btn",itc:1,sec:"article-challenge",subsec:"login"},aR=e=>{let{actionButtonTextKey:t,actionButtonClicked:l,aboutLoyaltyProgramUrl:a,challengeTitle:r,completed:n=0,defaultRewardPoint:s,description:i,detailLinkI13n:o,handleActionButtonClick:c,isDone:d,isFront:m,maxExecutionTimes:u=0,moreChallengeUrl:h="",titleKey:p}=e,x=(0,V.A)(),{region:f}=(0,ez._)();return(0,H.jsxs)(ak,{wrapperClassName:ee()("h-full w-full top-0 backface-hidden",m?d?"absolute":"relative":d?"relative":"absolute",{"-rotate-x-180":!m}),children:[(0,H.jsxs)("div",{className:"mb-2 flex items-center",children:[(0,H.jsx)("h3",{className:"text-batcave text-px16 leading-[1.35] font-bold",children:x.formatMessage({id:p})}),(0,H.jsx)(W.Rl,{className:"ml-auto",dataYlk:{...o,slk:x.formatMessage({id:"article_challenge.EVENT_DESCRIPTION"}),subsec:"login"},href:a,children:(0,H.jsx)(lE,{})})]}),(0,H.jsx)("div",{className:"flex items-center",children:m?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(aC,{done:n,max:u}),(0,H.jsxs)("div",{className:"mx-2 grow",children:[(0,H.jsxs)("div",{className:"text-px16 text-batcave mb-1 flex items-center leading-[1.35] font-bold",children:[(0,H.jsxs)("span",{children:[r," +",s]}),"TW"===f?(0,H.jsx)(ay,{className:"ml-1"}):null,"HK"===f?(0,H.jsx)(aE,{className:"ml-1"}):null]}),(0,H.jsx)("p",{className:"text-px14 text-batcave mr-2 leading-[1.35]",children:i})]}),(0,H.jsx)(W.sC,{className:ee()("text-px16 flex-none rounded-full px-4 py-2 leading-none font-bold",l?"bg-dirty-seagull text-gandalf":"bg-brand-yahoo-purple text-white"),dataYlk:aS,onClick:c,children:x.formatMessage({id:t})})]}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(a_,{className:"mr-2 flex-none"}),(0,H.jsx)("p",{className:"text-px14 text-batcave mr-2 leading-[1.35]",children:i}),(0,H.jsx)(W.Rl,{className:"bg-brand-yahoo-purple text-px16 flex-none rounded-full px-4 py-2 leading-none font-bold text-white",dataYlk:aA,href:h,children:x.formatMessage({id:t})})]})})]})},aO=e=>{let{aboutLoyaltyProgramUrl:t,advertorialChallengeTag:l,appId:a,articleChallenge:r,crumb:n,detailLinkI13n:s,id:i,isAdvertorialChallenge:o,moreChallengeUrl:c,uuid:d}=e,m=(0,V.A)(),[u,h]=(0,K.useState)(!1),{currentExecutionTimes:p,defaultRewardPoint:x,description:f,maxExecutionTimes:g,name:b}=r,[v,w]=(0,K.useState)(p),y=(0,K.useCallback)(async()=>{let e={};return o&&(e={_tags:l,pstaid:d}),await (0,al.j8)({resource:o?"loyalty.createActionsOfAdvertorial":"loyalty.createActionsOfArticle",resourceParams:{appId:a,contextId:"".concat(d,"_").concat(new Date().toISOString().slice(0,10)),crumb:n,metadata:JSON.stringify(e)}})},[l,a,n,o,d]),{showToast:j}=au(),[E,N]=(0,K.useState)(!1),{region:_}=(0,ez._)(),k=(0,K.useCallback)(async()=>{try{N(!0);let{challengeName:e,experiencePoint:t}=await y();t?(w(v+1),j({content:(0,H.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,H.jsxs)("div",{className:"mr-auto font-bold",children:[m.formatMessage({id:"article_challenge.TASK_COMPLETED_CONGRATULATIONS"}),e]}),(0,H.jsxs)("div",{className:"flex",children:[(0,H.jsxs)("span",{className:"text-px20 mr-1 font-bold",children:["+",t]}),"TW"===_?(0,H.jsx)(ay,{height:"20",width:"20"}):null,"HK"===_?(0,H.jsx)(aE,{height:"20",width:"20"}):null]})]}),mode:"success"}),g-v==1&&(h(!0),o||await (0,al.j8)({resource:"userSubCookie.writeUserSubCookie",resourceParams:{subValue:{[aU]:aB}}}))):j({content:m.formatMessage({id:"article_challenge.TASK_WAS_COMPLETED_TRY_NEXT"}),mode:"alert"})}catch(e){}},[v,y,m,o,g,_,j]),C={aboutLoyaltyProgramUrl:t,detailLinkI13n:s,isDone:u},A={actionButtonTextKey:"article_challenge.GO_CHALLENGE",description:m.formatMessage({id:"article_challenge.SEE_ALL_CHALLENGES_AT_MEMBERCENTER"}),isFront:!1,moreChallengeUrl:c,titleKey:o?"article_challenge.READ_ADVERTORIAL_COMPLETED":"article_challenge.READ_ARTICLE_COMPLETED"};return(0,H.jsxs)("div",{className:ee()("relative duration-400 transform-3d",{"rotate-x-180":u}),id:i,children:[(0,H.jsx)(aR,{...C,actionButtonClicked:E,actionButtonTextKey:E?"article_challenge.TASK_COMPLETED":"article_challenge.GET_IT",challengeTitle:b,completed:v,defaultRewardPoint:x,description:f,handleActionButtonClick:k,isFront:!0,maxExecutionTimes:g,titleKey:"article_challenge.READ_ARTICLE_CHALLENGE"}),(0,H.jsx)(aR,{...C,...A})]})};function aT(){return(aT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)({}).hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(null,arguments)}let aI=function(e){return K.createElement("svg",aT({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,fill:"none"},e),U||(U=K.createElement("path",{fill:"#F1F1F5",fillRule:"evenodd",d:"M24 0c13.255 0 24 10.745 24 24S37.255 48 24 48 0 37.255 0 24 10.745 0 24 0",clipRule:"evenodd",opacity:.4})),K.createElement("mask",{id:"points_svg__a",width:48,height:48,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"luminance"}},B||(B=K.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M24 0c13.255 0 24 10.745 24 24S37.255 48 24 48 0 37.255 0 24 10.745 0 24 0",clipRule:"evenodd"}))),z||(z=K.createElement("g",{mask:"url(#points_svg__a)"},K.createElement("rect",{width:10.8,height:10.8,x:18.3,y:38.1,fill:"#FADC00",opacity:.12,rx:5.4}),K.createElement("rect",{width:12,height:12,x:37.8,y:31.5,fill:"#FADC00",opacity:.12,rx:6}),K.createElement("rect",{width:10.8,height:10.8,x:-1.2,y:34.5,fill:"#FADC00",opacity:.12,rx:5.4}),K.createElement("circle",{cx:19.05,cy:45.45,r:4.875,fill:"#FADC00",transform:"rotate(10 19.05 45.45)"}),K.createElement("path",{fill:"#FF542B",fillRule:"evenodd",d:"m21.59 45.898-.324-.057-4.43-.782-.325-.057c-.45-.079-.524.216-.551.372-.003.018-.005.155-.014.351-.061 1.42.83 2.768 2.516 3.066 1.685.297 2.984-.665 3.412-2.02.059-.188.107-.329.107-.335.028-.157.072-.457-.39-.538",clipRule:"evenodd"}),K.createElement("path",{fill:"#FF7655",fillRule:"evenodd",d:"M18.475 48.804c-1.183-.209-1.98-.938-2.325-1.843a4.22 4.22 0 0 1 2.69-.41 4.18 4.18 0 0 1 2.413 1.33c-.635.715-1.611 1.129-2.778.923",clipRule:"evenodd"}),K.createElement("path",{fill:"#26282A",d:"m17.13 43.944.56-.16-.474-.364a.244.244 0 0 1-.044-.346.253.253 0 0 1 .351-.042l.86.662a.244.244 0 0 1-.082.43l-1.029.294a.25.25 0 0 1-.31-.169.244.244 0 0 1 .169-.305M21.369 44.691c.111.081.136.235.054.345a.25.25 0 0 1-.35.052l-.866-.627a.244.244 0 0 1 .07-.433l1.034-.328a.25.25 0 0 1 .316.16.244.244 0 0 1-.16.31l-.57.18z"}),K.createElement("g",{filter:"url(#points_svg__b)"},K.createElement("circle",{cx:10.8,cy:42,r:5.25,fill:"#FADC00",transform:"rotate(-9 10.8 42)"}),K.createElement("path",{fill:"#FF542B",fillRule:"evenodd",d:"m13.544 41.565-.35.056-4.786.758-.35.055c-.485.077-.458.404-.431.573.003.019.05.159.11.361.434 1.468 1.815 2.528 3.635 2.24s2.806-1.723 2.766-3.254c-.005-.21-.006-.371-.007-.377-.027-.17-.088-.49-.587-.412",clipRule:"evenodd"}),K.createElement("path",{fill:"#FF7655",fillRule:"evenodd",d:"M11.39 45.617c-1.277.202-2.344-.261-3.013-1.062a4.55 4.55 0 0 1 2.595-1.36 4.5 4.5 0 0 1 2.924.509c-.397.95-1.245 1.713-2.506 1.913",clipRule:"evenodd"}),K.createElement("path",{fill:"#FF542B",fillRule:"evenodd",d:"m9.056 41.628-1.114-.775a.56.56 0 0 1-.127-.801.6.6 0 0 1 .395-.235c.33-.052.522.165.59.2.056-.056.169-.32.5-.372a.6.6 0 0 1 .448.1.56.56 0 0 1 .127.801zM12.218 41.127l-1.114-.775a.56.56 0 0 1-.127-.8.6.6 0 0 1 .395-.236c.33-.052.522.165.59.201.056-.057.168-.32.5-.373.16-.025.319.01.448.101a.56.56 0 0 1 .127.8z",clipRule:"evenodd"})),K.createElement("g",{filter:"url(#points_svg__c)"},K.createElement("circle",{cx:28.037,cy:45.737,r:5.25,fill:"#FADC00",transform:"rotate(-12 28.037 45.737)"}),K.createElement("ellipse",{cx:28.358,cy:47.247,fill:"#FF542B",rx:2.1,ry:2.331,transform:"rotate(-12 28.358 47.247)"}),K.createElement("path",{fill:"#FF7655",fillRule:"evenodd",d:"M26.752 48.934c.18-.717.806-1.324 1.645-1.502.84-.179 1.658.12 2.115.703-.17.77-.83 1.214-1.67 1.392-.839.178-1.622.041-2.09-.593",clipRule:"evenodd"}),K.createElement("circle",{cx:26.154,cy:44.651,r:.565,fill:"#26282A",transform:"rotate(-12 26.154 44.65)"}),K.createElement("circle",{cx:29.315,cy:43.979,r:.565,fill:"#26282A",transform:"rotate(-12 29.315 43.98)"})),K.createElement("g",{filter:"url(#points_svg__d)"},K.createElement("circle",{cx:36.67,cy:41.17,r:5.75,fill:"#FADC00",transform:"rotate(-19 36.67 41.17)"}),K.createElement("path",{fill:"#26282A",d:"M35.46 41.1a.316.316 0 0 0-.598.206c.064.184-.157.45-.422.541-.264.091-.594.015-.657-.169a.316.316 0 1 0-.598.206c.184.537.885.76 1.461.561s1-.808.815-1.345M39.728 39.631a.316.316 0 0 0-.598.206c.064.184-.076.421-.34.512-.265.092-.52-.01-.584-.194a.316.316 0 0 0-.598.206c.185.537.812.785 1.388.587s.917-.78.732-1.317"}),K.createElement("circle",{cx:37.419,cy:43.345,r:1.15,fill:"#FF542B",transform:"rotate(-19 37.42 43.345)"})),K.createElement("path",{fill:"#DBE0E7",d:"M14.113 18.542a.297.297 0 0 0-.016.428c1.057 1.1 5.718 5.99 5.363 6.34-.4.395-7.254-6.074-7.254-6.074a.675.675 0 0 1 0-.97l6.3-6.09c.268-.26.93-.222 1.19.046s.424.804.156 1.064zM34.376 18.542a.297.297 0 0 1 .017.428c-1.058 1.1-5.719 5.99-5.364 6.34.4.395 7.254-6.074 7.254-6.074a.675.675 0 0 0 0-.97l-6.3-6.09c-.268-.26-.93-.222-1.19.046s-.424.804-.156 1.064z"}),K.createElement("path",{fill:"#E0E4E9",fillRule:"evenodd",d:"M17.781 6.676A1.2 1.2 0 0 1 18.98 5.4h10.295a1.2 1.2 0 0 1 1.194 1.32l-.54 5.4a1.2 1.2 0 0 1-1.194 1.08h-9.411a1.2 1.2 0 0 1-1.198-1.124z",clipRule:"evenodd"}),K.createElement("circle",{cx:24.267,cy:25.467,r:6.75,fill:"#FADC00",transform:"rotate(9 24.267 25.467)"}),K.createElement("path",{fill:"#FF542B",fillRule:"evenodd",d:"m27.796 26.026-.452-.071-6.152-.975-.45-.071c-.624-.099-.72.312-.755.528-.003.025-.002.215-.01.486-.05 1.968 1.216 3.813 3.557 4.183 2.34.371 4.115-.992 4.674-2.88.077-.26.14-.456.141-.464.035-.218.088-.634-.553-.736",clipRule:"evenodd"}),K.createElement("path",{fill:"#FF7655",fillRule:"evenodd",d:"M23.552 30.125c-1.642-.26-2.762-1.25-3.263-2.496a5.85 5.85 0 0 1 3.714-.632 5.78 5.78 0 0 1 3.373 1.784c-.862 1.004-2.203 1.6-3.824 1.344",clipRule:"evenodd"}),K.createElement("circle",{cx:22.508,cy:23.296,r:.727,fill:"#26282A",transform:"rotate(9 22.508 23.296)"}),K.createElement("circle",{cx:26.611,cy:23.946,r:.727,fill:"#26282A",transform:"rotate(9 26.611 23.946)"}),K.createElement("path",{fill:"#E0E4E9",d:"M23.1-.6h2.1v6h-2.1z"}),K.createElement("circle",{cx:8.1,cy:23.1,r:.9,stroke:"#E0E4E9",strokeWidth:.45}),K.createElement("circle",{cx:17.1,cy:38.1,r:.9,fill:"#FADC00",opacity:.3}),K.createElement("circle",{cx:29.55,cy:38.55,r:.45,fill:"#FADC00",opacity:.3}),K.createElement("circle",{cx:19.5,cy:36.9,r:.3,fill:"#FADC00",opacity:.3}),K.createElement("circle",{cx:41.55,cy:14.25,r:.75,stroke:"#E0E4E9",strokeWidth:.375}),K.createElement("path",{fill:"#E0E4E9",d:"M7.656 15.107a.41.41 0 1 1 .818 0v2.728a.41.41 0 1 1-.818 0z"}),K.createElement("path",{fill:"#E0E4E9",d:"M9.429 16.062a.41.41 0 0 1 0 .818H6.702a.41.41 0 0 1 0-.818zM41.856 18.407a.41.41 0 0 1 .818 0v2.728a.41.41 0 1 1-.818 0z"}),K.createElement("path",{fill:"#E0E4E9",d:"M43.629 19.362a.41.41 0 1 1 0 .818h-2.727a.41.41 0 0 1 0-.818zM4.534 18.064a.245.245 0 1 1 .49 0v1.637a.245.245 0 0 1-.49 0z"}),K.createElement("path",{fill:"#E0E4E9",d:"M5.597 18.637a.245.245 0 0 1 0 .491H3.961a.245.245 0 1 1 0-.49zM38.734 16.264a.245.245 0 0 1 .49 0v1.637a.245.245 0 0 1-.49 0z"}),K.createElement("path",{fill:"#E0E4E9",d:"M39.797 16.837a.245.245 0 0 1 0 .491h-1.636a.245.245 0 0 1 0-.49z"}))),q||(q=K.createElement("defs",null,K.createElement("filter",{id:"points_svg__b",width:22.416,height:22.416,x:-.408,y:32.792,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},K.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),K.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),K.createElement("feOffset",{dy:2}),K.createElement("feGaussianBlur",{stdDeviation:2}),K.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),K.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_5212_61216"}),K.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_5212_61216",result:"shape"})),K.createElement("filter",{id:"points_svg__c",width:24.944,height:24.944,x:15.565,y:35.265,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},K.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),K.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),K.createElement("feOffset",{dy:2}),K.createElement("feGaussianBlur",{stdDeviation:2.5}),K.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),K.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_5212_61216"}),K.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_5212_61216",result:"shape"})),K.createElement("filter",{id:"points_svg__d",width:25.541,height:25.541,x:23.9,y:30.4,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},K.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),K.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),K.createElement("feOffset",{dy:2}),K.createElement("feGaussianBlur",{stdDeviation:2}),K.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),K.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_5212_61216"}),K.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_5212_61216",result:"shape"})))))},aM={elm:"itm",elmt:"link",itc:0,sec:"article-challenge",subsec:"non-login"},aD=e=>{let{aboutLoyaltyProgramUrl:t,detailLinkI13n:l,id:a,loginBaseUrl:r}=e,n=(0,V.A)();return(0,H.jsxs)(ak,{id:a,children:[(0,H.jsxs)("div",{className:"mb-2 flex items-center",children:[(0,H.jsx)("h3",{className:"text-batcave text-px16 leading-[1.35] font-bold",children:n.formatMessage({id:"article_challenge.YOU_HAVE_EARNED_POINTS"})}),(0,H.jsx)(W.Rl,{className:"ml-auto",dataYlk:{...l,slk:n.formatMessage({id:"article_challenge.EVENT_DESCRIPTION"}),subsec:"non-login"},href:t,children:(0,H.jsx)(lE,{})})]}),(0,H.jsxs)("div",{className:"flex items-center",children:[(0,H.jsx)(aI,{className:"mr-2 flex-none"}),(0,H.jsx)("p",{className:"text-px14 text-batcave mr-2 leading-[1.35]",children:n.formatMessage({id:"article_challenge.READ_ARTICLE_CHALLENGE_DESCRIPTION"})}),(0,H.jsx)(W.Rl,{className:"bg-brand-yahoo-purple text-px16 flex-none rounded-full px-4 py-2 leading-none font-bold text-white",dataYlk:aM,href:r+encodeURIComponent(window.location.href),children:n.formatMessage({id:"article_challenge.LOGIN_AND_RECEIVE_THE_REWARD"})})]})]})};var aL=function(e){return e.RESULT_INIT="RESULT_INIT",e.RESULT_NOT_AUTHED="RESULT_NOT_AUTHED",e.RESULT_SHOULD_NOT_LOAD_ARTICLE_DATA="RESULT_SHOULD_NOT_LOAD_ARTICLE_DATA",e.RESULT_HIDE_FOR_SUB_COOKIE="RESULT_HIDE_FOR_SUB_COOKIE",e.RESULT_ROUND2_DATA_OK="RESULT_ROUND2_DATA_OK",e.RESULT_ROUND2_DATA_FAIL="RESULT_ROUND2_DATA_FAIL",e.RESULT_ERROR="RESULT_ERROR",e}(aL||{}),aP=function(e){return e.ARTICLE_CHALLENGE="ARTICLE_CHALLENGE",e.NEED_TO_AGREE_TOS="NEED_TO_AGREE_TOS",e.NOT_LOGGED_IN="NOT_LOGGED_IN",e.EMPTY="EMPTY",e}(aP||{});let aF="module-article-challenge",aU="read_article",aB="hide",az={HK:{aboutLoyaltyProgramUrl:"https://ynews.page.link/DC2z2",appId:"media-hk",loginUrl:"https://login.yahoo.com/m?.intl=hk&.lang=zh-Hant-HK&.src=hkmobi&.done=",loyaltyTosUrl:"https://hk.yahoo.com/member/atos?.done=",moreChallengeUrl:"https://hk.yahoo.com/member/tasklist"},TW:{aboutLoyaltyProgramUrl:"https://tw.promo.yahoo.com/2019yahoo/member/",appId:"media-tw",loginUrl:"https://login.yahoo.com/m/?.intl=tw&.lang=zh-Hant-TW&.src=twmobi&.done=",loyaltyTosUrl:"https://tw.yahoo.com/member/atos?.done=",moreChallengeUrl:"https://tw.yahoo.com/member/tasklist"}},aq={elm:"itm",elmt:"link",itc:0,sec:"article-challenge"},aH=e=>{let{articleChallenge:t,result:l,tos:a,userRegion:r}=e;switch(l){case"RESULT_NOT_AUTHED":return"NOT_LOGGED_IN";case"RESULT_INIT":case"RESULT_SHOULD_NOT_LOAD_ARTICLE_DATA":case"RESULT_HIDE_FOR_SUB_COOKIE":case"RESULT_ROUND2_DATA_FAIL":case"RESULT_ERROR":return"EMPTY";case"RESULT_ROUND2_DATA_OK":{if(av(r,a))return"EMPTY";if(!ab(r,a))return"NEED_TO_AGREE_TOS";let{currentExecutionTimes:e=-1,defaultChallengeLevelId:l="",defaultRewardPoint:n=-1,description:s="",maxExecutionTimes:i=-1,name:o=""}=t||{};if(i<0||!o||e<0||!l||n<0||!s||e>=i)return"EMPTY"}}return"ARTICLE_CHALLENGE"},aW=e=>{let{advertorialChallengeTag:t="",appId:l,shouldLoadArticleData:a}=e,{authed:r,region:n}=(0,ez._)(),s=(0,K.useCallback)(async()=>{let e,n;if(!r)return{result:"RESULT_NOT_AUTHED"};if(!a)return{result:"RESULT_SHOULD_NOT_LOAD_ARTICLE_DATA"};try{let l=null==(e=await (0,al.j8)({resource:"userSubCookie.readUserSubCookie"}))?void 0:e[aU];if(!t&&l===aB)return{result:"RESULT_HIDE_FOR_SUB_COOKIE"}}catch(l){let{message:e,stack:t}=l||{};ap.K.reportInfo({message:e,progress:"readUserSubCookie failed",stack:t,tagKey:"articleChallengeError"})}try{let e=async()=>{let e={appId:l},a=[(0,al.j8)({resource:"loyalty.readTos",resourceParams:e}),(0,al.j8)({resource:"loyalty.crumb"}),(0,al.j8)({resource:t?"loyalty.readChallengeSetOfAdvertorial":"loyalty.readChallengesOfArticle",resourceParams:e})];return await Promise.all(a).then(e=>{let l,[a,r,n]=e;return{articleChallenge:"challenges"in n?n.challenges.find(e=>e.defaultChallengeLevelId===t):n,crumb:r.crumb,tos:a}}).catch(e=>{let{message:t,stack:l}=e||{};throw ap.K.reportInfo({message:t,progress:"round2Action retry",stack:l,tagKey:"articleChallengeError"}),e})};return n=await (0,ax.A)(()=>e(),{retries:2,retryDelay:500}),{result:"RESULT_ROUND2_DATA_OK",round2Data:n}}catch(l){let{message:e,stack:t}=l||{};return ap.K.reportInfo({message:e,progress:"round2Action failed",stack:t,tagKey:"articleChallengeError"}),{result:"RESULT_ROUND2_DATA_FAIL"}}},[t,l,r,a]),{data:i,isError:o}=(0,e_.s)({actionAfterFetch:e=>{let{isError:t}=e;t&&ap.K.reportInfo({progress:"useFetch failed",tagKey:"articleChallengeError"})},fetchFn:s,initialData:{result:"RESULT_INIT"}}),c={advertorialChallengeTag:t,isAdvertorialChallenge:!!t,result:o?"RESULT_ERROR":i.result,userRegion:n};return"RESULT_ROUND2_DATA_OK"===i.result&&(c={...c,...i.round2Data}),c},aG=e=>{let{region:t}=(0,ez._)(),{aboutLoyaltyProgramUrl:l,appId:a,loginUrl:r,loyaltyTosUrl:n,moreChallengeUrl:s}=az[t],i=aW({...e,appId:a}),{uuid:o}=e,{advertorialChallengeTag:c,articleChallenge:d,crumb:m,isAdvertorialChallenge:u,result:h,tos:p,userRegion:x}=i,f=(0,K.useMemo)(()=>({articleChallenge:d,result:h,tos:p,userRegion:x}),[d,h,p,x]),g=aH(f);switch((0,K.useEffect)(()=>{"EMPTY"!==g&&(0,W.sq)(aF,"article-challenge")},[g]),(0,K.useEffect)(()=>{"RESULT_INIT"!==h&&"EMPTY"===g&&ap.K.reportInfo({renderType:g,tagKey:"articleChallengeEmpty",...f})},[f,g,h]),g){case"ARTICLE_CHALLENGE":return(0,H.jsx)(ah,{children:(0,H.jsx)(aO,{aboutLoyaltyProgramUrl:l,advertorialChallengeTag:c,appId:a,articleChallenge:d,crumb:m,detailLinkI13n:aq,id:aF,isAdvertorialChallenge:u,moreChallengeUrl:s,uuid:o})});case"NEED_TO_AGREE_TOS":return(0,H.jsx)(aD,{aboutLoyaltyProgramUrl:l,detailLinkI13n:aq,id:aF,loginBaseUrl:n});case"NOT_LOGGED_IN":return(0,H.jsx)(aD,{aboutLoyaltyProgramUrl:l,detailLinkI13n:aq,id:aF,loginBaseUrl:r});default:return null}},aY=(e,t,l,a,r)=>{let{data:{contentMeta:{contentI13n:{uuid:n},seoMeta:{canonicalUrl:s,title:i}}}}=e,o=(0,e8._5)({article:e,articleIndex:t,deviceSize:l,requestContext:r}),{bucket:c,lang:d,region:m,site:u,features:h}=r,p={},x={bucket:c.join(","),device:l,lang:d,region:m,site:u},f={};return h.enableCommentsV2&&(f.hideCommentsTitle=1),{btsAdaptation:1,context:n,contextDisplayText:i.replace(/'/g,"%27")||"",contextUrl:s,hideOnFolded:+("smartphone"===l),namespace:"yahoo_content",onInitialized:()=>{a(!0)},prid:p._rid?p._rid:"",rapid:window.rapidInstance,rapidKeys:o.keys,spaceid:o.spaceid,theme:"redesign",themeContainerClasses:"",trafficSource:"article_20_dark",useRelativeHostName:1,zIndex:21,...x,...f}},aK=(0,K.forwardRef)((e,t)=>{let{article:l,articleIndex:a,commentInitialized:r,isInViewArticle:n,setCommentInitialized:s,scriptReady:i}=e,o=(0,K.useRef)(null),c=(0,K.useRef)(null),d=(0,ez._)(),{device:m}=d,u=(0,K.useMemo)(()=>aY(l,a,m,s,d),[l,a,m,s,d]),h=[u.context,m].join("_"),p=(0,K.useCallback)(()=>new window.YAHOO.CanvassComments(h,u),[h,u]);(0,K.useEffect)(()=>{i&&null===c.current&&n&&(c.current=p())},[m,n,p,i]),(0,K.useImperativeHandle)(t,()=>({collapse(){c.current&&r&&c.current.collapse()},expand(){if(c.current&&r&&(c.current.expand(),"desktop"===m)){var e;null==(e=o.current)||e.scrollIntoView({behavior:"smooth"})}},getCount(){if(c.current&&r)return c.current.getCount()}}),[m,r]);let x="";return"smartphone"===m&&c.current&&!n&&(x="!hidden"),(0,H.jsx)("div",{className:ee()("lg:mb-module-gap mb-0 lg:min-h-[112px]",x),id:h,ref:o})});aK.displayName="CommentIframeRef";let aV=(0,K.forwardRef)((e,t)=>{let[l,a]=(0,K.useState)(!1);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(ti.default,{src:"https://s.yimg.com/aaq/yc/js/iframe-1.0.36.js",onLoad:()=>{a(!0)},onReady:()=>{a(!0)}}),(0,H.jsx)(aK,{...e,ref:t,scriptReady:l})]})});aV.displayName="CommentsIframeWrapperRef";var aX=l(12378);let aJ=e=>{let{spaceId:t,uuid:l}=e,{device:a,site:r,bucket:n}=(0,ez._)(),{services:s}=(0,aX.r)(),{origin:i,pathname:o}=s.shopping,c=Array.isArray(n)?n.join(","):n,d="site=".concat(r,"&device=").concat(a,"&bucketName=").concat(c,"&spaceId=").concat(t,"&articleId=").concat(l),m="".concat(i).concat(o.article,"?").concat(d);return(0,H.jsx)("iframe",{className:"mb-module-gap-lg",id:"mkt-iframe-".concat(l),src:m,height:"105",width:"100%",title:"mkt"})};var a$=l(93731),aQ=l(60061);let aZ=e=>{let{id:t,appName:l,appOS:a,deviceSize:r,placementPrefix:n="",taboolaPositionsByDevice:s}=e,[i,o]=(0,K.useState)({});(0,K.useEffect)(()=>{o((0,aQ.zE)({appName:l,appOS:a,deviceSize:r,taboolaPositionsByDevice:s}))},[l,a,r,s]);let c=Object.assign({},i[t]);return c&&n&&(c.placement="".concat(c.placement,"-").concat(n)),c};var a0=l(88341),a1=l(10950),a2=l(93962);let a4=e=>{let{articleIndex:t,diagnostic:l,postArticleStreamParams:a,initialItems:r,shouldLoadArticleData:n,title:s}=e,i="".concat("post-article-stream","-").concat(t),o=(0,ez._)(),c=(0,eB.S)(),{deviceSize:d}=c.common,m="desktop"===d,{app:u,site:h}=o,p=(0,e5.LX)(u),{fetchNextPage:x,items:f,loadingState:g}=(0,a0.u)({adsFrequency:3,adsStartIndex:1,contextOptions:{diagnostic:l,isAppWebview:p,site:h},params:{...a,adsSlotsEnabled:!1}}),b=0===r.length?f:r;(0,K.useEffect)(()=>{g===a$.p.READY&&0===r.length&&n&&x()},[x,g,r,n]);let{pageConfig:{taboolaPositionsByDevice:v}}=c.currentPage,w=aZ({appName:u.name,appOS:u.os,deviceSize:d,id:"stream-recommended-articles",placementPrefix:"seamless".concat(t+1),taboolaPositionsByDevice:v}),y="mb-5 min-h-[60px] h-[92px] lg:mb-4 lg:min-h-[104px] lg:h-[140px]",j=b.length>0;return((0,K.useEffect)(()=>{j&&(0,W.sq)(j?i:"","rel-stories")},[i,j]),j)?(0,H.jsx)(a2.A,{adClassName:y,adDynamic:!0,className:"mb-module-gap",cardTitleClassName:"text-px16 lg:text-px20",cardClassName:y,enableDescription:m,i13nConfig:{elm:"hdln",itc:0,pos:1,sec:"rel-stories",subsec:"strm-".concat(t+1)},id:i,imageClassName:"aspect-square lg:aspect-video h-[100%]",imageTagSettings:[{screenSize:"default",tagName:a1.v_.square},{screenSize:"lg",tagName:a1.v_.rec16_9}],isLoading:!1,items:b,taboolaConfig:w,title:s,titleClassName:"text-px20",titleMarkerClassName:"block",titleWrapperClassName:"mb-3"}):null};var a5=l(20878);let a3=e=>{let{articleIndex:t,postArticleStreamParams:l,initialItems:a,shouldLoadArticleData:r,title:n}=e,s="".concat("post-article-stream","-").concat(t),i=(0,ez._)(),o=(0,eB.S)(),{deviceSize:c}=o.common,d="desktop"===c,m=(0,K.useCallback)(async()=>(await (0,a5.x)({adsFrequency:3,adsStartIndex:1,params:l,streamKey:"relatedContentStream"})).stream,[l]),{data:u}=(0,e_.s)({fetchFn:m,initialData:a,stopFetching:0!==a.length||!r}),{app:h}=i,{pageConfig:{taboolaPositionsByDevice:p}}=o.currentPage,x=aZ({appName:h.name,appOS:h.os,deviceSize:c,id:"stream-recommended-articles",placementPrefix:"seamless".concat(t+1),taboolaPositionsByDevice:p}),f="mb-5 min-h-[60px] h-[92px] lg:mb-4 lg:min-h-[104px] lg:h-[140px]",g=u.length>0;return((0,K.useEffect)(()=>{g&&(0,W.sq)(g?s:"","rel-stories")},[s,g]),g)?(0,H.jsx)(a2.A,{adClassName:f,adDynamic:!0,className:"mb-module-gap",cardTitleClassName:"text-px16 lg:text-px20",cardClassName:f,enableDescription:d,i13nConfig:{elm:"hdln",itc:0,pos:1,sec:"rel-stories",subsec:"strm-".concat(t+1)},id:s,imageClassName:"aspect-square lg:aspect-video h-[100%]",imageTagSettings:[{screenSize:"default",tagName:a1.v_.square},{screenSize:"lg",tagName:a1.v_.rec16_9}],isLoading:!1,items:u,taboolaConfig:x,title:n,titleClassName:"text-px20",titleMarkerClassName:"block",titleWrapperClassName:"mb-3"}):null},a6=(0,K.forwardRef)((e,t)=>{var l,a,r,n,s,i,o,c,d,m,u,h,p,x;let{article:f,articleMetadata:g,articleIndex:b,diagnostic:v,editorialBanner:w,isInViewArticle:y,isFirstArticle:j,isLastArticle:E,isSeamless:N=!1}=e,_=(null==g?void 0:g.postArticleStream)||[],k=(0,ez._)(),{features:C,region:A,site:S,app:R}=k,{useCG:O,enableCommentsV2:T}=C,I="TW"===A&&f.data.contentMeta.commentsAllowed,[M,D]=(0,K.useState)(!1),[L,P]=(0,K.useState)(void 0),F=(0,K.useRef)(null);(0,K.useEffect)(()=>{var e;P(null==(e=F.current)?void 0:e.getCount())},[M]);let U=(0,K.useCallback)(()=>{F.current&&F.current.expand()},[]),B=(0,K.useCallback)(()=>{F.current&&F.current.collapse()},[]),{isIntersecting:z,ref:q}=(0,eE.BL)({freezeOnceVisible:!0,initialIsIntersecting:j,rootMargin:"300px 0px 0px 0px",threshold:0}),W=(0,eB.S)(),{deviceSize:G}=W.common,{fetchedArticleIds:Y}=W.currentPage.pageState,X=e9(Y,j?1:3),J=(0,K.useRef)(null),{width:Q=0}=(0,eE.lW)({debounceDelay:16}),[Z,ee]=(0,K.useState)([]);(0,K.useEffect)(()=>{"smartphone"!==G?J.current&&(J.current.clientWidth>=970?ee([[970,250],[728,90]]):J.current.clientWidth>=729?ee([[728,90]]):ee([[300,250]])):ee([[300,250]])},[G,Q]);let et=(0,V.A)(),el=(0,eE.DE)(),ea=(0,e8.Ot)({appOS:R.os,article:f,deviceSize:G,region:A,site:S}),en=null!=(p=null==(r=f.data)||null==(a=r.contentMeta)||null==(l=a.contentI13n)?void 0:l.uuid)?p:"",es=null==(d=f.data)||null==(c=d.contentMeta)||null==(o=c.contentTags)||null==(i=o.normalizedTags)||null==(s=i.ymedia)||null==(n=s.challenge)?void 0:n[0],ei=null!=(x=null==(h=f.data)||null==(u=h.contentMeta)||null==(m=u.seoMeta)?void 0:m.canonicalUrl)?x:"",{shortenedUrl:eo}=(0,e7.kA)({region:A,site:S,uuid:en}),ec=(0,K.useMemo)(()=>(0,a1.vi)({article:f,dedupUuids:X,isFirstArticle:j,requestContext:k}),[f,X,j,k]),ed=(0,H.jsxs)("button",{className:"border-batcave text-batcave mb-module-gap-lg inline-flex h-[44px] w-[100%] items-center justify-center rounded-[99px] border border-solid px-6 leading-5 font-bold lg:hidden",onClick:()=>{(0,te.px)({elm:"cmmt_open",g:en,itc:1,sec:"cmmts",slk:"cmmt_open",subsec:"article-bottom"}),U()},children:[(0,H.jsx)($.In,{size:"md",variant:"outline",name:ej.h}),(0,H.jsxs)("span",{className:"ml-1",children:[et.formatMessage({id:"VIEW_COMMENTS"}),void 0!==L&&"(".concat(L,")")]})]}),em=(0,H.jsxs)("div",{className:"my-module-gap-lg mx-auto flex items-center",children:[(0,H.jsx)("div",{className:"text-px20 text-batcave me-2 font-bold",children:et.formatMessage({id:"NEXT_ARTICLE"})}),(0,H.jsx)("hr",{className:"border-batcave grow"})]}),eu=(0,H.jsx)("div",{className:"mx-auto",children:(0,H.jsx)(er.A,{enableRwd:!0,isMain:!1,kvs:{loc:"mid_center_".concat(10+b)},placeholderSize:"midCenter",size:Z,shouldRender:z,unitCode:"mid_center",addModuleGap:!0})}),eh="smartphone"===G,ep=eh&&j;return(0,H.jsxs)("section",{className:"module-article-body",ref:e=>{"function"==typeof t&&t(e),"function"==typeof q&&q(e),J.current=e},children:[(0,H.jsxs)("div",{className:"mx-auto max-w-[754px]",children:[(0,H.jsx)(at,{article:f,articleMetadata:g,commentCount:L,handleCommentClick:U,isFirstArticle:j,isInViewArticle:y,shouldLoadArticleData:z}),el&&j&&eh&&"TW"===A&&"autos"===S&&(0,H.jsx)(eR,{uuid:en,shouldFetchRelatedAutos:z}),el&&j&&eh&&(0,H.jsx)(aG,{advertorialChallengeTag:es,shouldLoadArticleData:z,uuid:en}),j&&"HK"===A&&"news"===S&&w&&(0,H.jsx)(e6.A,{className:"mb-module-gap",i13n:{sec:"module-mktBanner"},...w}),j&&"TW"===A&&(0,H.jsx)(aJ,{spaceId:ea,uuid:en}),I&&!T&&ed,T&&(0,H.jsx)(e3,{shareLink:eo||ei,uuid:en,enableComment:I,commentCount:L,expandComments:U,collapseComments:B}),I&&(0,H.jsx)(aV,{article:f,articleIndex:b,commentInitialized:M,isInViewArticle:y,ref:F,setCommentInitialized:D})]}),N&&(0,H.jsxs)(H.Fragment,{children:[ep?eu:null,(0,H.jsx)(eK,{articleIndex:b,uuid:en}),(0,H.jsx)(O?a4:a3,{articleIndex:b,diagnostic:v,initialItems:_,postArticleStreamParams:ec,shouldLoadArticleData:z,title:j&&(0,a1.hs)(S)?et.formatMessage({id:"CO_VIEW_TITLE"}):et.formatMessage({id:"RELATED_CONTENT_TITLE"})}),ep?null:eu,E?null:em]})]})});a6.displayName="ArticleBlockRef";var a8=l(67342);let a7=function(e){let t,{adsFrequency:l,adsStartIndex:a,diagnostic:r,isAppWebview:n,limit:s,mfiStreamParams:i,skipCount:o,site:c,streamKey:d="main",useCG:m=!1}=e;if(m){let e=i.id,d={diagnostic:r,isAppWebview:n,site:c},m={adsFrequency:l,adsStartIndex:a,limit:s,skipCount:o};switch(e){case"editorial-list":t=()=>(0,a8.Uf)(i,d,m);break;case"filtered-stream":t=()=>(0,a8._A)(i,d,m);break;case"main-stream":t=()=>(0,a8.mX)(i,d,m);break;case"ntk-assetlist-stream":t=()=>(0,a8.UO)(i,d,m);break;case"ntk-main-stream":t=()=>(0,a8.jK)(i,d,m);break;case"related-content-stream":t=()=>(0,a8.dG)(i,d,m);break;case"trending-module":t=()=>(0,a8._b)(i,d,m);break;default:t=()=>Promise.resolve()}}else t=()=>(0,a5.x)({adsFrequency:l,adsStartIndex:a,limit:s,params:i,skipCount:o,streamKey:d});return t};function a9(e){var t,l,a,r;return null!=(r=null==(a=e.data)||null==(l=a.contentMeta)||null==(t=l.contentI13n)?void 0:t.uuid)?r:""}let re=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",{seoMeta:l}=e.data.contentMeta,{canonicalUrl:a,title:r}=l,{pathname:n}=new URL(a);window.history.replaceState({},"",n+t),document.title=r},rt=async e=>{let{article:t,count:l,dedupUuids:a,diagnostic:r,requestContext:n}=e,{app:s,features:i,site:o}=n,c=(0,e5.LX)(s),{useCG:d}=i,m=(0,a1.d$)({article:t,count:l,dedupUuids:a,requestContext:n,snippetCount:l}),u=await a7({diagnostic:r,isAppWebview:c,mfiStreamParams:m,site:o,streamKey:"relatedContentStream",useCG:d})();return null==u?void 0:u.stream.filter(e=>null==e?void 0:e.content).map(e=>{var t;return null==(t=e.content)?void 0:t.id})},rl=e=>{let{article:t,articleIndex:l,articleMetadata:a,diagnostic:r,editorialBanner:n,isFirstArticle:s,isInViewArticle:i,isLastArticle:o,onInView:c}=e,d=(0,K.useRef)(!0),{isIntersecting:m,ref:u}=(0,eE.BL)({initialIsIntersecting:s,rootMargin:"-100% 0% 0% 0%",threshold:0});return(0,K.useEffect)(()=>{m&&(c(l,d.current),d.current&&(d.current=!1))},[l,m,c]),(0,H.jsx)(a6,{article:t,articleMetadata:a,articleIndex:l,diagnostic:r,editorialBanner:n,isFirstArticle:s,isInViewArticle:i,isLastArticle:o,isSeamless:!0,ref:u})},ra=e=>{let{initialArticle:t,initialArticleMetadata:l,editorialBanner:a,diagnostic:r}=e,n=(0,eB.z)(),s=(0,eB.S)(),{deviceSize:i}=s.common,{allowedSearchParams:o,pageState:c}=s.currentPage,{fetchedArticleIds:d,startFetchingSeamlessArticles:m}=c,u=e9(d,2),[h,p]=(0,K.useState)(0),x=(0,ez._)(),f=(0,K.useRef)(""),g=(0,K.useRef)(a9(t)),b=o.devSeamlessUuids||"",v=(0,K.useCallback)(async()=>{let e=await rt({article:t,count:5,dedupUuids:u,diagnostic:r,requestContext:x}),l=await tG({config:{allArticles:!0},params:{uuid:b?"".concat(b,",").concat(e.join(",")):e.join(",")},...x});return l=l.map(tY),n({roundIndex:2,type:"setRoundFetchedArticleIds",uuids:e}),l},[t,u,b,r,n,x]),{data:w}=(0,e_.s)({fetchFn:v,initialData:[],stopFetching:!m}),y=(0,K.useMemo)(()=>[t,...w],[t,w]),j=(0,K.useMemo)(()=>y.map((e,t)=>(l,a)=>{p(l);let r=(0,e8._5)({article:e,articleIndex:t,deviceSize:i,requestContext:x}),{i13n:n}=(0,e8.tu)({article:e,articleIndex:t,deviceSize:i,requestContext:x});if(!(0===l&&a)){var s,o,c;(0,W.YU)(r),null==(c=window)||null==(o=c.benji)||null==(s=o.updateI13N)||s.call(o,n)}0!==l&&a&&(0,W.hl)()}),[y,i,x,p]);(0,K.useEffect)(()=>{f.current=window.location.search},[]);let E=y[h],N=a9(E);return(0,K.useEffect)(()=>{n({article:E,type:"articleIntoView"});let e=0===h?f.current:"";N!==g.current&&(re(E,e),g.current=N)},[N,h,n]),(0,H.jsx)(H.Fragment,{children:y.map((e,t)=>{let n="article-".concat(t);return(0,H.jsx)(rl,{article:e,articleMetadata:0===t?l:void 0,articleIndex:t,diagnostic:r,editorialBanner:a,isFirstArticle:0===t,isInViewArticle:t===h,isLastArticle:t===y.length-1,onInView:j[t]},n)})})},rr=e=>{let{article:t,articleMetadata:l,diagnostic:a,editorialBanner:r}=e;return(0,H.jsx)(a6,{articleIndex:0,article:t,articleMetadata:l,diagnostic:a,editorialBanner:r,isFirstArticle:!0,isInViewArticle:!0,isLastArticle:!0})},rn=e=>{let{diagnostic:t,initialArticle:l,initialArticleMetadata:a,enableSeamless:r,editorialBanner:n}=e;return r?(0,H.jsx)(ra,{diagnostic:t,initialArticle:l,initialArticleMetadata:a,editorialBanner:n}):(0,H.jsx)(rr,{article:l,articleMetadata:a,diagnostic:t,editorialBanner:n})};var rs=l(71647);let ri="lastSmartBannerDisplayTime-8446",ro={finance:{TW:{description:"我的投資工具帶著走",imageUrl:"https://s.yimg.com/cv/apiv2/twstock/img/stockAppIcon2022.png",linkHref:"https://go.onelink.me/rqtG?pid=dsp&c=TW_Acquisition_YMktg_TWStockAppAcquisitionEvergreen_mobilewebsmartbanner_&af_sub1=Acquisition&af_sub2=TW_YMktg&af_sub3=&af_sub4=332&af_sub5=mobilewebsmartbanner_Banner_Banner_320x50&af_c_id=%7Bcampaignid%7D",title:"Yahoo股市 App"}},news:{HK:{description:"每日新聞、生活情報入口",imageUrl:"https://s.yimg.com/cv/apiv2/twmobi/icons/superApp/content/2022-superapp@2x.png",linkHref:"https://go.onelink.me/4VBg?pid=SmartBanner&c=HK_Acquisition_YMktg_922_smartbanner_&af_sub1=Acquisition&af_sub2=HK_YMktg&af_sub3=&af_sub4=922&af_sub5=smartbanner__Banner_",title:"Yahoo APP"},TW:{description:"不錯過每日重要資訊推播",imageUrl:"https://s.yimg.com/cv/apiv2/twmobi/icons/superApp/content/2022-superapp@2x.png",linkHref:"https://go.onelink.me/WAkg?pid=smartbanner&c=TW_Acquisition_YMktg_Q3promo_sb_&af_sub1=Acquisition&af_sub2=TW_YMktg&af_sub3=&af_sub4=&af_sub5=sb__Banner_",title:"切換到Yahoo App"}}},rc=e=>Object.keys(e).some(t=>""===e[t]),rd=e=>!rc(e);var rm=l(4172);let ru={itc:0,sec:"sb-download",subsec:"download"},rh={itc:1,sec:"sb-download",slk:"close",subsec:"close"},rp=e=>{let{articleId:t,description:l,imageUrl:a,linkHref:r,title:n}=e,[s,i]=(0,K.useState)(!0);return((0,K.useEffect)(()=>{try{localStorage.setItem(ri,Date.now().toString())}catch(e){}},[]),(0,K.useEffect)(()=>{s&&(0,W.sq)("smart-banner","smart-banner")},[s]),s)?(0,H.jsx)("div",{id:"smart-banner",className:"fixed right-4 bottom-3 left-4 z-20 rounded-lg bg-[#7d2eff] shadow-[0px_4px_20px_0px_rgba(125,46,255,0.20)]",children:(0,H.jsxs)("div",{className:"flex",children:[(0,H.jsx)(W.sC,{dataYlk:t?{...rh,g:t}:rh,className:"flex-none cursor-pointer px-3",onClick:()=>{i(!1)},children:(0,H.jsx)(rm.A,{className:"text-white"})}),(0,H.jsxs)("div",{className:"relative flex flex-auto items-center py-[7px]",children:[(0,H.jsx)("img",{alt:"app",width:"36",height:"36",className:"mr-3 rounded-lg",src:a}),(0,H.jsxs)("div",{className:"flex flex-auto flex-col items-start text-white",children:[(0,H.jsx)(W.Rl,{href:r,target:"_blank",rel:"noopener noreferrer",className:"after:tw-stretched-box text-px14 mb-0.5 line-clamp-1 font-bold",dataYlk:t?{...ru,g:t,slk:n}:{...ru,slk:n},"aria-label":n,children:n}),(0,H.jsx)("div",{className:"text-px12 line-clamp-1",children:l})]}),(0,H.jsx)($.In,{className:"mr-4 ml-2 flex-none text-white",name:rs.Q,variant:"outline",size:"sm"})]})]})}):null},rx=["--background-breaking-news-mourn","--background-breaking-news-info","--background-breaking-news-attention","--background-breaking-news-alert"],rf=["--batcave","--background-breaking-news-info-inverted","--background-breaking-news-attention-inverted","--background-breaking-news-alert-inverted"],rg=e=>{let{bgColor:t,id:l,url:a,title:r,label:n}=e;return(0,W.ip)("featurebar","featurebar"),(0,H.jsxs)(W.Rl,{className:"group mx-auto mb-5 flex max-w-[754px] items-center overflow-hidden rounded-lg px-3 py-2 text-white lg:px-5",href:a,style:{backgroundColor:"var(".concat(rx[t||0],")")},dataYlk:{cpos:1,ct:"story",elm:"hdln",g:l,itc:0,pos:1,sec:"featurebar",slk:r},id:"featurebar",children:[(0,H.jsxs)("div",{className:"flex min-w-0 flex-1 items-center",children:[n?(0,H.jsx)("div",{className:"lg:text-px16 text-px14 me-2 min-w-fit leading-5 font-medium lg:me-3",style:{color:"var(".concat(rf[t||0],")")},children:n}):null,(0,H.jsx)("h2",{className:"text-batcave text-px14 m-0 flex-1 truncate leading-5 font-medium group-hover:underline",children:r})]}),(0,H.jsx)($.In,{className:"ml-3 hidden shrink-0 lg:block",name:rs.Q,variant:"outline",size:"md",style:{color:"var(".concat(rf[t||0],")")}})]})},rb=e=>{let{main:t,aside:l,deviceSize:a}=e,r=(0,K.useRef)(null),[n,s]=(0,K.useState)(!1),i=Y()(()=>{let e=r.current;if(!e)return;let t=e.getBoundingClientRect(),l=window.innerHeight,{scrollY:a}=window;a+l>=t.height?s(!0):s(!1)},16);return(0,K.useEffect)(()=>{if("smartphone"!==a)return window.addEventListener("scroll",i,{passive:!0}),()=>{window.removeEventListener("scroll",i)}},[a,i]),(0,H.jsxs)("div",{className:"max-w-article-body mx-auto flex flex-col gap-x-5 px-5 lg:flex-row lg:px-10 xl:gap-x-7.5",children:[(0,H.jsx)("main",{className:"flex-auto",children:t}),(0,H.jsx)("aside",{className:"mt-module-gap lg:w-article-aside w-full shrink-0 lg:mt-0",children:(0,H.jsx)("div",{ref:r,className:n?"lg:w-article-aside lg:fixed lg:bottom-0":"",children:l})})]})},rv="preference-stream",rw=e=>{let{diagnostic:t,items:l=[],preferenceStreamPaginationCursor:a,preferenceStreamParams:r,shouldFetchPreferenceStream:n=!1,timeAgoOptions:s}=e,{app:i,site:o}=(0,ez._)(),c=(0,e5.LX)(i),{fetchNextPage:d,items:m=[],loadingState:u}=(0,a0.u)({adsFrequency:3,adsStartIndex:1,contextOptions:{diagnostic:t,isAppWebview:c,site:o},initialItems:l,paginationCursor:a,params:{adsSlotsEnabled:!1,...r},skipCount:5*("sports"===o)}),h=n&&u!==a$.p.FINISHED&&u!==a$.p.ERROR,p=(0,V.A)().formatMessage({id:"PREFERENCE_STREAM_TITLE"}),x=(0,eB.S)(),{deviceSize:f}=x.common,{pageConfig:{taboolaPositionsByDevice:g}}=x.currentPage,b=aZ({appName:i.name,appOS:i.os,deviceSize:f,id:"smartphone"!==f?"stream-preference-stream-large":"stream-preference-stream",taboolaPositionsByDevice:g}),v=m.length>0;return((0,K.useEffect)(()=>{v&&(0,W.sq)(v?rv:"","rr-stories")},[v]),v)?(0,H.jsx)(a2.A,{className:"preference-stream",i13nConfig:{elm:"hdln",pos:1,sec:"rr-stories"},id:rv,items:m,isLoading:!1,imageTagSettings:"smartphone"!==f?a1.v_.rec16_9:a1.v_.square,imageClassName:"aspect-square h-[100%] lg:w-full lg:max-h-[156px] lg:mr-0",cardClassName:"h-[92px] mb-5 lg:h-auto lg:flex-col",cardClassNameNoImage:"no-image py-5 border-dirty-seagull border-t border-b border-solid [&+.no-image]:pt-0 [&+.no-image]:border-t-0 first:pt-0 first:border-t-0 last:pb-0 last:border-b-0",pictureClassName:"lg:mr-0 lg:mb-[8px]",timeAgoOptions:s,adDynamic:!0,taboolaConfig:b,hasRemaining:h,onPlaceholderVisible:d,adClassName:"h-[92px] mb-5 last:mb-0 lg:h-auto lg:min-h-[210px]",title:p,titleMarkerClassName:"lg:hidden",titleWrapperClassName:"mb-3",titleClassName:"text-px20",showTimeAgo:"smartphone"===f}):null};var ry=l(47718);let rj="preference-stream",rE=e=>{let{items:t=[],preferenceStreamPaginationCursor:l,preferenceStreamParams:a,shouldFetchPreferenceStream:r=!1,timeAgoOptions:n}=e,{app:s,site:i}=(0,ez._)(),{fetchNextPage:o,items:c=[],loadingState:d}=(0,ry.E)({adsFrequency:3,adsStartIndex:1,initialItems:t,paginationCursor:l,params:a,skipCount:5*("sports"===i),streamKey:"main"}),m=r&&d!==a$.p.FINISHED&&d!==a$.p.ERROR,u=(0,V.A)().formatMessage({id:"PREFERENCE_STREAM_TITLE"}),h=(0,eB.S)(),{deviceSize:p}=h.common,{pageConfig:{taboolaPositionsByDevice:x}}=h.currentPage,f=aZ({appName:s.name,appOS:s.os,deviceSize:p,id:"smartphone"!==p?"stream-preference-stream-large":"stream-preference-stream",taboolaPositionsByDevice:x}),g=c.length>0;return((0,K.useEffect)(()=>{g&&(0,W.sq)(g?rj:"","rr-stories")},[g]),g)?(0,H.jsx)(a2.A,{className:"preference-stream",i13nConfig:{elm:"hdln",pos:1,sec:"rr-stories"},id:rj,items:c,isLoading:!1,imageTagSettings:"smartphone"!==p?a1.v_.rec16_9:a1.v_.square,imageClassName:"aspect-square h-[100%] lg:w-full lg:max-h-[156px] lg:mr-0",cardClassName:"h-[92px] mb-5 lg:h-auto lg:flex-col",cardClassNameNoImage:"no-image py-5 border-dirty-seagull border-t border-b border-solid [&+.no-image]:pt-0 [&+.no-image]:border-t-0 first:pt-0 first:border-t-0 last:pb-0 last:border-b-0",pictureClassName:"lg:mr-0 lg:mb-[8px]",timeAgoOptions:n,adDynamic:!0,taboolaConfig:f,hasRemaining:m,onPlaceholderVisible:o,adClassName:"h-[92px] mb-5 last:mb-0 lg:h-auto lg:min-h-[210px]",title:u,titleMarkerClassName:"lg:hidden",titleWrapperClassName:"mb-3",titleClassName:"text-px20",showTimeAgo:"smartphone"===p}):null},rN="recommended-article-stream",r_={elm:"hdln",sec:"rel-stories",subsec:"strm-1"},rk={elm:"hdln",sec:"strm",subsec:"bottom"},rC=e=>{let{initialItems:t,paginationCursor:l,params:a,streamKey:r}=e;return(0,ry.E)({adsFrequency:3,adsStartIndex:1,initialItems:t,paginationCursor:l,params:a,streamKey:r})},rA=e=>{let{className:t,initialArticle:l,dedupUuids:a="",perPage:r,recommendedArticles:n=[],recommendedArticlesPaginationCursor:s="",seamlessBottomType:i=!1,title:o,totalContentCount:c}=e;(0,W.ip)(rN,i?"strm":"rel-stories");let d=(0,ez._)(),m=(0,eB.S)(),{deviceSize:u}=m.common,h="desktop"===u,{fetchNextPage:p,items:x,loadingState:f}=rC({initialItems:n,paginationCursor:s,params:i?Object.assign({},(0,a1.vi)({article:l,dedupUuids:a,isFirstArticle:!0,requestContext:d}),{count:c,snippetCount:r}):(0,a1.v2)({article:l,perPage:r,requestContext:d,totalContentCount:c}),streamKey:"relatedContentStream"}),{app:g}=d,{pageConfig:{taboolaPositionsByDevice:b}}=m.currentPage,v=aZ({appName:g.name,appOS:g.os,deviceSize:u,id:"stream-recommended-articles",taboolaPositionsByDevice:b});if(!(null==x?void 0:x.length)&&f===a$.p.ERROR)return null;let w=f!==a$.p.FINISHED&&f!==a$.p.ERROR;return(0,H.jsx)(a2.A,{adClassName:"mb-5 h-[92px] lg:mb-4 lg:h-[140px]",adDynamic:!0,cardClassName:"mb-5 min-h-[60px] h-[92px] lg:mb-4 lg:min-h-[104px] lg:h-[140px]",cardTitleClassName:"text-px16 lg:text-px20",className:t,enableDescription:h,hasRemaining:w,i13nConfig:i?rk:r_,id:rN,imageClassName:"aspect-square lg:aspect-video h-[100%]",imageTagSettings:[{screenSize:"default",tagName:a1.v_.square},{screenSize:"lg",tagName:a1.v_.rec16_9}],isLoading:f===a$.p.LOADING,items:x,onPlaceholderVisible:p,taboolaConfig:v,title:o,titleClassName:"text-px20",titleMarkerClassName:"block",titleWrapperClassName:"mb-3"})},rS="recommended-article-stream",rR={elm:"hdln",sec:"rel-stories",subsec:"strm-1"},rO={elm:"hdln",sec:"strm",subsec:"bottom"},rT=e=>{let{contextOptions:t,initialItems:l,paginationCursor:a,params:r}=e;return(0,a0.u)({adsFrequency:3,adsStartIndex:1,contextOptions:t,initialItems:l,paginationCursor:a,params:{...r,adsSlotsEnabled:!1}})},rI=e=>{let{className:t,diagnostic:l,initialArticle:a,dedupUuids:r="",perPage:n,recommendedArticles:s=[],recommendedArticlesPaginationCursor:i="",seamlessBottomType:o=!1,title:c,totalContentCount:d}=e;(0,W.ip)(rS,o?"strm":"rel-stories");let m=(0,ez._)(),u=(0,eB.S)(),{deviceSize:h}=u.common,p="desktop"===h,{app:x,site:f}=m,{fetchNextPage:g,items:b,loadingState:v}=rT({contextOptions:{diagnostic:l,isAppWebview:(0,e5.LX)(x),site:f},initialItems:s,paginationCursor:i,params:o?Object.assign({},(0,a1.vi)({article:a,dedupUuids:r,isFirstArticle:!0,requestContext:m}),{count:d,snippetCount:n}):(0,a1.v2)({article:a,perPage:n,requestContext:m,totalContentCount:d})}),{pageConfig:{taboolaPositionsByDevice:w}}=u.currentPage,y=aZ({appName:x.name,appOS:x.os,deviceSize:h,id:"stream-recommended-articles",taboolaPositionsByDevice:w});if(!(null==b?void 0:b.length)&&v===a$.p.ERROR)return null;let j=v!==a$.p.FINISHED&&v!==a$.p.ERROR;return(0,H.jsx)(a2.A,{adClassName:"mb-4 h-[92px] lg:mb-4 lg:h-[140px]",adDynamic:!0,cardClassName:"mb-5 min-h-[60px] h-[92px] lg:mb-4 lg:min-h-[104px] lg:h-[140px]",cardTitleClassName:"text-px16 lg:text-px20",className:t,enableDescription:p,hasRemaining:j,i13nConfig:o?rO:rR,id:rS,imageClassName:"aspect-square lg:aspect-video h-[100%]",imageTagSettings:[{screenSize:"default",tagName:a1.v_.square},{screenSize:"lg",tagName:a1.v_.rec16_9}],isLoading:v===a$.p.LOADING,items:b,onPlaceholderVisible:g,taboolaConfig:y,title:c,titleClassName:"text-px20",titleMarkerClassName:"block",titleWrapperClassName:"mb-3"})},rM="trending",rD=e=>{let{items:t=[]}=e;(0,W.ip)(rM);let l=(0,V.A)();return 0===t.length?null:(0,H.jsxs)("div",{className:"trending mb-module-gap",id:rM,children:[(0,H.jsxs)("div",{className:"mb-3 flex flex-row flex-nowrap items-center",children:[(0,H.jsx)("div",{className:"bg-brand-yahoo-purple mr-2 block h-[20px] w-[8px] flex-none rounded-xs lg:hidden"}),(0,H.jsx)("h2",{className:"text-batcave flex-auto text-xl leading-5 font-bold",children:l.formatMessage({id:"TRENDING_TITLE"})})]}),(0,H.jsx)("ul",{children:t.map((e,t)=>{let{canonicalUrl:l,title:a,id:r}=e.content;return(0,H.jsx)("li",{className:ee()("pb-3",{"border-t-dirty-seagull border-t pt-3":0!==t}),children:(0,H.jsxs)(W.Rl,{dataYlk:{cpos:t+1,ct:"story",elm:"hdln",g:r,itc:0,pos:1,sec:"trending",slk:a},className:"group flex items-center",href:l.url,"aria-label":a,children:[(0,H.jsx)("div",{className:"mr-4",children:(0,H.jsx)("div",{className:"border-brand-yahoo-purple bg-brand-hendrix text-px18 text-brand-yahoo-purple flex h-[30px] w-[30px] items-center justify-center rounded border border-solid font-bold",children:t+1})}),(0,H.jsx)("h3",{className:"text-px16 text-batcave group-hover:text-brand-yahoo-purple leading-6 font-bold",children:a})]})},"trending-item-".concat(r))})})]})};var rL=l(63011),rP=l(72414),rF=l(16214),rU=l(3904);let rB={options:{articleViewInterval:2,enabledDevices:["smartphone"],enabledSites:["news"],expiryPeriod:864e5},optionsRegionOverrides:{hk:{enabledSites:["news","sports"],expiryPeriod:144e5}},positions:{"sda-MI-iframe":{disableRefresh:!0,id:"sda-MI-iframe",kvs:{loc:"top_center_mi"},path:"",region:"",size:[[2,2]]}}},rz={options:{enabledSites:["news"],expiryPeriod:864e5},optionsRegionOverrides:{hk:{expiryPeriod:144e5}}},rq=e=>{var t;let l=rz.options,a=(null==(t=rz.optionsRegionOverrides)?void 0:t[e])||{};return{...l,...a}};var rH=l(56756),rW=l(9610);let rG=e=>{let t="sm";return rW.UZ.forEach(l=>{e>=rW.WJ[l]&&(t=l)}),t},rY=e=>{let{initialDeviceSize:t}=e,{width:l=0}=(0,eE.lW)({debounceDelay:16});if(l){let e=rG(l);return rW.eI[e]}return t};var rK=l(28980);let rV=(e,t,l)=>e<t?t:e>l?l:e,rX=e=>{var t,l,a;let{initialArticle:r,momentAdStatus:n}=e;return(null!=(a=null==(l=r.data.contentMeta)||null==(t=l.storyAtoms)?void 0:t.filter(e=>"ad"===e.type))?a:[]).some(e=>"in-body"===e.subtype&&1===e.locationNumber)&&("pending"===n||"success-e2e"===n)},rJ=e=>{var t,l;let{breakingNews:a,initialArticle:r,initialArticleMetadata:n,diagnostic:s,editorialBanner:i,navigationList:o,preferenceStream:c,preferenceStreamPaginationCursor:d,preferenceStreamParams:m,shouldFetchPreferenceStream:u,recommendedArticles:h,recommendedArticlesPaginationCursor:p,stockMarketTime:x,stockUserLevel:f,trendingNowItems:g,trendingStream:b}=e,v=(0,ez._)(),{app:w,region:y,site:j,features:E}=v,N=(0,e5.LX)(w),{enableEyebrowHeighten:_,enableSeamless:k,miCountdown1s:C,miCountdown2s:A,useCG:S}=E,R=(0,eB.S)(),O=(0,eB.z)(),{pageName:T,pageState:I,privacyLinks:M}=R.currentPage,{headerExpanded:D}=R.common,{article:L,fetchedArticleIds:P,seamlessArticlesFetched:F}=I,U=(0,V.A)(),B=rY({initialDeviceSize:v.device});(0,K.useEffect)(()=>{O({deviceSize:B,type:"deviceSizeChanged"})},[B,O]);let z="smartphone"===B,{enabledSites:q,expiryPeriod:G}=rq(y),$=(0,e8._5)({article:L,deviceSize:B,requestContext:v}),{alias:Q,contentType:Z,contentI13n:ee}=L.data.contentMeta,{uuid:et}=ee,{appContentLink:el="",appPromoUrl:ea=""}=null!=(l=null===rU.A||void 0===rU.A||null==(t=rU.A[j])?void 0:t[y])?l:{},er="".concat(ea).concat(el.replace("${uuid}",et).replace("${alias}",Q).replace("${type}",Z));(0,K.useEffect)(()=>{window.history.scrollRestoration="manual"},[]);let en=N?0:D?88:48,es=(0,K.useRef)(null);(0,K.useEffect)(()=>{if(!z)return;let e=()=>{let e=es.current,t=document.querySelector(".article-time");if(!e||!t)return;let l=e.getBoundingClientRect().height,a=rV(t.getBoundingClientRect().bottom-l,-1*l,en);e.style.top="".concat(a,"px")};e();let t=Y()(e,16);return window.addEventListener("scroll",t,{passive:!0}),()=>{window.removeEventListener("scroll",t)}},[z,en]),(0,K.useEffect)(()=>{var e,t;if(z)return;let l=es.current;if(!l)return;let a=(null==(t=document.querySelector("#desktop-header-inner"))||null==(e=t.getBoundingClientRect())?void 0:e.height)||0;l.style.top="".concat(a,"px")},[z,D]);let ei=(0,rH.H)(),[eo,ec]=(0,K.useState)(!1),[ed,em]=(0,K.useState)(!1),eu=(0,K.useCallback)(()=>{ec(!0)},[]),ex=(0,K.useCallback)(()=>{em(!0)},[]),{optionsRegionOverrides:ef,positions:eg}=rB,eb=rB.options;(null==ef?void 0:ef[y])&&(eb={...eb,...ef[y]});let ev=Object.keys(eg)[0],ew=(0,K.useMemo)(()=>!N&&eb.enabledSites.includes(j)&&eb.enabledDevices.includes(B),[B,N,eb.enabledSites,eb.enabledDevices,j]),[ej,eE]=(0,K.useState)("pending");(0,K.useEffect)(()=>{ei&&(window.benji.on("RENDER_SUCCEEDED",e=>{if("sda-moments-iframe"===e.data.id){let[t,l]=e.data.size;eE(2===t&&2===l||3===t&&2===l?"success-e2e":"success-non-e2e")}}),window.benji.on("RENDER_FAILED",e=>{"sda-moments-iframe"===e.data.id&&eE("fail")}))},[ei]);let eN=(0,K.useMemo)(()=>!(!z||N||!q.includes(j)||ew&&!eo||rX({initialArticle:r,momentAdStatus:ej})),[r,ew,eo,z,N,j,ej,q]),e_=(0,K.useMemo)(()=>!(!z||N||ew&&!eo||rX({initialArticle:r,momentAdStatus:ej}))&&(!eN||!!ed),[r,ew,eo,z,N,eN,ed,ej]),ek=function(e,t){var l,a;let{description:r="",imageUrl:n="",linkHref:s="",title:i=""}=null!=(a=null==ro||null==(l=ro[e])?void 0:l[t])?a:{};return{description:r,imageUrl:n,linkHref:s,title:i}}(j,y),eC=rd(ek),[eA,eS]=(0,K.useState)(!1);(0,K.useEffect)(()=>{try{let e=new Date().getTime(),t=Number(localStorage.getItem(ri));e_&&eC&&e-t>864e5&&eS(!0)}catch(e){}},[e_,eC]);let eR=(0,K.useMemo)(()=>!(!z||ew&&!eo||rX({initialArticle:r,momentAdStatus:ej}))&&(!eN||!!ed)&&!eA,[r,ew,eo,z,eN,ed,ej,eA]),eO=0;"autos"===j&&(eO=(0,rK.S)("autos",o,[])[0]);let eT=S?rI:rA,eI=(0,H.jsxs)("div",{className:"article-wrapper w-full flex-grow",children:[(null==a?void 0:a.title)?(0,H.jsx)(rg,{...a}):null,(0,H.jsx)(rn,{diagnostic:s,initialArticle:r,initialArticleMetadata:n,enableSeamless:k,editorialBanner:i}),!k&&(0,H.jsxs)("section",{id:"module-coview",className:"mt-module-gap",children:[(0,H.jsx)(eK,{uuid:et}),(0,H.jsx)(eT,{diagnostic:s,initialArticle:r,perPage:20,recommendedArticles:h,recommendedArticlesPaginationCursor:p,title:"news"===j?U.formatMessage({id:"CO_VIEW_TITLE"}):"相關內容",totalContentCount:160})]}),k&&F&&(0,H.jsx)("section",{id:"module-more-recommendation",className:"mt-module-gap",children:(0,H.jsx)(eT,{diagnostic:s,initialArticle:r,dedupUuids:e9(P,2),perPage:20,seamlessBottomType:!0,title:"更多推薦",totalContentCount:160})})]}),eM=(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(ep.A,{id:"sda-top-right-iframe",hideInMobile:!0}),(0,H.jsx)("section",{className:"mb-module-gap",id:"module-most-popular",children:(0,H.jsx)(rD,{items:b})}),(0,H.jsx)(ep.A,{id:"sda-mid-right-iframe",hideInMobile:!0}),(0,H.jsx)("section",{className:"mb-module-gap",id:"module-preference-stream",children:S?(0,H.jsx)(rw,{diagnostic:s,items:c,preferenceStreamPaginationCursor:d,preferenceStreamParams:m,shouldFetchPreferenceStream:u}):(0,H.jsx)(rE,{items:c,preferenceStreamPaginationCursor:d,preferenceStreamParams:m,shouldFetchPreferenceStream:u})}),(0,H.jsx)(ep.A,{id:"sda-mid-right-2-iframe",hideInMobile:!0}),(0,H.jsx)("section",{className:"lg:mb-module-gap mb-[70px]",children:(0,H.jsx)(rP.A,{appPromoUrl:er,privacyLinks:M})})]});return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(J.A,{pageDataForBenji:{article:r,pageName:T}}),!N&&(0,H.jsx)("header",{children:(0,H.jsx)(rF.Ay,{site:j,region:y,navList:o,activeNavIndex:eO,appPromoUrl:er,enableEyebrowHeighten:_,enableHistoryBack:!0,stockMarketTime:x,stockUserLevel:f,enableStockSearchBar:"finance"===j,trendingNowItems:g,unsetH1Tag:!0})}),(0,H.jsx)("div",{ref:es,className:"sticky z-(--z-index-1) pt-0 lg:z-(--z-index-0)",children:(0,H.jsx)(ep.A,{id:"sda-top-center-iframe",isTopCenter:!0,placeholderSize:"topCenter"})}),(0,H.jsx)("div",{className:"pt-module-gap bg-main-level-1 relative lg:lg:z-(--z-index-1)",children:(0,H.jsx)(rb,{main:eI,aside:eM,deviceSize:B})}),eN&&(0,H.jsx)(ey,{expiryPeriod:G,onVideoProcessed:ex}),eR&&(0,H.jsx)(X.A,{}),eA&&(0,H.jsx)(rp,{...ek,articleId:et}),(0,H.jsx)(eh,{enabled:ew,benjiPositionConfig:eg[ev],articleViewInterval:eb.articleViewInterval,expiryPeriod:eb.expiryPeriod,articleId:et,onMIProcessed:eu,countdown:C?1:2*!!A}),(0,H.jsx)(W.Z8,{config:$}),(0,H.jsx)(rL.A,{spaceid:$.spaceid})]})}},54971:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});let a={autoplay:"vm",continuousPlay:!0,expName:"socrates",loop:!1,mute:!0,recommendation:!0,vm:{pauseThreshold:10,playThreshold:25}},r=function(e){let{spaceId:t,uuid:l,videoPosition:r}=e;return{autoplay:a.autoplay,continuousPlay:a.continuousPlay,expName:a.expName,items:[{id:l}],loop:a.loop,mute:a.mute,pageSpaceId:t,recommendation:a.recommendation,videoPosition:r,vm:a.vm}}},69868:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});var a=l(95155);let r=e=>{let{alt:t,className:l,loading:r,size:n,darkSize:s}=e,i=n.resized||n.original,o=(null==s?void 0:s.resized)||(null==s?void 0:s.original),c="string"==typeof t?t.replace(/<[^>]*>/g,""):"",d=(0,a.jsx)("img",{alt:c,className:l,loading:r,height:i.height,src:i.url,width:i.width});return o?(0,a.jsxs)("picture",{children:[(0,a.jsx)("source",{srcSet:o.url,media:"(prefers-color-scheme: dark)"}),d]}):d}},86608:(e,t,l)=>{Promise.resolve().then(l.bind(l,51914)),Promise.resolve().then(l.bind(l,34251)),Promise.resolve().then(l.bind(l,82624))}},e=>{var t=t=>e(e.s=t);e.O(0,[919,196,455,224,48,572,457,441,684,358],()=>t(86608)),_N_E=e.O()}]);