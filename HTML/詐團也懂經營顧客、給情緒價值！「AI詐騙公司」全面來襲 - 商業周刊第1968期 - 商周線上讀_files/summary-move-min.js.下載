/******/ (function() { // webpackBootstrap
var __webpack_exports__ = {};
// 文章摘要錨點滑動功能 el文章摘要el,  titleEl ta的el
function summaryMove(el, titleEl) {
  const summary_element = document.querySelector(el);
  const summary_content = summary_element ? summary_element.textContent : null;
  if (summary_content) {
    // 判斷文章摘要是否有出現{DS}
    let match_ds = summary_content.search('{DS}') > -1;
    let title, encode, str;
    //如有有出現{DS}

    if (match_ds) {
      let ta = document.querySelectorAll(titleEl); //先抓出內文中全部的ta
      ta.forEach((e, i) => {
        title = e.textContent; //抓出ta的文字
        if (title !== "") {
          encode = encodeURI(title); //將ta文字編碼
          e.classList.add('moveto-' + i); //在h2 的dom設置class的命名方式就是相對應的class
          str += `<li><a onclick="summaryMoveTo('.moveto-${i}')">${title}</a></li>`; //組字串
        }
      });

      document.querySelector(el).innerHTML = `<ol>${str.replace('undefined', '')}</ol>`;
    }
  }
}
const location_href = window.location.href;
setTimeout(function () {
  //商周
  if (location_href.indexOf('www.businessweekly') > -1) {
    try {
      summaryMove('.Single-summary-content', '.Single-article h2');
    } catch (error) {
      console.log(error);
    }
  }

  //Alive
  if (location_href.indexOf('alive.businessweekly.com.tw') > -1 || location_href.indexOf('test.businessweekly.com.tw/alive_new') > -1) {
    try {
      summaryMove('.single-summary-content', '#singlecontent h3');
    } catch (error) {
      console.log(error);
    }
  }

  //良醫
  if (location_href.indexOf('health.businessweekly.com.tw') > -1 || location_href.indexOf('http://localhost:3000/') > -1 || location_href.indexOf('https://health-stage.businessweekly.com.tw') > -1) {
    try {
      if (!!document.querySelector('#articleBlock')) {
        summaryMove(".summary-content", "#articleBlock h2");
      }
    } catch (error) {
      console.log(error);
    }
  }

  //財富網
  if (location_href.indexOf('wealth.businessweekly.com.tw') > -1 || location_href.indexOf('test.businessweekly.com.tw/wealth') > -1) {
    try {
      if (!!document.querySelector('.summary-content')) {
        let articleContent = document.querySelector('.article_main') ? '.article_main h2' : '.article-txt h2';
        summaryMove(".summary-content", articleContent);
      }
    } catch (error) {
      console.log(error);
    }
  }

  //自學網
  if (location_href.indexOf('smart.businessweekly.com.tw') > -1 || location_href.indexOf('smarttest.businessweekly.com.tw') > -1) {
    try {
      if (!!document.querySelector('.Single-summary-content')) {
        summaryMove(".Single-summary-content", ".article h2:not(.catalog)");
      }
    } catch (error) {
      console.log(error);
    }
  }
}, 1000);
/******/ })()
;