(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47c513b6"],{"35d1":function(t,e,r){"use strict";r("a62d")},"466d":function(t,e,r){"use strict";var a=r("d784"),i=r("825a"),s=r("50c4"),n=r("1d80"),o=r("8aa5"),c=r("14c3");a("match",1,(function(t,e,r){return[function(e){var r=n(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,r):new RegExp(e)[t](String(r))},function(t){var a=r(e,t,this);if(a.done)return a.value;var n=i(t),u=String(this);if(!n.global)return c(n,u);var l=n.unicode;n.lastIndex=0;var d,b=[],m=0;while(null!==(d=c(n,u))){var p=String(d[0]);b[m]=p,""===p&&(n.lastIndex=o(u,s(n.lastIndex),l)),m++}return 0===m?null:b}]}))},"4a2f":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"640:flex 640:justify-center"},[t.state.openApply?r("div",[r("a",{staticClass:"btn",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.thirdUriSend(t.fb,"facebook")}}},[r("img",{attrs:{src:t.state.CDN+"logo/logo_facebook_round.svg"}})]),r("a",{staticClass:"btn",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.thirdUriSend(t.line,"line")}}},[r("img",{attrs:{src:t.state.CDN+"logo/logo_line_circle.svg"}})]),r("a",{staticClass:"btn",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.thirdUriSend(t.google,"google")}}},[r("img",{attrs:{src:t.state.CDN+"logo/logo_google_g.svg"}})])]):r("div",[r("a",{staticClass:"btn sm:relative sm:w-full sm:text-center sm:text-sm 640:border-none",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.thirdUriSend(t.google,"google")}}},[r("span",{staticClass:"640:hidden"},[t._v("使用 Google "+t._s(t.name))]),r("img",{staticClass:"sm:absolute sm:top-1.5 sm:left-2",attrs:{src:t.state.CDN+"logo/logo_google_g.svg"}})]),r("a",{staticClass:"btn sm:relative sm:w-full sm:text-center sm:text-sm 640:border-none",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.thirdUriSend(t.line,"line")}}},[r("span",{staticClass:"640:hidden"},[t._v("使用 LINE "+t._s(t.name))]),r("img",{staticClass:"sm:absolute sm:top-1.5 sm:left-2",attrs:{src:t.state.CDN+"logo/logo_line_circle.svg",width:"25",height:"25"}})]),r("a",{staticClass:"btn sm:relative sm:w-full sm:text-center sm:text-sm 640:border-none",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.thirdUriSend(t.fb,"facebook")}}},[r("span",{staticClass:"640:hidden"},[t._v("使用 Facebook "+t._s(t.name))]),r("img",{staticClass:"sm:absolute sm:top-1.5 sm:left-2",attrs:{src:t.state.CDN+"logo/logo_facebook_round.svg"}})])])])},i=[],s=(r("99af"),r("fb6a"),r("b0c0"),{name:"ThirdParty",data:function(){return{state:null,origin:"https://member.businessweekly.com.tw/Oauth/ExternalLogin?method",type:""}},props:["name"],computed:{google:function(){return"".concat(this.origin,"=3&redirect_uri=").concat(encodeURIComponent(this.state.redirect_uri),"&type=").concat(this.type)},line:function(){return"".concat(this.origin,"=4&redirect_uri=").concat(encodeURIComponent(this.state.redirect_uri),"&type=").concat(this.type)},fb:function(){return"".concat(this.origin,"=5&redirect_uri=").concat(encodeURIComponent(this.state.redirect_uri),"&type=").concat(this.type)}},methods:{thirdUriBU:function(){"smart"===this.state.website.id?this.type="st":"health"===this.state.website.id?this.type="hh":this.type="bw"},capitalizeFirstLetter:function(t){return t?t.charAt(0).toUpperCase()+t.slice(1):t},thirdUriSend:function(t,e){var r=this;e=this.capitalizeFirstLetter(e),"登入"==this.name?this.$store.commit("toTrackEvent",{te:"Login",tea:"Click",tel:"Login_"+e}):this.$store.commit("toTrackEvent",{te:"Login",tea:"Click",tel:"Signup_"+e}),setTimeout((function(){return parent.postMessage("third-reload-"+t,r.state.postMessageTarget)}),1e3)}},created:function(){this.state=this.$store.state,this.thirdUriBU()}}),n=s,o=(r("35d1"),r("2877")),c=Object(o["a"])(n,a,i,!1,null,"9071a1f2",null);e["a"]=c.exports},6547:function(t,e,r){var a=r("a691"),i=r("1d80"),s=function(t){return function(e,r){var s,n,o=String(i(e)),c=a(r),u=o.length;return c<0||c>=u?t?"":void 0:(s=o.charCodeAt(c),s<55296||s>56319||c+1===u||(n=o.charCodeAt(c+1))<56320||n>57343?t?o.charAt(c):s:t?o.slice(c,c+2):n-56320+(s-55296<<10)+65536)}};t.exports={codeAt:s(!1),charAt:s(!0)}},"79b5":function(t,e,r){"use strict";r("a43b")},"7ae6":function(t,e,r){"use strict";var a=function(){var t,e=this,r=e.$createElement,a=e._self._c||r;return a("section",[-1!==e.state.website.id.indexOf("wegrow")||e.state.isApply?e._e():a("div",{staticClass:"flex mb-3"},[a("a",{directives:[{name:"show",rawName:"v-show",value:"wegrow"!=e.state.website.id,expression:"state.website.id != 'wegrow'"}],staticClass:"btn mr-3 w-1/2 text-center",class:"member"==e.identity?"bg-blackText text-white":"text-gray-400",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.changeTab("member")}}},[e._v("會員帳號")]),a("a",{staticClass:"btn ml-3 w-1/2 text-center",class:"subscribe"==e.identity?"bg-blackText text-white":"text-gray-400",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.changeTab("subscribe")}}},[e._v("訂戶編號")])]),"member"==e.identity?a("div",{key:"form-member"},[a("InputEmail",{ref:"email",attrs:{name:"帳號",placeholder:"請輸入email"}}),a("div",[a("InputPassword",{attrs:{name:"密碼",placeholder:"請輸入密碼"}}),a("div",{staticClass:"flex justify-between text-sm mb-6 text-blackText -mt-2"},[e._m(0),a("div",["wegrow"!=e.state.website.id?a("a",{staticClass:"mr-2 underline hover:no-underline",on:{click:function(t){return t.preventDefault(),e.toForgetAccount()}}},[e._v("忘記帳號？")]):e._e(),a("a",{staticClass:"underline hover:no-underline",on:{click:function(t){return t.preventDefault(),e.toForgetPassword()}}},[e._v("忘記密碼？")])])])],1),a("div",{staticClass:"text-center",class:e.state.isApply&&e.state.openApply?"apply_login_btn":""},[a("a",{staticClass:"btn-loading btn btn-red px-10",class:(t={loading:e.state.submitLoading},t[e.state.website.id]=e.state.submitLoading,t),attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.loginMember()}}},[e._v(e._s(e.state.isApply&&e.state.openApply?"觀看/報名":"登入"))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"wegrow"==e.state.website.id,expression:"state.website.id == 'wegrow'"}],staticClass:"hidden py-2 text-center 640:block"},[a("a",{staticClass:"w-full text-sm text-blackText underline hover:no-underline",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.toArchive(t)}}},[e._v("回到知識庫")])])],1):a("div",{key:"form-subscribe"},[a("SubscribeLogin")],1)])},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex items-center invisible"},[r("input",{attrs:{id:"remember",type:"checkbox"}}),r("label",{staticClass:"pl-1 cursor-pointer",attrs:{for:"remember"}},[t._v("記住我")])])}],s=(r("c975"),r("5530")),n=r("2f62"),o=function(){var t,e=this,r=e.$createElement,a=e._self._c||r;return a("section",[a("div",[a("label",{staticClass:"label flex justify-between items-center"},[a("div",{staticClass:"name"},[e._v("客戶編號")]),a("div",{staticClass:"error font-normal text-xs text-redBtn"},[e._v(e._s(e.error.id))])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.id,expression:"id"}],staticClass:"input mt-1 block w-full rounded border border-blackText",class:{"border-redBtn":e.error.id.length>0},attrs:{type:"text",inputmode:"numeric",placeholder:"請輸入10碼數字"},domProps:{value:e.id},on:{input:[function(t){t.target.composing||(e.id=t.target.value)},e.limitId]}})]),a("div",[a("label",{staticClass:"label flex justify-between items-center"},[a("div",{staticClass:"name"},[e._v("姓名")]),a("div",{staticClass:"error font-normal text-xs text-redBtn"},[e._v(e._s(e.error.name))])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"input mt-1 block w-full rounded border border-blackText",class:{"border-redBtn":e.error.name.length>0},attrs:{type:"text",placeholder:"請輸入雜誌收件人姓名"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),a("div",{staticClass:"mb-6 text-right text-sm text-blackText -mt-2"},[a("router-link",{staticClass:"underline hover:no-underline",attrs:{to:"/queryCustomNumber"}},[e._v("查詢客戶編號")])],1),a("div",{staticClass:"text-center"},[a("a",{staticClass:"btn-loading btn btn-red px-10",class:(t={loading:e.state.submitLoading},t[e.state.website.id]=e.state.submitLoading,t),attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.subscribeLogin(t)}}},[e._v("送出")])])])},c=[],u=(r("fb6a"),r("b0c0"),r("ac1f"),r("466d"),r("96cf"),r("1da1")),l=r("a78e"),d=r.n(l),b=r("889f"),m={name:"Subscribe_Login",data:function(){return{state:null,id:"",name:"",error:{id:"",name:""}}},components:{},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(n["c"])(["updateSubmitLoading","updateBWG_CC","updateEncryptEmail","updateInputEmail","updateSubscribeId","updateSubscribeStep","updateSubIsBind","updateSubIsFirst","updatePage"])),Object(n["b"])(["getCode"])),{},{limitId:function(){this.id.length>10&&(this.id=this.id.slice(0,10))},subscribeLogin:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$store.commit("toTrackEvent",{te:"Login",tea:"Click",tel:"Login_Subcriber",tev:t.id}),t.id&&!(t.id.length<10)){e.next=5;break}0===t.id.length?t.error.id="請輸入客戶編號":t.error.id="請輸入10個數字編號",e.next=41;break;case 5:if(!t.id.match(/[A-Za-z]/g)){e.next=9;break}t.error.id="請勿混合使用英文字",e.next=41;break;case 9:if(!(t.name.length<2)){e.next=13;break}t.error.name="請輸入雜誌收件人",e.next=41;break;case 13:return t.updateSubmitLoading(!0),r={Token:d.a.get("BWG_CC"),JData:{Subscriber_Id:t.id,Name:t.name}},e.next=17,Object(b["a"])(t.state.apiCheckSubscribe,r,"JSON").then((function(t){return t})).catch((function(t){throw window.alert(t.errorMsg),t.errorMsg}));case 17:if(a=e.sent,t.updateBWG_CC(a.token),t.updateSubscribeId(t.id),0!==a.errorCode){e.next=39;break}e.t0=a.jData.status,e.next="y"===e.t0?24:"a"===e.t0?29:"n"===e.t0?35:37;break;case 24:return t.updateInputEmail(a.jData.email),t.updateEncryptEmail(a.jData.ecypt),t.updateSubscribeStep("passwordLogin"),t.$router.push("subscribe"),e.abrupt("break",37);case 29:return t.updateSubIsBind(!0),t.updateInputEmail(a.jData.email),t.updateEncryptEmail(a.jData.ecypt),t.updatePage("subscribe"),t.getCode().then((function(){null!==t.state.subscribe.code&&(t.updateSubscribeStep("verify"),t.$router.push("subscribe"))})),e.abrupt("break",37);case 35:return a.jData.email?(t.updateSubIsBind(!0),t.updateInputEmail(a.jData.email),t.updateEncryptEmail(a.jData.ecypt),t.updatePage("subscribe"),t.getCode().then((function(){null!==t.state.subscribe.code&&(t.updateSubscribeStep("verify"),t.$router.push("subscribe"))}))):(t.updateSubIsFirst(!0),t.$router.push("subscribe")),e.abrupt("break",37);case 37:e.next=40;break;case 39:a.errorMsg?window.alert(a.errorMsg):window.alert(a);case 40:t.updateSubmitLoading(!1);case 41:case"end":return e.stop()}}),e)})))()}}),created:function(){this.state=this.$store.state}},p=m,h=r("2877"),f=Object(h["a"])(p,o,c,!1,null,null,null),g=f.exports,v=r("ab93"),w=r("bfd4"),x={name:"Login_Form",data:function(){return{state:null,identity:"member",pswShown:!1}},components:{SubscribeLogin:g,InputEmail:v["a"],InputPassword:w["a"]},computed:{changePswType:function(){return this.pswShown?"text":"password"}},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(n["c"])(["updatePage"])),Object(n["b"])(["memberLogin"])),{},{toForgetAccount:function(){var t=this;this.$store.commit("toTrackEvent",{te:"Login",tea:"Click",tel:"Forget_Account"}),setTimeout((function(){return t.$router.push({path:"/forgotAccount"})}),1e3)},loginMember:function(){this.$store.commit("toTrackEvent",{te:"Login",tea:"Click",tel:"Login_Member",tev:this.$store.state.login.email}),this.memberLogin()},toForgetPassword:function(){var t=this;this.$store.commit("toTrackEvent",{te:"Login",tea:"Click",tel:"Forget_Password"}),setTimeout((function(){return t.$router.push({path:"/forgotPassword"})}),1e3)},toArchive:function(){parent.postMessage("bwms-reload-https://www.businessweekly.com.tw/Archive/",this.state.postMessageTarget)},changeTab:function(t){this.identity=t,"subscribe"===t?this.updatePage("subscribe"):this.updatePage("login")}}),created:function(){this.state=this.$store.state,window.location.hash.indexOf("subscribe")>-1&&(this.identity="subscribe")},watch:{"$route.fullPath":function(t){window.location.hash.indexOf("subscribe")>-1&&(this.identity="subscribe")}}},C=x,_=(r("79b5"),Object(h["a"])(C,a,i,!1,null,"0f5e2f38",null));e["a"]=_.exports},"8aa5":function(t,e,r){"use strict";var a=r("6547").charAt;t.exports=function(t,e,r){return e+(r?a(t,e).length:1)}},"914d":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("p",{staticClass:"text-center text-sm text-greyMute"},[t._v("版權所有 © "+t._s(t.$store.state.year)+" 商周集團")])])},i=[],s={name:"Copyright"},n=s,o=r("2877"),c=Object(o["a"])(n,a,i,!1,null,null,null);e["a"]=c.exports},a43b:function(t,e,r){},a62d:function(t,e,r){},fb6a:function(t,e,r){"use strict";var a=r("23e7"),i=r("861d"),s=r("e8b5"),n=r("23cb"),o=r("50c4"),c=r("fc6a"),u=r("8418"),l=r("b622"),d=r("1dde"),b=r("ae40"),m=d("slice"),p=b("slice",{ACCESSORS:!0,0:0,1:2}),h=l("species"),f=[].slice,g=Math.max;a({target:"Array",proto:!0,forced:!m||!p},{slice:function(t,e){var r,a,l,d=c(this),b=o(d.length),m=n(t,b),p=n(void 0===e?b:e,b);if(s(d)&&(r=d.constructor,"function"!=typeof r||r!==Array&&!s(r.prototype)?i(r)&&(r=r[h],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return f.call(d,m,p);for(a=new(void 0===r?Array:r)(g(p-m,0)),l=0;m<p;m++,l++)m in d&&u(a,l,d[m]);return a.length=l,a}})}}]);