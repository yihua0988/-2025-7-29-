"use strict";function e(){console.log("DFP Scripts Loaded");var e,t="#ads-Mobile_cover > div > iframe",o="#ads-Desktop_cover > div > iframe",n="#ads-inline > div > iframe",s="#stickyAds > div > iframe",i="#div-gpt-ad-1497513578327-0 > div > iframe",a="#ultraDesktopBanner > div > iframe",r="#ads-superBanner",c=".wrapper-aside",d=!1,l="#ads-inline",u="#stickyAds",p=void 0!==window.pageXOffset,m="CSS1Compat"===(document.compatMode||""),y=window.innerHeight,v=window.innerWidth,g=".udn-overlay",w="udn:ultraDesktopBanner",h="#desktopSticky",f="#desktopSticky > div > iframe",b=!1,S=!1,L=!1;function E(e,n,s=480){let i=n?o:t;T(e,i),x(e,i)}function q(e){T(e,g)}function k(e){x(e,f),L="open"===e}function T(e,t){!function(e,t){var o="close"===e?"hidden":"visible",n="close"===e?0:1;document.querySelector(t).style.visibility=o,document.querySelector(t).style.opacity=n}(e,t),document.querySelector(t).style.zIndex="36","close"===e&&setTimeout((function(){var e=document.querySelector("#ads-Mobile_cover");e&&(e.parentElement.removeChild(e),document.querySelector(g).removeAttribute("style"))}),400)}function x(e,t){document.querySelector(t).contentWindow.postMessage({type:"setAds",value:e,width:window.innerWidth},"*")}function I(){console.log("register push down event");var t=document.querySelector(n);new IntersectionObserver((function(t,o){t.forEach((function(t){t.isIntersecting&&t.intersectionRatio>0&&window.addEventListener("scroll",(function t(){document.querySelector(n).getBoundingClientRect().top<=y*(e/10)&&(x("big",n),window.removeEventListener("scroll",t),o.disconnect())}))}))}),{root:null,rootMargin:"0px",threshold:1}).observe(t)}function A(e){console.log("setEventToFrame",e),document.querySelector(s).contentWindow.postMessage({type:e},"*")}function C(){console.log("pull up event registered"),document.querySelector(u).classList.add("pull-up");var e,t,o,n,s,i,a=document.querySelector(u),r=!1,c=!1;function d(){console.log("retract");s=0,i=0,e.style.top="initial",e.style.height="50px",t.classList.remove("visible"),bodyScrollLock.enableBodyScroll(o),setTimeout((function(){e.classList.remove("animate")}),500),document.body.classList.remove("lock-scroll")}window.addEventListener("message",(function(i){"[pullup] ready"===i.data.type&&function(i,c,l){o=document.createElement("div"),e=o,o.className="bannerAds";var u=document.createElement("div");u.className="small-banner";var p=document.createElement("img");p.src=c;var m=document.createElement("div");m.className="secondary-item",t=m;var y=document.createElement("div");y.className="close-btn";var v=document.createElement("i");v.className="i-close";var g=document.createElement("a");g.className="ads-action",g.href=l;var w=document.createElement("img");w.src=i,u.appendChild(p),o.appendChild(u),y.appendChild(v),g.appendChild(w),m.appendChild(y),m.appendChild(g),o.appendChild(m),u.addEventListener("touchstart",(function(e){var t=e.targetTouches[0];n=a.offsetTop,s=t.clientY,document.body.classList.add("lock-scroll"),r=!0}),{passive:!0}),y.addEventListener("click",(function(e){e.preventDefault(),d()})),a.parentNode.insertBefore(o,a.nextSibling)}(i.data.largeBanner,i.data.smallBanner,i.data.adsLink)})),document.addEventListener("touchmove",(function(t){if(r){var o=t.targetTouches[0];if(!(e.style.height>=50)){var a=n+o.clientY-s+"px",d=s-o.clientY+50+"px";e.style.top=a,e.style.height=d,c=i>o.clientY,i=o.clientY}}}),!1),document.addEventListener("touchend",(function(n){if(r){console.log("touchend called, draggingState: ",r);var a=s-i;e.classList.add("animate"),a>100&&c?function(){console.log("expand");var n="-50px",s="calc(100vh + 50px)";bodyScrollLock.disableBodyScroll(o),e.style.top=n,e.style.height=s,t.classList.add("visible")}():d(),r=!1,console.log("touchend",r)}}))}function P(e,t){function o(){var t=p?window.pageYOffset:m?document.documentElement.scrollTop:document.body.scrollTop,o=document.querySelector(".innity-apps-spin-inv-ad")||document.querySelector(".innity-apps-overlay-card-ad")||document.querySelector(e);console.log("check scroll"),t>=100?o.classList.add("visible"):o.classList.remove("visible")}document.querySelector(u).classList.add("native"),console.log("register stickyAdsVisibilityScrollEvent"),100===t[1]&&(document.querySelector(u).insertAdjacentHTML("afterbegin",'<style>.btn__ad--close{width: 30px; height: 30px; position: absolute; top: -28px; right: 0; font-size: 18px; background: white; color: #5d5d5d; border-top-left-radius: 10px;}</style><a href="#" class="btn__ad--close"><i class="i-cancel"></i></a>'),document.querySelector("#stickyAds").style.backgroundColor="white",document.querySelector(".btn__ad--close").addEventListener("click",(function(e){e.preventDefault(),document.querySelector(u).setAttribute("style","--bottom: 130px"),window.removeEventListener("scroll",o),setTimeout((function(){document.querySelector(s).remove()}),500)}))),window.addEventListener("scroll",o)}function $(e){e&&e.target.classList.contains("ebar-close")||(k("open"),document.body.classList.add("ebar--on"),requestAnimationFrame((function(){window.scrollTo({top:window.scrollY+1})})))}function _(){k("close"),document.body.classList.remove("ebar--on")}function M(e,t,o=480){console.log("overlay event",e),E(e,t,o),q(e),window.dispatchEvent(new Event("resize"))}window.googletag.cmd.push((function(){googletag.pubads().addEventListener("slotResponseReceived",(function(e){})),window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){var t=e.slot.getSlotElementId();if("ads-superBanner"===t&&(console.log("superBanner",e.creativeTemplateId),e.isEmpty)){var o=document.querySelector(".main-content");o&&o.classList.add("reset-aside")}"ads-inline"===t&&(console.log("middle slot event",e),e.isEmpty?document.querySelector(".inline-ads").style.display="none":e.creativeTemplateId&&(11821167===e.creativeTemplateId&&I(),11789735!==e.creativeTemplateId&&11844776!==e.creativeTemplateId&&11862837!==e.creativeTemplateId&&11863140!==e.creativeTemplateId&&11942323!==e.creativeTemplateId&&11949821!==e.creativeTemplateId||function(){console.log("register underlay event");var e=document.querySelector(".inline-ads:not(.inline-ads--desktop"),t=document.querySelector(l)||null;console.log("checkpoint",e),document.body.classList.add("underlay"),document.addEventListener("scroll",(function(o){t.classList.add("intersecting");var n=e.getBoundingClientRect().top+20,s=window.innerHeight,i=n+s;console.log(s),t.setAttribute("style","clip: rect(".concat(n,"px ").concat(v,"px ").concat(i,"px 0px)"))}))}(),12399638===e.creativeTemplateId&&(console.log("[magic-cube] magicCubeRegister"),window.addEventListener("message",(function e(t){if("[magic-cube] ready"===t.data.type){const o=document.querySelector(n),s=document.querySelector(l),{width:i,height:a}=t.data;s.style.setProperty("--height",`${a}`),s.style.setProperty("--width",`${i}`),s.classList.add("inline-cube");const r=new IntersectionObserver((e=>{e[0].isIntersecting&&(o.contentWindow.postMessage({type:"[magic-cube] start"},"*"),r.disconnect())}),{threshold:.8});r.observe(o),window.removeEventListener("message",e)}}))))),"stickyAds"===t&&(console.log("sticky slot event",e),11831547===e.creativeTemplateId||11840522===e.creativeTemplateId||11889012===e.creativeTemplateId||11867400===e.creativeTemplateId||11867409===e.creativeTemplateId||11940055===e.creativeTemplateId||11933976===e.creativeTemplateId?function(){console.log("double decker event registered"),document.querySelector(u).classList.add("double-decker");var e=!1,t=100;function o(){if((p?window.pageYOffset:m?document.documentElement.scrollTop:document.body.scrollTop)>=t){if(e)return;document.querySelector(u).setAttribute("style","--bottom: 0px"),e||A("[double-decker] commitHeightEvent"),e=!0}else{if(!e)return;var o=document.querySelector(s).scrollHeight;e=!1,document.querySelector(u).setAttribute("style","--bottom: "+o+"px"),A("[double-decker] closeBanner")}}window.addEventListener("message",(function(e){if("[double-decker] setHeight"===e.data.type&&(console.log("parent receive with heightData: ",e.data),document.querySelector(s).setAttribute("height",e.data.height),e.data.height<=0?document.querySelector(u).setAttribute("style","min-height: 0;"):(document.querySelector(u).setAttribute("style","min-height: inherit;"),document.querySelector(u).setAttribute("style","--bottom: 0"))),"[double-decker] ready"===e.data.type){console.log("parent receive with domReady: ",e.data);var n=Math.round(window.innerWidth/e.data.ratio);t=e.data.bannerOffset,document.querySelector(u).setAttribute("style","--bottom: "+n+"px"),window.addEventListener("scroll",o)}e.data.type}))}():12369150===e.creativeTemplateId?(console.log("register rotate sticky event"),function(){const e="[sticky-rotate]",t=document.querySelector(u),o=t.querySelector("iframe");let n=0,s=window.scrollY,i=!1;function a(){const a=window.scrollY;if(a>s?(console.log(`${e} scroll down`),o.contentWindow.postMessage({type:`${e} scroll`,value:!0},"*")):(console.log(`${e} scroll up`),o.contentWindow.postMessage({type:`${e} scroll`,value:!1},"*")),s=a,a>100){if(i)return;console.log(`${e} show`),o.contentWindow.postMessage({type:`${e} show`},"*"),i=!0,t.style.setProperty("--bottom","0")}else{if(!i)return;console.log(`${e} hide`),o.contentWindow.postMessage({type:`${e} hide`},"*"),i=!1,t.style.setProperty("--bottom",`${n}`)}}t.classList.add("sticky-simple"),window.addEventListener("message",(o=>{if(o.data.aspectRatio&&o.data.type===`${e} init`){console.log(`${e} init`,o.data);const s=Math.round(window.innerWidth/o.data.aspectRatio);t.style.setProperty("aspect-ratio",o.data.aspectRatio),n=s+"px",t.style.setProperty("--bottom",`${n}`),window.addEventListener("scroll",a)}o.data.type===`${e} close`&&(t.style.setProperty("--bottom",`${n}`),window.removeEventListener("scroll",a),setTimeout((()=>{t.parentElement.removeChild(t)}),500))}))}()):12380251===e.creativeTemplateId?(console.log("register marquee sticky event"),function(){const e="[sticky-marquee]",t=document.querySelector(u),o=t.querySelector("iframe");let n=0;function s(){window.scrollY>100?(o.contentWindow.postMessage({type:`${e} show`},"*"),t.style.setProperty("--bottom","0")):(o.contentWindow.postMessage({type:`${e} hide`},"*"),t.style.setProperty("--bottom",`${n}`))}t.classList.add("sticky-simple"),window.addEventListener("message",(o=>{if(o.data.aspectRatio&&o.data.type===`${e} init`){console.log(`${e} init`,o.data);const i=Math.round(window.innerWidth/o.data.aspectRatio);t.style.setProperty("aspect-ratio",o.data.aspectRatio),n=i+"px",t.style.setProperty("--bottom",`${n}`),window.addEventListener("scroll",s)}o.data.type===`${e} close`&&(t.style.setProperty("--bottom",`${n}`),window.removeEventListener("scroll",s),setTimeout((()=>{t.parentElement.removeChild(t)}),500))}))}()):11850463===e.creativeTemplateId?(C(),P(".bannerAds",e.size)):12438831===e.creativeTemplateId||12442359===e.creativeTemplateId||12442560===e.creativeTemplateId?function(){console.log("[tear-up] tearUpEventRegister");const e=document.querySelector(u);let t=0,o=!1;function n(){var n=p?window.pageYOffset:m?document.documentElement.scrollTop:document.body.scrollTop;o||(n>=100?(e.classList.add("visible"),e.style.setProperty("--bottom","0")):(e.classList.remove("visible"),e.style.setProperty("--bottom",`${t}px`)))}window.addEventListener("message",(function s(i){const a=e.querySelector("iframe");"[tear-up] init"===i.data.type&&(e.classList.add("native"),t=Math.round(window.innerWidth/i.data.aspectRatio),a.style.setProperty("aspect-ratio",i.data.aspectRatio),a.style.setProperty("height","auto"),e.style.setProperty("--bottom",`${t}px`)),"[tear-up] ready"===i.data.type&&(o=!0,a.style.removeProperty("aspect-ratio"),a.style.setProperty("height","100dvh"),a.contentWindow.postMessage({type:"[tear-up] expand"},"*")),"[tear-up] close"===i.data.type&&(e.style.setProperty("--bottom",o?"100vh":`${t}px`),window.removeEventListener("scroll",n),window.removeEventListener("message",s),setTimeout((()=>{e.parentElement.removeChild(e)}),500))})),window.addEventListener("scroll",n)}():11862770===e.creativeTemplateId||11933940===e.creativeTemplateId?function(){var e;function t(){if((p?window.pageYOffset:m?document.documentElement.scrollTop:document.body.scrollTop)>=100)console.log("hit me"),document.querySelector(u).setAttribute("style","--bottom: 0");else{var e=document.querySelector(s).scrollHeight;document.querySelector(u).setAttribute("style","--bottom: "+e+"px")}}console.log("sticky native"),document.querySelector(u).classList.add("sticky-native"),window.addEventListener("message",(function(o){"[sticky-native] ready"===o.data.type&&(e=o.data.height,document.querySelector(u).setAttribute("style","--bottom: "+e+"px"),window.addEventListener("scroll",t)),"[sticky-native] close"===o.data.type&&(document.querySelector(u).setAttribute("style","--bottom: "+e+"px"),window.removeEventListener("scroll",t),setTimeout((function(){document.querySelector(s).remove()}),500))}))}():P(u,e.size)),"ultraDesktopBanner"===t&&window.addEventListener("message",(function(e){if("desktopExpandHeight"===e.data.type){console.log("parent receive with heightData: ",e.data);var t=document.querySelector(".main-content"),o=e.data.height;document.getElementById("ultraDesktopBanner").className=e.data.size,document.querySelector(a).setAttribute("height",o),t&&window.__UDN__&&"calcNavTop"in window.__UDN__&&window.__UDN__.calcNavTop()}"desktopExpandReady"===e.data.type&&(sessionStorage?"true"===sessionStorage.getItem(w)?document.querySelector(a).contentWindow.postMessage({type:"setAds",value:"small"},"*"):(sessionStorage.setItem(w,"true"),document.querySelector(a).contentWindow.postMessage({type:"setAds",value:"big"},"*")):document.querySelector(a).contentWindow.postMessage({type:"setAds",value:"small"},"*"))})),"desktopSticky"===t&&(console.log("desktopSticky event",e),90===e.size[1]&&(!function(e,t){function o(){var t=p?window.pageYOffset:m?document.documentElement.scrollTop:document.body.scrollTop;let o=document.querySelector(e);t>=100?o.classList.add("visible"):o.classList.remove("visible")}document.querySelector(e).classList.add("native"),console.log("register stickyAdsVisibilityScrollEvent"),document.querySelector(e).insertAdjacentHTML("afterbegin",'<style>.btn__ad--close{width: 30px; height: 30px; position: absolute; top: -28px; right: 0; font-size: 18px; background: white; color: #5d5d5d; border-top-left-radius: 10px;}</style><a href="#" class="btn__ad--close"><i class="i-cancel"></i></a>'),document.querySelector(e).style.backgroundColor="white",document.querySelector(".btn__ad--close").addEventListener("click",(function(t){t.preventDefault(),document.querySelector(e).setAttribute("style","transform: translateY(130px);"),window.removeEventListener("scroll",o),document.body.style.paddingBottom="0px",setTimeout((function(){document.querySelector("#desktopSticky > div > iframe").remove()}),500)})),window.addEventListener("scroll",o)}(h),document.body.style.paddingBottom=document.querySelector(h).clientHeight+"px"))}))})),window.addEventListener("message",(function(t){var o,s,a,l;if("[inpage] initHeight"===t.data.type){o=document.querySelector(r),a=document.querySelector(c),console.log("[inpage]",t.data.value);var u=t.data.value||400;o.style.setProperty("--varHeight",u+"px"),a&&a.style.setProperty("--top",u+"px")}if("[inpage] close"===t.data.type)for(a=document.querySelector(c),console.log("[inpage] close",a),s=(o=document.querySelector(r))?o.querySelector("iframe"):"",o.className+=" closing",a&&(console.log("set frame to 0 height"),a.style.setProperty("--top","0px")),s.contentWindow.postMessage({type:"[inpage] removeAds"},"*");o.firstChild;)o.firstChild.parentNode.removeChild(o.firstChild);if("overlayIframeReady"===t.data.type){console.log("overlay ready",t.data);var y=t.data.opt.isScroll&&""!==t.data.opt.isScroll?parseInt(t.data.opt.isScroll):0,v=t.data.hasOwnProperty("desktop")||!1,w=t.data.opt.hasOwnProperty("fixedHeight")?t.data.opt.fixedHeight:480;function T(e){(p?window.pageYOffset:m?document.documentElement.scrollTop:document.body.scrollTop)>=y&&(M("open",v,w),window.removeEventListener("scroll",T))}0===y?M("open",v,w):window.addEventListener("scroll",T),t.data.opt.overlayClose&&!d&&(d=!0,document.querySelector(g).addEventListener("click",(function(){q("close"),E("close",v)})))}if("ebar-close"===t.data.type&&_(),"ebar-ready"===t.data.type){console.log("ebar ready",t.data.opt);var k=document.querySelector(f);if(k.style.height=t.data.opt.height+"px",k.style.width=t.data.opt.width+"px",k.style.minWidth="inherit","img"===t.data.opt.type||"video"===t.data.opt.type)!function(e,t,o){var n=document.createElement("e-bar");n.className="ebar-sticky";var s=document.createElement("div"),i=t?'<img style="display: none" hidden src="'+t+'" />':"";s.className="ebar-item",s.addEventListener("click",$),s.addEventListener("mouseover",(function(e){L||(console.log(o,"timer"),S=window.setInterval($,o))})),s.addEventListener("mouseout",(function(){window.clearInterval(S)})),s.innerHTML=i+'<img src="'+e+'">'+function(e){return'<span class="ads-progress"><svg height="60" width="60"><circle cx="30" cy="30" r="20" stroke-width="10" fill="none" style="transition-duration: '+e+'ms" /></svg> </span>'}(o),n.appendChild(s);var a=document.createElement("span");a.className="ebar-close",a.innerHTML='<i class="i-close"></i>',a.addEventListener("click",(e=>{console.log("close ebar"),n.classList.add("ebar--closing"),setTimeout((function(){n.parentElement.removeChild(n)}),500)})),n.appendChild(a),document.querySelector(h).appendChild(n),document.body.classList.add("ebar")}(t.data.opt.smallBanner,t.data.opt.viewSrc,t.data.opt.timer),"video"===t.data.opt.type&&document.body.classList.add("ebar-video");t.data.opt.overlayClose&&!b&&(b=!0,document.querySelector(g).addEventListener("click",_))}"desktopOverlayIframeReady"===t.data.type&&(l=i,document.querySelector(l).style.visibility="visible",document.querySelector(l).style.opacity=1,x("open",l)),"desktopOverlayClose"===t.data.type&&function(e){document.querySelector(e).style.visibility="hidden",document.querySelector(e).style.opacity=0,x("close",e)}(i),"adClose"===t.data.type&&(q("close"),E("close",t.data.hasOwnProperty("desktop")||!1)),"[push-down] setHeight"===t.data.type&&document.querySelector(n).setAttribute("height",t.data.height),"[push-down] ready"===t.data.type&&(e=t.data.visibleRatio||5)}))}window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],e();